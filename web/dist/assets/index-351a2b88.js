function _mergeNamespaces(o,s){for(var a=0;a<s.length;a++){const $=s[a];if(typeof $!="string"&&!Array.isArray($)){for(const j in $)if(j!=="default"&&!(j in o)){const _e=Object.getOwnPropertyDescriptor($,j);_e&&Object.defineProperty(o,j,_e.get?_e:{enumerable:!0,get:()=>$[j]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const j of document.querySelectorAll('link[rel="modulepreload"]'))$(j);new MutationObserver(j=>{for(const _e of j)if(_e.type==="childList")for(const et of _e.addedNodes)et.tagName==="LINK"&&et.rel==="modulepreload"&&$(et)}).observe(document,{childList:!0,subtree:!0});function a(j){const _e={};return j.integrity&&(_e.integrity=j.integrity),j.referrerPolicy&&(_e.referrerPolicy=j.referrerPolicy),j.crossOrigin==="use-credentials"?_e.credentials="include":j.crossOrigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function $(j){if(j.ep)return;j.ep=!0;const _e=a(j);fetch(j.href,_e)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var s=o.default;if(typeof s=="function"){var a=function $(){if(this instanceof $){var j=[null];j.push.apply(j,arguments);var _e=Function.bind.apply(s,j);return new _e}return s.apply(this,arguments)};a.prototype=s.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(o).forEach(function($){var j=Object.getOwnPropertyDescriptor(o,$);Object.defineProperty(a,$,j.get?j:{enumerable:!0,get:function(){return o[$]}})}),a}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(o){return o===null||typeof o!="object"?null:(o=z$2&&o[z$2]||o["@@iterator"],typeof o=="function"?o:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(o,s,a){this.props=o,this.context=s,this.refs=D$1,this.updater=a||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(o,s){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,s,"setState")};E$1.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(o,s,a){this.props=o,this.context=s,this.refs=D$1,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(o,s,a){var $,j={},_e=null,et=null;if(s!=null)for($ in s.ref!==void 0&&(et=s.ref),s.key!==void 0&&(_e=""+s.key),s)J.call(s,$)&&!L$1.hasOwnProperty($)&&(j[$]=s[$]);var tt=arguments.length-2;if(tt===1)j.children=a;else if(1<tt){for(var rt=Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt+2];j.children=rt}if(o&&o.defaultProps)for($ in tt=o.defaultProps,tt)j[$]===void 0&&(j[$]=tt[$]);return{$$typeof:l$3,type:o,key:_e,ref:et,props:j,_owner:K$1.current}}function N$1(o,s){return{$$typeof:l$3,type:o.type,key:s,ref:o.ref,props:o.props,_owner:o._owner}}function O$1(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$3}function escape$1(o){var s={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(a){return s[a]})}var P$1=/\/+/g;function Q$1(o,s){return typeof o=="object"&&o!==null&&o.key!=null?escape$1(""+o.key):s.toString(36)}function R$1(o,s,a,$,j){var _e=typeof o;(_e==="undefined"||_e==="boolean")&&(o=null);var et=!1;if(o===null)et=!0;else switch(_e){case"string":case"number":et=!0;break;case"object":switch(o.$$typeof){case l$3:case n$3:et=!0}}if(et)return et=o,j=j(et),o=$===""?"."+Q$1(et,0):$,I$1(j)?(a="",o!=null&&(a=o.replace(P$1,"$&/")+"/"),R$1(j,s,a,"",function(nt){return nt})):j!=null&&(O$1(j)&&(j=N$1(j,a+(!j.key||et&&et.key===j.key?"":(""+j.key).replace(P$1,"$&/")+"/")+o)),s.push(j)),1;if(et=0,$=$===""?".":$+":",I$1(o))for(var tt=0;tt<o.length;tt++){_e=o[tt];var rt=$+Q$1(_e,tt);et+=R$1(_e,s,a,rt,j)}else if(rt=A$2(o),typeof rt=="function")for(o=rt.call(o),tt=0;!(_e=o.next()).done;)_e=_e.value,rt=$+Q$1(_e,tt++),et+=R$1(_e,s,a,rt,j);else if(_e==="object")throw s=String(o),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return et}function S$1(o,s,a){if(o==null)return o;var $=[],j=0;return R$1(o,$,"","",function(_e){return s.call(a,_e,j++)}),$}function T$1(o){if(o._status===-1){var s=o._result;s=s(),s.then(function(a){(o._status===0||o._status===-1)&&(o._status=1,o._result=a)},function(a){(o._status===0||o._status===-1)&&(o._status=2,o._result=a)}),o._status===-1&&(o._status=0,o._result=s)}if(o._status===1)return o._result.default;throw o._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(o,s,a){S$1(o,function(){s.apply(this,arguments)},a)},count:function(o){var s=0;return S$1(o,function(){s++}),s},toArray:function(o){return S$1(o,function(s){return s})||[]},only:function(o){if(!O$1(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(o,s,a){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var $=C$1({},o.props),j=o.key,_e=o.ref,et=o._owner;if(s!=null){if(s.ref!==void 0&&(_e=s.ref,et=K$1.current),s.key!==void 0&&(j=""+s.key),o.type&&o.type.defaultProps)var tt=o.type.defaultProps;for(rt in s)J.call(s,rt)&&!L$1.hasOwnProperty(rt)&&($[rt]=s[rt]===void 0&&tt!==void 0?tt[rt]:s[rt])}var rt=arguments.length-2;if(rt===1)$.children=a;else if(1<rt){tt=Array(rt);for(var nt=0;nt<rt;nt++)tt[nt]=arguments[nt+2];$.children=tt}return{$$typeof:l$3,type:o.type,key:j,ref:_e,props:$,_owner:et}};react_production_min.createContext=function(o){return o={$$typeof:u$1,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t$2,_context:o},o.Consumer=o};react_production_min.createElement=M$1;react_production_min.createFactory=function(o){var s=M$1.bind(null,o);return s.type=o,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$3,render:o}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(o){return{$$typeof:y$1,_payload:{_status:-1,_result:o},_init:T$1}};react_production_min.memo=function(o,s){return{$$typeof:x$1,type:o,compare:s===void 0?null:s}};react_production_min.startTransition=function(o){var s=V$1.transition;V$1.transition={};try{o()}finally{V$1.transition=s}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(o,s){return U$1.current.useCallback(o,s)};react_production_min.useContext=function(o){return U$1.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$1.current.useDeferredValue(o)};react_production_min.useEffect=function(o,s){return U$1.current.useEffect(o,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(o,s,a){return U$1.current.useImperativeHandle(o,s,a)};react_production_min.useInsertionEffect=function(o,s){return U$1.current.useInsertionEffect(o,s)};react_production_min.useLayoutEffect=function(o,s){return U$1.current.useLayoutEffect(o,s)};react_production_min.useMemo=function(o,s){return U$1.current.useMemo(o,s)};react_production_min.useReducer=function(o,s,a){return U$1.current.useReducer(o,s,a)};react_production_min.useRef=function(o){return U$1.current.useRef(o)};react_production_min.useState=function(o){return U$1.current.useState(o)};react_production_min.useSyncExternalStore=function(o,s,a){return U$1.current.useSyncExternalStore(o,s,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$2=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(o,s,a){var $,j={},_e=null,et=null;a!==void 0&&(_e=""+a),s.key!==void 0&&(_e=""+s.key),s.ref!==void 0&&(et=s.ref);for($ in s)m$3.call(s,$)&&!p$3.hasOwnProperty($)&&(j[$]=s[$]);if(o&&o.defaultProps)for($ in s=o.defaultProps,s)j[$]===void 0&&(j[$]=s[$]);return{$$typeof:k$2,type:o,key:_e,ref:et,props:j,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;const index="",App$1="",bitMethods={getBit(o){return this.data[getSlot(o)]&1<<getShift(o)?1:0},setBit(o){this.data[getSlot(o)]|=1<<getShift(o)},clearBit(o){this.data[getSlot(o)]&=~(1<<getShift(o))},toggleBit(o){this.data[getSlot(o)]^=1<<getShift(o)},getBitXY(o,s){return o>=this.width||s>=this.height?0:this.getBit(s*this.width+o)},setBitXY(o,s){this.setBit(s*this.width+o)},clearBitXY(o,s){this.clearBit(s*this.width+o)},toggleBitXY(o,s){this.toggleBit(s*this.width+o)}};function getSlot(o){return o>>3}function getShift(o){return 7-(o&7)}function setBitMethods(o){for(const s in bitMethods)o.prototype[s]=bitMethods[s]}function checkProcessable(o,s={}){let{bitDepth:a,alpha:$,colorModel:j,components:_e,channels:et}=s;if(typeof o!="string"||o.length===0)throw new TypeError("processName must be a string");if(a&&(Array.isArray(a)||(a=[a]),!a.includes(this.bitDepth)))throw new TypeError(`The process: ${o} can only be applied if bit depth is in: ${a}`);if($&&(Array.isArray($)||($=[$]),!$.includes(this.alpha)))throw new TypeError(`The process: ${o} can only be applied if alpha is in: ${$}`);if(j&&(Array.isArray(j)||(j=[j]),!j.includes(this.colorModel)))throw new TypeError(`The process: ${o} can only be applied if color model is in: ${j}`);if(_e&&(Array.isArray(_e)||(_e=[_e]),!_e.includes(this.components))){let tt=`The process: ${o} can only be applied if the number of components is in: ${_e}`;throw _e.length===1&&_e[0]===1?new TypeError(`${tt}.\rYou should transform your image using "image.grey()" before applying the algorithm.`):new TypeError(tt)}if(et&&(Array.isArray(et)||(et=[et]),!et.includes(this.channels)))throw new TypeError(`The process: ${o} can only be applied if the number of channels is in: ${et}`)}function createBlob(o,s){o=o||[],s=s||{},typeof s=="string"&&(s={type:s});try{return new Blob(o,s)}catch(_e){if(_e.name!=="TypeError")throw _e;for(var a=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,$=new a,j=0;j<o.length;j+=1)$.append(o[j]);return $.getBlob(s.type)}}function dataURLToBlob(o){var s=o.match(/data:([^;]+)/)[1],a=o.replace(/^[^,]+,/,""),$=binaryStringToArrayBuffer(atob(a));return createBlob([$],{type:s})}function canvasToBlob(o,s,a){return typeof o.toBlob=="function"?new Promise(function($){o.toBlob($,s,a)}):Promise.resolve(dataURLToBlob(o.toDataURL(s,a)))}function binaryStringToArrayBuffer(o){for(var s=o.length,a=new ArrayBuffer(s),$=new Uint8Array(a),j=-1;++j<s;)$[j]=o.charCodeAt(j);return a}(function(o){if(o.TextEncoder&&o.TextDecoder)return!1;function s($="utf-8"){if($!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${$}') is invalid.`)}Object.defineProperty(s.prototype,"encoding",{value:"utf-8"}),s.prototype.encode=function($,j={stream:!1}){if(j.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let _e=0;const et=$.length;let tt=0,rt=Math.max(32,et+(et>>1)+7),nt=new Uint8Array(rt>>3<<3);for(;_e<et;){let it=$.charCodeAt(_e++);if(it>=55296&&it<=56319){if(_e<et){const ot=$.charCodeAt(_e);(ot&64512)===56320&&(++_e,it=((it&1023)<<10)+(ot&1023)+65536)}if(it>=55296&&it<=56319)continue}if(tt+4>nt.length){rt+=8,rt*=1+_e/$.length*2,rt=rt>>3<<3;const ot=new Uint8Array(rt);ot.set(nt),nt=ot}if(it&4294967168)if(!(it&4294965248))nt[tt++]=it>>6&31|192;else if(!(it&4294901760))nt[tt++]=it>>12&15|224,nt[tt++]=it>>6&63|128;else if(!(it&4292870144))nt[tt++]=it>>18&7|240,nt[tt++]=it>>12&63|128,nt[tt++]=it>>6&63|128;else continue;else{nt[tt++]=it;continue}nt[tt++]=it&63|128}return nt.slice(0,tt)};function a($="utf-8",j={fatal:!1}){if($!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${$}') is invalid.`);if(j.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(a.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(a.prototype,"fatal",{value:!1}),Object.defineProperty(a.prototype,"ignoreBOM",{value:!1}),a.prototype.decode=function($,j={stream:!1}){if(j.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const _e=new Uint8Array($);let et=0;const tt=_e.length,rt=[];for(;et<tt;){const nt=_e[et++];if(nt===0)break;if(!(nt&128))rt.push(nt);else if((nt&224)===192){const it=_e[et++]&63;rt.push((nt&31)<<6|it)}else if((nt&240)===224){const it=_e[et++]&63,ot=_e[et++]&63;rt.push((nt&31)<<12|it<<6|ot)}else if((nt&248)===240){const it=_e[et++]&63,ot=_e[et++]&63,st=_e[et++]&63;let at=(nt&7)<<18|it<<12|ot<<6|st;at>65535&&(at-=65536,rt.push(at>>>10&1023|55296),at=56320|at&1023),rt.push(at)}}return String.fromCharCode.apply(null,rt)},o.TextEncoder=s,o.TextDecoder=a})(typeof window<"u"?window:typeof self<"u"?self:globalThis);function decode$5(o,s="utf8"){return new TextDecoder(s).decode(o)}const encoder$1=new TextEncoder;function encode$3(o){return encoder$1.encode(o)}const defaultByteLength$1=1024*8,hostBigEndian=(()=>{const o=new Uint8Array(4),s=new Uint32Array(o.buffer);return!((s[0]=1)&o[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};let IOBuffer$4=class Zn{constructor(s=defaultByteLength$1,a={}){let $=!1;typeof s=="number"?s=new ArrayBuffer(s):($=!0,this.lastWrittenByte=s.byteLength);const j=a.offset?a.offset>>>0:0,_e=s.byteLength-j;let et=j;(ArrayBuffer.isView(s)||s instanceof Zn)&&(s.byteLength!==s.buffer.byteLength&&(et=s.byteOffset+j),s=s.buffer),$?this.lastWrittenByte=_e:this.lastWrittenByte=0,this.buffer=s,this.length=_e,this.byteLength=_e,this.byteOffset=et,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,et,_e),this._mark=0,this._marks=[]}available(s=1){return this.offset+s<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(s=1){return this.offset+=s,this}back(s=1){return this.offset-=s,this}seek(s){return this.offset=s,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const s=this._marks.pop();if(s===void 0)throw new Error("Mark stack empty");return this.seek(s),this}rewind(){return this.offset=0,this}ensureAvailable(s=1){if(!this.available(s)){const $=(this.offset+s)*2,j=new Uint8Array($);j.set(new Uint8Array(this.buffer)),this.buffer=j.buffer,this.length=this.byteLength=$,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(s=1){return this.readArray(s,"uint8")}readArray(s,a){const $=typedArrays[a].BYTES_PER_ELEMENT*s,j=this.byteOffset+this.offset,_e=this.buffer.slice(j,j+$);if(this.littleEndian===hostBigEndian&&a!=="uint8"&&a!=="int8"){const tt=new Uint8Array(this.buffer.slice(j,j+$));tt.reverse();const rt=new typedArrays[a](tt.buffer);return this.offset+=$,rt.reverse(),rt}const et=new typedArrays[a](_e);return this.offset+=$,et}readInt16(){const s=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,s}readUint16(){const s=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,s}readInt32(){const s=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,s}readUint32(){const s=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,s}readFloat32(){const s=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,s}readFloat64(){const s=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,s}readBigInt64(){const s=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,s}readBigUint64(){const s=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,s}readChar(){return String.fromCharCode(this.readInt8())}readChars(s=1){let a="";for(let $=0;$<s;$++)a+=this.readChar();return a}readUtf8(s=1){return decode$5(this.readBytes(s))}decodeText(s=1,a="utf-8"){return decode$5(this.readBytes(s),a)}writeBoolean(s){return this.writeUint8(s?255:0),this}writeInt8(s){return this.ensureAvailable(1),this._data.setInt8(this.offset++,s),this._updateLastWrittenByte(),this}writeUint8(s){return this.ensureAvailable(1),this._data.setUint8(this.offset++,s),this._updateLastWrittenByte(),this}writeByte(s){return this.writeUint8(s)}writeBytes(s){this.ensureAvailable(s.length);for(let a=0;a<s.length;a++)this._data.setUint8(this.offset++,s[a]);return this._updateLastWrittenByte(),this}writeInt16(s){return this.ensureAvailable(2),this._data.setInt16(this.offset,s,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(s){return this.ensureAvailable(2),this._data.setUint16(this.offset,s,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(s){return this.ensureAvailable(4),this._data.setInt32(this.offset,s,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(s){return this.ensureAvailable(4),this._data.setUint32(this.offset,s,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(s){return this.ensureAvailable(4),this._data.setFloat32(this.offset,s,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(s){return this.ensureAvailable(8),this._data.setFloat64(this.offset,s,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(s){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,s,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(s){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,s,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(s){return this.writeUint8(s.charCodeAt(0))}writeChars(s){for(let a=0;a<s.length;a++)this.writeUint8(s.charCodeAt(a));return this}writeUtf8(s){return this.writeBytes(encode$3(s))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};const IOBuffer$5=Object.freeze(Object.defineProperty({__proto__:null,IOBuffer:IOBuffer$4},Symbol.toStringTag,{value:"Module"})),require$$0$4=getAugmentedNamespace(IOBuffer$5);var constants$4={BITMAPV5HEADER:{LogicalColorSpace:{LCS_CALIBRATED_RGB:0,LCS_sRGB:1934772034,LCS_WINDOWS_COLOR_SPACE:1466527264},Compression:{BI_RGB:0,BI_RLE8:1,BI_RLE4:2,BI_BITFIELDS:3,BI_JPEG:4,BI_PNG:5,BI_CMYK:11,BI_CMYKRLE8:12,BI_CMYKRLE4:13},GamutMappingIntent:{LCS_GM_ABS_COLORIMETRIC:8,LCS_GM_BUSINESS:1,LCS_GM_GRAPHICS:2,LCS_GM_IMAGES:4}}};const{IOBuffer:IOBuffer$3}=require$$0$4,constants$3=constants$4,tableLeft=[];for(let o=0;o<=8;o++)tableLeft.push(255<<o);class BMPEncoder extends IOBuffer$3{constructor(s){if(s.bitDepth!==1)throw new Error("Only bitDepth of 1 is supported");if(!s.height||!s.width)throw new Error("ImageData width and height are required");super(s.data),this.width=s.width,this.height=s.height,this.bitDepth=s.bitDepth,this.channels=s.channels,this.components=s.components}encode(){this.encoded=new IOBuffer$3,this.encoded.skip(14),this.writeBitmapV5Header(),this.writeColorTable();const s=this.encoded.offset;return this.writePixelArray(),this.encoded.rewind(),this.writeBitmapFileHeader(s),this.encoded.toArray()}writePixelArray(){let s=this.encoded;const a=Math.floor((this.bitDepth*this.width+31)/32)*4,$=Math.ceil(this.bitDepth*this.width/8),j=a-$,_e=this.bitDepth*this.width%8,et=_e===0?0:8-_e,tt=a*this.height;let rt,nt,it=0,ot=0,st=8;s.mark(),nt=this.readUint8();for(let at=this.height-1;at>=0;at--){const lt=at===0;s.reset(),s.skip(at*a);for(let ft=0;ft<$;ft++){const pt=ft===$-1;ot<=et&&pt?(s.writeByte(nt<<ot),(et===0||et===ot)&&!lt&&(rt=nt,nt=this.readByte())):ot===0?(rt=nt,nt=this.readUint8(),s.writeByte(rt)):(rt=nt,nt=this.readUint8(),s.writeByte(rt<<ot&tableLeft[ot]|nt>>st)),pt&&(it+=_e||0,s.skip(j),ot=it%8,st=8-ot)}}a>$&&(s.reset(),s.skip(tt-1),s.writeUint8(0))}writeColorTable(){this.encoded.writeUint32(0).writeUint32(16777215)}writeBitmapFileHeader(s){this.encoded.writeChars("BM").writeInt32(this.encoded.lastWrittenByte).writeUint16(0).writeUint16(0).writeUint32(s)}writeBitmapV5Header(){const a=Math.floor((this.bitDepth*this.width+31)/32)*4*this.height;this.encoded.writeUint32(124).writeInt32(this.width).writeInt32(this.height).writeUint16(1).writeUint16(this.bitDepth).writeUint32(constants$3.BITMAPV5HEADER.Compression.BI_RGB).writeUint32(a).writeInt32(0).writeInt32(0).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(4278190080).writeUint32(16711680).writeUint32(65280).writeUint32(255).writeUint32(constants$3.BITMAPV5HEADER.LogicalColorSpace.LCS_sRGB).skip(36).skip(12).writeUint32(constants$3.BITMAPV5HEADER.GamutMappingIntent.LCS_GM_IMAGES).skip(12)}}var BMPEncoder_1=BMPEncoder;const Encoder=BMPEncoder_1;var encode$2=function(s){return new Encoder(s).encode()};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(o){let s=o.length;for(;--s>=0;)o[s]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(o,s,a,$,j){this.static_tree=o,this.extra_bits=s,this.extra_base=a,this.elems=$,this.max_length=j,this.has_stree=o&&o.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(o,s){this.dyn_tree=o,this.max_code=0,this.stat_desc=s}const d_code=o=>o<256?_dist_code[o]:_dist_code[256+(o>>>7)],put_short=(o,s)=>{o.pending_buf[o.pending++]=s&255,o.pending_buf[o.pending++]=s>>>8&255},send_bits=(o,s,a)=>{o.bi_valid>Buf_size-a?(o.bi_buf|=s<<o.bi_valid&65535,put_short(o,o.bi_buf),o.bi_buf=s>>Buf_size-o.bi_valid,o.bi_valid+=a-Buf_size):(o.bi_buf|=s<<o.bi_valid&65535,o.bi_valid+=a)},send_code=(o,s,a)=>{send_bits(o,a[s*2],a[s*2+1])},bi_reverse=(o,s)=>{let a=0;do a|=o&1,o>>>=1,a<<=1;while(--s>0);return a>>>1},bi_flush=o=>{o.bi_valid===16?(put_short(o,o.bi_buf),o.bi_buf=0,o.bi_valid=0):o.bi_valid>=8&&(o.pending_buf[o.pending++]=o.bi_buf&255,o.bi_buf>>=8,o.bi_valid-=8)},gen_bitlen=(o,s)=>{const a=s.dyn_tree,$=s.max_code,j=s.stat_desc.static_tree,_e=s.stat_desc.has_stree,et=s.stat_desc.extra_bits,tt=s.stat_desc.extra_base,rt=s.stat_desc.max_length;let nt,it,ot,st,at,lt,ft=0;for(st=0;st<=MAX_BITS$1;st++)o.bl_count[st]=0;for(a[o.heap[o.heap_max]*2+1]=0,nt=o.heap_max+1;nt<HEAP_SIZE$1;nt++)it=o.heap[nt],st=a[a[it*2+1]*2+1]+1,st>rt&&(st=rt,ft++),a[it*2+1]=st,!(it>$)&&(o.bl_count[st]++,at=0,it>=tt&&(at=et[it-tt]),lt=a[it*2],o.opt_len+=lt*(st+at),_e&&(o.static_len+=lt*(j[it*2+1]+at)));if(ft!==0){do{for(st=rt-1;o.bl_count[st]===0;)st--;o.bl_count[st]--,o.bl_count[st+1]+=2,o.bl_count[rt]--,ft-=2}while(ft>0);for(st=rt;st!==0;st--)for(it=o.bl_count[st];it!==0;)ot=o.heap[--nt],!(ot>$)&&(a[ot*2+1]!==st&&(o.opt_len+=(st-a[ot*2+1])*a[ot*2],a[ot*2+1]=st),it--)}},gen_codes=(o,s,a)=>{const $=new Array(MAX_BITS$1+1);let j=0,_e,et;for(_e=1;_e<=MAX_BITS$1;_e++)j=j+a[_e-1]<<1,$[_e]=j;for(et=0;et<=s;et++){let tt=o[et*2+1];tt!==0&&(o[et*2]=bi_reverse($[tt]++,tt))}},tr_static_init=()=>{let o,s,a,$,j;const _e=new Array(MAX_BITS$1+1);for(a=0,$=0;$<LENGTH_CODES$1-1;$++)for(base_length[$]=a,o=0;o<1<<extra_lbits[$];o++)_length_code[a++]=$;for(_length_code[a-1]=$,j=0,$=0;$<16;$++)for(base_dist[$]=j,o=0;o<1<<extra_dbits[$];o++)_dist_code[j++]=$;for(j>>=7;$<D_CODES$1;$++)for(base_dist[$]=j<<7,o=0;o<1<<extra_dbits[$]-7;o++)_dist_code[256+j++]=$;for(s=0;s<=MAX_BITS$1;s++)_e[s]=0;for(o=0;o<=143;)static_ltree[o*2+1]=8,o++,_e[8]++;for(;o<=255;)static_ltree[o*2+1]=9,o++,_e[9]++;for(;o<=279;)static_ltree[o*2+1]=7,o++,_e[7]++;for(;o<=287;)static_ltree[o*2+1]=8,o++,_e[8]++;for(gen_codes(static_ltree,L_CODES$1+1,_e),o=0;o<D_CODES$1;o++)static_dtree[o*2+1]=5,static_dtree[o*2]=bi_reverse(o,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=o=>{let s;for(s=0;s<L_CODES$1;s++)o.dyn_ltree[s*2]=0;for(s=0;s<D_CODES$1;s++)o.dyn_dtree[s*2]=0;for(s=0;s<BL_CODES$1;s++)o.bl_tree[s*2]=0;o.dyn_ltree[END_BLOCK*2]=1,o.opt_len=o.static_len=0,o.sym_next=o.matches=0},bi_windup=o=>{o.bi_valid>8?put_short(o,o.bi_buf):o.bi_valid>0&&(o.pending_buf[o.pending++]=o.bi_buf),o.bi_buf=0,o.bi_valid=0},smaller=(o,s,a,$)=>{const j=s*2,_e=a*2;return o[j]<o[_e]||o[j]===o[_e]&&$[s]<=$[a]},pqdownheap=(o,s,a)=>{const $=o.heap[a];let j=a<<1;for(;j<=o.heap_len&&(j<o.heap_len&&smaller(s,o.heap[j+1],o.heap[j],o.depth)&&j++,!smaller(s,$,o.heap[j],o.depth));)o.heap[a]=o.heap[j],a=j,j<<=1;o.heap[a]=$},compress_block=(o,s,a)=>{let $,j,_e=0,et,tt;if(o.sym_next!==0)do $=o.pending_buf[o.sym_buf+_e++]&255,$+=(o.pending_buf[o.sym_buf+_e++]&255)<<8,j=o.pending_buf[o.sym_buf+_e++],$===0?send_code(o,j,s):(et=_length_code[j],send_code(o,et+LITERALS$1+1,s),tt=extra_lbits[et],tt!==0&&(j-=base_length[et],send_bits(o,j,tt)),$--,et=d_code($),send_code(o,et,a),tt=extra_dbits[et],tt!==0&&($-=base_dist[et],send_bits(o,$,tt)));while(_e<o.sym_next);send_code(o,END_BLOCK,s)},build_tree=(o,s)=>{const a=s.dyn_tree,$=s.stat_desc.static_tree,j=s.stat_desc.has_stree,_e=s.stat_desc.elems;let et,tt,rt=-1,nt;for(o.heap_len=0,o.heap_max=HEAP_SIZE$1,et=0;et<_e;et++)a[et*2]!==0?(o.heap[++o.heap_len]=rt=et,o.depth[et]=0):a[et*2+1]=0;for(;o.heap_len<2;)nt=o.heap[++o.heap_len]=rt<2?++rt:0,a[nt*2]=1,o.depth[nt]=0,o.opt_len--,j&&(o.static_len-=$[nt*2+1]);for(s.max_code=rt,et=o.heap_len>>1;et>=1;et--)pqdownheap(o,a,et);nt=_e;do et=o.heap[1],o.heap[1]=o.heap[o.heap_len--],pqdownheap(o,a,1),tt=o.heap[1],o.heap[--o.heap_max]=et,o.heap[--o.heap_max]=tt,a[nt*2]=a[et*2]+a[tt*2],o.depth[nt]=(o.depth[et]>=o.depth[tt]?o.depth[et]:o.depth[tt])+1,a[et*2+1]=a[tt*2+1]=nt,o.heap[1]=nt++,pqdownheap(o,a,1);while(o.heap_len>=2);o.heap[--o.heap_max]=o.heap[1],gen_bitlen(o,s),gen_codes(a,rt,o.bl_count)},scan_tree=(o,s,a)=>{let $,j=-1,_e,et=s[0*2+1],tt=0,rt=7,nt=4;for(et===0&&(rt=138,nt=3),s[(a+1)*2+1]=65535,$=0;$<=a;$++)_e=et,et=s[($+1)*2+1],!(++tt<rt&&_e===et)&&(tt<nt?o.bl_tree[_e*2]+=tt:_e!==0?(_e!==j&&o.bl_tree[_e*2]++,o.bl_tree[REP_3_6*2]++):tt<=10?o.bl_tree[REPZ_3_10*2]++:o.bl_tree[REPZ_11_138*2]++,tt=0,j=_e,et===0?(rt=138,nt=3):_e===et?(rt=6,nt=3):(rt=7,nt=4))},send_tree=(o,s,a)=>{let $,j=-1,_e,et=s[0*2+1],tt=0,rt=7,nt=4;for(et===0&&(rt=138,nt=3),$=0;$<=a;$++)if(_e=et,et=s[($+1)*2+1],!(++tt<rt&&_e===et)){if(tt<nt)do send_code(o,_e,o.bl_tree);while(--tt!==0);else _e!==0?(_e!==j&&(send_code(o,_e,o.bl_tree),tt--),send_code(o,REP_3_6,o.bl_tree),send_bits(o,tt-3,2)):tt<=10?(send_code(o,REPZ_3_10,o.bl_tree),send_bits(o,tt-3,3)):(send_code(o,REPZ_11_138,o.bl_tree),send_bits(o,tt-11,7));tt=0,j=_e,et===0?(rt=138,nt=3):_e===et?(rt=6,nt=3):(rt=7,nt=4)}},build_bl_tree=o=>{let s;for(scan_tree(o,o.dyn_ltree,o.l_desc.max_code),scan_tree(o,o.dyn_dtree,o.d_desc.max_code),build_tree(o,o.bl_desc),s=BL_CODES$1-1;s>=3&&o.bl_tree[bl_order[s]*2+1]===0;s--);return o.opt_len+=3*(s+1)+5+5+4,s},send_all_trees=(o,s,a,$)=>{let j;for(send_bits(o,s-257,5),send_bits(o,a-1,5),send_bits(o,$-4,4),j=0;j<$;j++)send_bits(o,o.bl_tree[bl_order[j]*2+1],3);send_tree(o,o.dyn_ltree,s-1),send_tree(o,o.dyn_dtree,a-1)},detect_data_type=o=>{let s=4093624447,a;for(a=0;a<=31;a++,s>>>=1)if(s&1&&o.dyn_ltree[a*2]!==0)return Z_BINARY;if(o.dyn_ltree[9*2]!==0||o.dyn_ltree[10*2]!==0||o.dyn_ltree[13*2]!==0)return Z_TEXT;for(a=32;a<LITERALS$1;a++)if(o.dyn_ltree[a*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=o=>{static_init_done||(tr_static_init(),static_init_done=!0),o.l_desc=new TreeDesc(o.dyn_ltree,static_l_desc),o.d_desc=new TreeDesc(o.dyn_dtree,static_d_desc),o.bl_desc=new TreeDesc(o.bl_tree,static_bl_desc),o.bi_buf=0,o.bi_valid=0,init_block(o)},_tr_stored_block$1=(o,s,a,$)=>{send_bits(o,(STORED_BLOCK<<1)+($?1:0),3),bi_windup(o),put_short(o,a),put_short(o,~a),a&&o.pending_buf.set(o.window.subarray(s,s+a),o.pending),o.pending+=a},_tr_align$1=o=>{send_bits(o,STATIC_TREES<<1,3),send_code(o,END_BLOCK,static_ltree),bi_flush(o)},_tr_flush_block$1=(o,s,a,$)=>{let j,_e,et=0;o.level>0?(o.strm.data_type===Z_UNKNOWN$1&&(o.strm.data_type=detect_data_type(o)),build_tree(o,o.l_desc),build_tree(o,o.d_desc),et=build_bl_tree(o),j=o.opt_len+3+7>>>3,_e=o.static_len+3+7>>>3,_e<=j&&(j=_e)):j=_e=a+5,a+4<=j&&s!==-1?_tr_stored_block$1(o,s,a,$):o.strategy===Z_FIXED$1||_e===j?(send_bits(o,(STATIC_TREES<<1)+($?1:0),3),compress_block(o,static_ltree,static_dtree)):(send_bits(o,(DYN_TREES<<1)+($?1:0),3),send_all_trees(o,o.l_desc.max_code+1,o.d_desc.max_code+1,et+1),compress_block(o,o.dyn_ltree,o.dyn_dtree)),init_block(o),$&&bi_windup(o)},_tr_tally$1=(o,s,a)=>(o.pending_buf[o.sym_buf+o.sym_next++]=s,o.pending_buf[o.sym_buf+o.sym_next++]=s>>8,o.pending_buf[o.sym_buf+o.sym_next++]=a,s===0?o.dyn_ltree[a*2]++:(o.matches++,s--,o.dyn_ltree[(_length_code[a]+LITERALS$1+1)*2]++,o.dyn_dtree[d_code(s)*2]++),o.sym_next===o.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(o,s,a,$)=>{let j=o&65535|0,_e=o>>>16&65535|0,et=0;for(;a!==0;){et=a>2e3?2e3:a,a-=et;do j=j+s[$++]|0,_e=_e+j|0;while(--et);j%=65521,_e%=65521}return j|_e<<16|0};var adler32_1=adler32;const makeTable=()=>{let o,s=[];for(var a=0;a<256;a++){o=a;for(var $=0;$<8;$++)o=o&1?3988292384^o>>>1:o>>>1;s[a]=o}return s},crcTable$1=new Uint32Array(makeTable()),crc32=(o,s,a,$)=>{const j=crcTable$1,_e=$+a;o^=-1;for(let et=$;et<_e;et++)o=o>>>8^j[(o^s[et])&255];return o^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(o,s)=>(o.msg=messages[s],s),rank=o=>o*2-(o>4?9:0),zero=o=>{let s=o.length;for(;--s>=0;)o[s]=0},slide_hash=o=>{let s,a,$,j=o.w_size;s=o.hash_size,$=s;do a=o.head[--$],o.head[$]=a>=j?a-j:0;while(--s);s=j,$=s;do a=o.prev[--$],o.prev[$]=a>=j?a-j:0;while(--s)};let HASH_ZLIB=(o,s,a)=>(s<<o.hash_shift^a)&o.hash_mask,HASH=HASH_ZLIB;const flush_pending=o=>{const s=o.state;let a=s.pending;a>o.avail_out&&(a=o.avail_out),a!==0&&(o.output.set(s.pending_buf.subarray(s.pending_out,s.pending_out+a),o.next_out),o.next_out+=a,s.pending_out+=a,o.total_out+=a,o.avail_out-=a,s.pending-=a,s.pending===0&&(s.pending_out=0))},flush_block_only=(o,s)=>{_tr_flush_block(o,o.block_start>=0?o.block_start:-1,o.strstart-o.block_start,s),o.block_start=o.strstart,flush_pending(o.strm)},put_byte=(o,s)=>{o.pending_buf[o.pending++]=s},putShortMSB=(o,s)=>{o.pending_buf[o.pending++]=s>>>8&255,o.pending_buf[o.pending++]=s&255},read_buf=(o,s,a,$)=>{let j=o.avail_in;return j>$&&(j=$),j===0?0:(o.avail_in-=j,s.set(o.input.subarray(o.next_in,o.next_in+j),a),o.state.wrap===1?o.adler=adler32_1(o.adler,s,j,a):o.state.wrap===2&&(o.adler=crc32_1(o.adler,s,j,a)),o.next_in+=j,o.total_in+=j,j)},longest_match=(o,s)=>{let a=o.max_chain_length,$=o.strstart,j,_e,et=o.prev_length,tt=o.nice_match;const rt=o.strstart>o.w_size-MIN_LOOKAHEAD?o.strstart-(o.w_size-MIN_LOOKAHEAD):0,nt=o.window,it=o.w_mask,ot=o.prev,st=o.strstart+MAX_MATCH;let at=nt[$+et-1],lt=nt[$+et];o.prev_length>=o.good_match&&(a>>=2),tt>o.lookahead&&(tt=o.lookahead);do if(j=s,!(nt[j+et]!==lt||nt[j+et-1]!==at||nt[j]!==nt[$]||nt[++j]!==nt[$+1])){$+=2,j++;do;while(nt[++$]===nt[++j]&&nt[++$]===nt[++j]&&nt[++$]===nt[++j]&&nt[++$]===nt[++j]&&nt[++$]===nt[++j]&&nt[++$]===nt[++j]&&nt[++$]===nt[++j]&&nt[++$]===nt[++j]&&$<st);if(_e=MAX_MATCH-(st-$),$=st-MAX_MATCH,_e>et){if(o.match_start=s,et=_e,_e>=tt)break;at=nt[$+et-1],lt=nt[$+et]}}while((s=ot[s&it])>rt&&--a!==0);return et<=o.lookahead?et:o.lookahead},fill_window=o=>{const s=o.w_size;let a,$,j;do{if($=o.window_size-o.lookahead-o.strstart,o.strstart>=s+(s-MIN_LOOKAHEAD)&&(o.window.set(o.window.subarray(s,s+s-$),0),o.match_start-=s,o.strstart-=s,o.block_start-=s,o.insert>o.strstart&&(o.insert=o.strstart),slide_hash(o),$+=s),o.strm.avail_in===0)break;if(a=read_buf(o.strm,o.window,o.strstart+o.lookahead,$),o.lookahead+=a,o.lookahead+o.insert>=MIN_MATCH)for(j=o.strstart-o.insert,o.ins_h=o.window[j],o.ins_h=HASH(o,o.ins_h,o.window[j+1]);o.insert&&(o.ins_h=HASH(o,o.ins_h,o.window[j+MIN_MATCH-1]),o.prev[j&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=j,j++,o.insert--,!(o.lookahead+o.insert<MIN_MATCH)););}while(o.lookahead<MIN_LOOKAHEAD&&o.strm.avail_in!==0)},deflate_stored=(o,s)=>{let a=o.pending_buf_size-5>o.w_size?o.w_size:o.pending_buf_size-5,$,j,_e,et=0,tt=o.strm.avail_in;do{if($=65535,_e=o.bi_valid+42>>3,o.strm.avail_out<_e||(_e=o.strm.avail_out-_e,j=o.strstart-o.block_start,$>j+o.strm.avail_in&&($=j+o.strm.avail_in),$>_e&&($=_e),$<a&&($===0&&s!==Z_FINISH$3||s===Z_NO_FLUSH$2||$!==j+o.strm.avail_in)))break;et=s===Z_FINISH$3&&$===j+o.strm.avail_in?1:0,_tr_stored_block(o,0,0,et),o.pending_buf[o.pending-4]=$,o.pending_buf[o.pending-3]=$>>8,o.pending_buf[o.pending-2]=~$,o.pending_buf[o.pending-1]=~$>>8,flush_pending(o.strm),j&&(j>$&&(j=$),o.strm.output.set(o.window.subarray(o.block_start,o.block_start+j),o.strm.next_out),o.strm.next_out+=j,o.strm.avail_out-=j,o.strm.total_out+=j,o.block_start+=j,$-=j),$&&(read_buf(o.strm,o.strm.output,o.strm.next_out,$),o.strm.next_out+=$,o.strm.avail_out-=$,o.strm.total_out+=$)}while(et===0);return tt-=o.strm.avail_in,tt&&(tt>=o.w_size?(o.matches=2,o.window.set(o.strm.input.subarray(o.strm.next_in-o.w_size,o.strm.next_in),0),o.strstart=o.w_size,o.insert=o.strstart):(o.window_size-o.strstart<=tt&&(o.strstart-=o.w_size,o.window.set(o.window.subarray(o.w_size,o.w_size+o.strstart),0),o.matches<2&&o.matches++,o.insert>o.strstart&&(o.insert=o.strstart)),o.window.set(o.strm.input.subarray(o.strm.next_in-tt,o.strm.next_in),o.strstart),o.strstart+=tt,o.insert+=tt>o.w_size-o.insert?o.w_size-o.insert:tt),o.block_start=o.strstart),o.high_water<o.strstart&&(o.high_water=o.strstart),et?BS_FINISH_DONE:s!==Z_NO_FLUSH$2&&s!==Z_FINISH$3&&o.strm.avail_in===0&&o.strstart===o.block_start?BS_BLOCK_DONE:(_e=o.window_size-o.strstart,o.strm.avail_in>_e&&o.block_start>=o.w_size&&(o.block_start-=o.w_size,o.strstart-=o.w_size,o.window.set(o.window.subarray(o.w_size,o.w_size+o.strstart),0),o.matches<2&&o.matches++,_e+=o.w_size,o.insert>o.strstart&&(o.insert=o.strstart)),_e>o.strm.avail_in&&(_e=o.strm.avail_in),_e&&(read_buf(o.strm,o.window,o.strstart,_e),o.strstart+=_e,o.insert+=_e>o.w_size-o.insert?o.w_size-o.insert:_e),o.high_water<o.strstart&&(o.high_water=o.strstart),_e=o.bi_valid+42>>3,_e=o.pending_buf_size-_e>65535?65535:o.pending_buf_size-_e,a=_e>o.w_size?o.w_size:_e,j=o.strstart-o.block_start,(j>=a||(j||s===Z_FINISH$3)&&s!==Z_NO_FLUSH$2&&o.strm.avail_in===0&&j<=_e)&&($=j>_e?_e:j,et=s===Z_FINISH$3&&o.strm.avail_in===0&&$===j?1:0,_tr_stored_block(o,o.block_start,$,et),o.block_start+=$,flush_pending(o.strm)),et?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(o,s)=>{let a,$;for(;;){if(o.lookahead<MIN_LOOKAHEAD){if(fill_window(o),o.lookahead<MIN_LOOKAHEAD&&s===Z_NO_FLUSH$2)return BS_NEED_MORE;if(o.lookahead===0)break}if(a=0,o.lookahead>=MIN_MATCH&&(o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+MIN_MATCH-1]),a=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),a!==0&&o.strstart-a<=o.w_size-MIN_LOOKAHEAD&&(o.match_length=longest_match(o,a)),o.match_length>=MIN_MATCH)if($=_tr_tally(o,o.strstart-o.match_start,o.match_length-MIN_MATCH),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&o.lookahead>=MIN_MATCH){o.match_length--;do o.strstart++,o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+MIN_MATCH-1]),a=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart;while(--o.match_length!==0);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+1]);else $=_tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if($&&(flush_block_only(o,!1),o.strm.avail_out===0))return BS_NEED_MORE}return o.insert=o.strstart<MIN_MATCH-1?o.strstart:MIN_MATCH-1,s===Z_FINISH$3?(flush_block_only(o,!0),o.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):o.sym_next&&(flush_block_only(o,!1),o.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(o,s)=>{let a,$,j;for(;;){if(o.lookahead<MIN_LOOKAHEAD){if(fill_window(o),o.lookahead<MIN_LOOKAHEAD&&s===Z_NO_FLUSH$2)return BS_NEED_MORE;if(o.lookahead===0)break}if(a=0,o.lookahead>=MIN_MATCH&&(o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+MIN_MATCH-1]),a=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=MIN_MATCH-1,a!==0&&o.prev_length<o.max_lazy_match&&o.strstart-a<=o.w_size-MIN_LOOKAHEAD&&(o.match_length=longest_match(o,a),o.match_length<=5&&(o.strategy===Z_FILTERED||o.match_length===MIN_MATCH&&o.strstart-o.match_start>4096)&&(o.match_length=MIN_MATCH-1)),o.prev_length>=MIN_MATCH&&o.match_length<=o.prev_length){j=o.strstart+o.lookahead-MIN_MATCH,$=_tr_tally(o,o.strstart-1-o.prev_match,o.prev_length-MIN_MATCH),o.lookahead-=o.prev_length-1,o.prev_length-=2;do++o.strstart<=j&&(o.ins_h=HASH(o,o.ins_h,o.window[o.strstart+MIN_MATCH-1]),a=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart);while(--o.prev_length!==0);if(o.match_available=0,o.match_length=MIN_MATCH-1,o.strstart++,$&&(flush_block_only(o,!1),o.strm.avail_out===0))return BS_NEED_MORE}else if(o.match_available){if($=_tr_tally(o,0,o.window[o.strstart-1]),$&&flush_block_only(o,!1),o.strstart++,o.lookahead--,o.strm.avail_out===0)return BS_NEED_MORE}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&($=_tr_tally(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=o.strstart<MIN_MATCH-1?o.strstart:MIN_MATCH-1,s===Z_FINISH$3?(flush_block_only(o,!0),o.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):o.sym_next&&(flush_block_only(o,!1),o.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(o,s)=>{let a,$,j,_e;const et=o.window;for(;;){if(o.lookahead<=MAX_MATCH){if(fill_window(o),o.lookahead<=MAX_MATCH&&s===Z_NO_FLUSH$2)return BS_NEED_MORE;if(o.lookahead===0)break}if(o.match_length=0,o.lookahead>=MIN_MATCH&&o.strstart>0&&(j=o.strstart-1,$=et[j],$===et[++j]&&$===et[++j]&&$===et[++j])){_e=o.strstart+MAX_MATCH;do;while($===et[++j]&&$===et[++j]&&$===et[++j]&&$===et[++j]&&$===et[++j]&&$===et[++j]&&$===et[++j]&&$===et[++j]&&j<_e);o.match_length=MAX_MATCH-(_e-j),o.match_length>o.lookahead&&(o.match_length=o.lookahead)}if(o.match_length>=MIN_MATCH?(a=_tr_tally(o,1,o.match_length-MIN_MATCH),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(a=_tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),a&&(flush_block_only(o,!1),o.strm.avail_out===0))return BS_NEED_MORE}return o.insert=0,s===Z_FINISH$3?(flush_block_only(o,!0),o.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):o.sym_next&&(flush_block_only(o,!1),o.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(o,s)=>{let a;for(;;){if(o.lookahead===0&&(fill_window(o),o.lookahead===0)){if(s===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(o.match_length=0,a=_tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,a&&(flush_block_only(o,!1),o.strm.avail_out===0))return BS_NEED_MORE}return o.insert=0,s===Z_FINISH$3?(flush_block_only(o,!0),o.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):o.sym_next&&(flush_block_only(o,!1),o.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(o,s,a,$,j){this.good_length=o,this.max_lazy=s,this.nice_length=a,this.max_chain=$,this.func=j}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=o=>{o.window_size=2*o.w_size,zero(o.head),o.max_lazy_match=configuration_table[o.level].max_lazy,o.good_match=configuration_table[o.level].good_length,o.nice_match=configuration_table[o.level].nice_length,o.max_chain_length=configuration_table[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=MIN_MATCH-1,o.match_available=0,o.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=o=>{if(!o)return 1;const s=o.state;return!s||s.strm!==o||s.status!==INIT_STATE&&s.status!==GZIP_STATE&&s.status!==EXTRA_STATE&&s.status!==NAME_STATE&&s.status!==COMMENT_STATE&&s.status!==HCRC_STATE&&s.status!==BUSY_STATE&&s.status!==FINISH_STATE?1:0},deflateResetKeep=o=>{if(deflateStateCheck(o))return err(o,Z_STREAM_ERROR$2);o.total_in=o.total_out=0,o.data_type=Z_UNKNOWN;const s=o.state;return s.pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap===2?GZIP_STATE:s.wrap?INIT_STATE:BUSY_STATE,o.adler=s.wrap===2?0:1,s.last_flush=-2,_tr_init(s),Z_OK$3},deflateReset=o=>{const s=deflateResetKeep(o);return s===Z_OK$3&&lm_init(o.state),s},deflateSetHeader=(o,s)=>deflateStateCheck(o)||o.state.wrap!==2?Z_STREAM_ERROR$2:(o.state.gzhead=s,Z_OK$3),deflateInit2=(o,s,a,$,j,_e)=>{if(!o)return Z_STREAM_ERROR$2;let et=1;if(s===Z_DEFAULT_COMPRESSION$1&&(s=6),$<0?(et=0,$=-$):$>15&&(et=2,$-=16),j<1||j>MAX_MEM_LEVEL||a!==Z_DEFLATED$2||$<8||$>15||s<0||s>9||_e<0||_e>Z_FIXED||$===8&&et!==1)return err(o,Z_STREAM_ERROR$2);$===8&&($=9);const tt=new DeflateState;return o.state=tt,tt.strm=o,tt.status=INIT_STATE,tt.wrap=et,tt.gzhead=null,tt.w_bits=$,tt.w_size=1<<tt.w_bits,tt.w_mask=tt.w_size-1,tt.hash_bits=j+7,tt.hash_size=1<<tt.hash_bits,tt.hash_mask=tt.hash_size-1,tt.hash_shift=~~((tt.hash_bits+MIN_MATCH-1)/MIN_MATCH),tt.window=new Uint8Array(tt.w_size*2),tt.head=new Uint16Array(tt.hash_size),tt.prev=new Uint16Array(tt.w_size),tt.lit_bufsize=1<<j+6,tt.pending_buf_size=tt.lit_bufsize*4,tt.pending_buf=new Uint8Array(tt.pending_buf_size),tt.sym_buf=tt.lit_bufsize,tt.sym_end=(tt.lit_bufsize-1)*3,tt.level=s,tt.strategy=_e,tt.method=a,deflateReset(o)},deflateInit=(o,s)=>deflateInit2(o,s,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(o,s)=>{if(deflateStateCheck(o)||s>Z_BLOCK$1||s<0)return o?err(o,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const a=o.state;if(!o.output||o.avail_in!==0&&!o.input||a.status===FINISH_STATE&&s!==Z_FINISH$3)return err(o,o.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const $=a.last_flush;if(a.last_flush=s,a.pending!==0){if(flush_pending(o),o.avail_out===0)return a.last_flush=-1,Z_OK$3}else if(o.avail_in===0&&rank(s)<=rank($)&&s!==Z_FINISH$3)return err(o,Z_BUF_ERROR$1);if(a.status===FINISH_STATE&&o.avail_in!==0)return err(o,Z_BUF_ERROR$1);if(a.status===INIT_STATE&&a.wrap===0&&(a.status=BUSY_STATE),a.status===INIT_STATE){let j=Z_DEFLATED$2+(a.w_bits-8<<4)<<8,_e=-1;if(a.strategy>=Z_HUFFMAN_ONLY||a.level<2?_e=0:a.level<6?_e=1:a.level===6?_e=2:_e=3,j|=_e<<6,a.strstart!==0&&(j|=PRESET_DICT),j+=31-j%31,putShortMSB(a,j),a.strstart!==0&&(putShortMSB(a,o.adler>>>16),putShortMSB(a,o.adler&65535)),o.adler=1,a.status=BUSY_STATE,flush_pending(o),a.pending!==0)return a.last_flush=-1,Z_OK$3}if(a.status===GZIP_STATE){if(o.adler=0,put_byte(a,31),put_byte(a,139),put_byte(a,8),a.gzhead)put_byte(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),put_byte(a,a.gzhead.time&255),put_byte(a,a.gzhead.time>>8&255),put_byte(a,a.gzhead.time>>16&255),put_byte(a,a.gzhead.time>>24&255),put_byte(a,a.level===9?2:a.strategy>=Z_HUFFMAN_ONLY||a.level<2?4:0),put_byte(a,a.gzhead.os&255),a.gzhead.extra&&a.gzhead.extra.length&&(put_byte(a,a.gzhead.extra.length&255),put_byte(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(o.adler=crc32_1(o.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=EXTRA_STATE;else if(put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,a.level===9?2:a.strategy>=Z_HUFFMAN_ONLY||a.level<2?4:0),put_byte(a,OS_CODE),a.status=BUSY_STATE,flush_pending(o),a.pending!==0)return a.last_flush=-1,Z_OK$3}if(a.status===EXTRA_STATE){if(a.gzhead.extra){let j=a.pending,_e=(a.gzhead.extra.length&65535)-a.gzindex;for(;a.pending+_e>a.pending_buf_size;){let tt=a.pending_buf_size-a.pending;if(a.pending_buf.set(a.gzhead.extra.subarray(a.gzindex,a.gzindex+tt),a.pending),a.pending=a.pending_buf_size,a.gzhead.hcrc&&a.pending>j&&(o.adler=crc32_1(o.adler,a.pending_buf,a.pending-j,j)),a.gzindex+=tt,flush_pending(o),a.pending!==0)return a.last_flush=-1,Z_OK$3;j=0,_e-=tt}let et=new Uint8Array(a.gzhead.extra);a.pending_buf.set(et.subarray(a.gzindex,a.gzindex+_e),a.pending),a.pending+=_e,a.gzhead.hcrc&&a.pending>j&&(o.adler=crc32_1(o.adler,a.pending_buf,a.pending-j,j)),a.gzindex=0}a.status=NAME_STATE}if(a.status===NAME_STATE){if(a.gzhead.name){let j=a.pending,_e;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>j&&(o.adler=crc32_1(o.adler,a.pending_buf,a.pending-j,j)),flush_pending(o),a.pending!==0)return a.last_flush=-1,Z_OK$3;j=0}a.gzindex<a.gzhead.name.length?_e=a.gzhead.name.charCodeAt(a.gzindex++)&255:_e=0,put_byte(a,_e)}while(_e!==0);a.gzhead.hcrc&&a.pending>j&&(o.adler=crc32_1(o.adler,a.pending_buf,a.pending-j,j)),a.gzindex=0}a.status=COMMENT_STATE}if(a.status===COMMENT_STATE){if(a.gzhead.comment){let j=a.pending,_e;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>j&&(o.adler=crc32_1(o.adler,a.pending_buf,a.pending-j,j)),flush_pending(o),a.pending!==0)return a.last_flush=-1,Z_OK$3;j=0}a.gzindex<a.gzhead.comment.length?_e=a.gzhead.comment.charCodeAt(a.gzindex++)&255:_e=0,put_byte(a,_e)}while(_e!==0);a.gzhead.hcrc&&a.pending>j&&(o.adler=crc32_1(o.adler,a.pending_buf,a.pending-j,j))}a.status=HCRC_STATE}if(a.status===HCRC_STATE){if(a.gzhead.hcrc){if(a.pending+2>a.pending_buf_size&&(flush_pending(o),a.pending!==0))return a.last_flush=-1,Z_OK$3;put_byte(a,o.adler&255),put_byte(a,o.adler>>8&255),o.adler=0}if(a.status=BUSY_STATE,flush_pending(o),a.pending!==0)return a.last_flush=-1,Z_OK$3}if(o.avail_in!==0||a.lookahead!==0||s!==Z_NO_FLUSH$2&&a.status!==FINISH_STATE){let j=a.level===0?deflate_stored(a,s):a.strategy===Z_HUFFMAN_ONLY?deflate_huff(a,s):a.strategy===Z_RLE?deflate_rle(a,s):configuration_table[a.level].func(a,s);if((j===BS_FINISH_STARTED||j===BS_FINISH_DONE)&&(a.status=FINISH_STATE),j===BS_NEED_MORE||j===BS_FINISH_STARTED)return o.avail_out===0&&(a.last_flush=-1),Z_OK$3;if(j===BS_BLOCK_DONE&&(s===Z_PARTIAL_FLUSH?_tr_align(a):s!==Z_BLOCK$1&&(_tr_stored_block(a,0,0,!1),s===Z_FULL_FLUSH$1&&(zero(a.head),a.lookahead===0&&(a.strstart=0,a.block_start=0,a.insert=0))),flush_pending(o),o.avail_out===0))return a.last_flush=-1,Z_OK$3}return s!==Z_FINISH$3?Z_OK$3:a.wrap<=0?Z_STREAM_END$3:(a.wrap===2?(put_byte(a,o.adler&255),put_byte(a,o.adler>>8&255),put_byte(a,o.adler>>16&255),put_byte(a,o.adler>>24&255),put_byte(a,o.total_in&255),put_byte(a,o.total_in>>8&255),put_byte(a,o.total_in>>16&255),put_byte(a,o.total_in>>24&255)):(putShortMSB(a,o.adler>>>16),putShortMSB(a,o.adler&65535)),flush_pending(o),a.wrap>0&&(a.wrap=-a.wrap),a.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=o=>{if(deflateStateCheck(o))return Z_STREAM_ERROR$2;const s=o.state.status;return o.state=null,s===BUSY_STATE?err(o,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(o,s)=>{let a=s.length;if(deflateStateCheck(o))return Z_STREAM_ERROR$2;const $=o.state,j=$.wrap;if(j===2||j===1&&$.status!==INIT_STATE||$.lookahead)return Z_STREAM_ERROR$2;if(j===1&&(o.adler=adler32_1(o.adler,s,a,0)),$.wrap=0,a>=$.w_size){j===0&&(zero($.head),$.strstart=0,$.block_start=0,$.insert=0);let rt=new Uint8Array($.w_size);rt.set(s.subarray(a-$.w_size,a),0),s=rt,a=$.w_size}const _e=o.avail_in,et=o.next_in,tt=o.input;for(o.avail_in=a,o.next_in=0,o.input=s,fill_window($);$.lookahead>=MIN_MATCH;){let rt=$.strstart,nt=$.lookahead-(MIN_MATCH-1);do $.ins_h=HASH($,$.ins_h,$.window[rt+MIN_MATCH-1]),$.prev[rt&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=rt,rt++;while(--nt);$.strstart=rt,$.lookahead=MIN_MATCH-1,fill_window($)}return $.strstart+=$.lookahead,$.block_start=$.strstart,$.insert=$.lookahead,$.lookahead=0,$.match_length=$.prev_length=MIN_MATCH-1,$.match_available=0,o.next_in=et,o.input=tt,o.avail_in=_e,$.wrap=j,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(o,s)=>Object.prototype.hasOwnProperty.call(o,s);var assign$1=function(o){const s=Array.prototype.slice.call(arguments,1);for(;s.length;){const a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(const $ in a)_has(a,$)&&(o[$]=a[$])}}return o},flattenChunks=o=>{let s=0;for(let $=0,j=o.length;$<j;$++)s+=o[$].length;const a=new Uint8Array(s);for(let $=0,j=0,_e=o.length;$<_e;$++){let et=o[$];a.set(et,j),j+=et.length}return a},common$2={assign:assign$1,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let o=0;o<256;o++)_utf8len[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=o=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(o);let s,a,$,j,_e,et=o.length,tt=0;for(j=0;j<et;j++)a=o.charCodeAt(j),(a&64512)===55296&&j+1<et&&($=o.charCodeAt(j+1),($&64512)===56320&&(a=65536+(a-55296<<10)+($-56320),j++)),tt+=a<128?1:a<2048?2:a<65536?3:4;for(s=new Uint8Array(tt),_e=0,j=0;_e<tt;j++)a=o.charCodeAt(j),(a&64512)===55296&&j+1<et&&($=o.charCodeAt(j+1),($&64512)===56320&&(a=65536+(a-55296<<10)+($-56320),j++)),a<128?s[_e++]=a:a<2048?(s[_e++]=192|a>>>6,s[_e++]=128|a&63):a<65536?(s[_e++]=224|a>>>12,s[_e++]=128|a>>>6&63,s[_e++]=128|a&63):(s[_e++]=240|a>>>18,s[_e++]=128|a>>>12&63,s[_e++]=128|a>>>6&63,s[_e++]=128|a&63);return s};const buf2binstring=(o,s)=>{if(s<65534&&o.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,o.length===s?o:o.subarray(0,s));let a="";for(let $=0;$<s;$++)a+=String.fromCharCode(o[$]);return a};var buf2string=(o,s)=>{const a=s||o.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(o.subarray(0,s));let $,j;const _e=new Array(a*2);for(j=0,$=0;$<a;){let et=o[$++];if(et<128){_e[j++]=et;continue}let tt=_utf8len[et];if(tt>4){_e[j++]=65533,$+=tt-1;continue}for(et&=tt===2?31:tt===3?15:7;tt>1&&$<a;)et=et<<6|o[$++]&63,tt--;if(tt>1){_e[j++]=65533;continue}et<65536?_e[j++]=et:(et-=65536,_e[j++]=55296|et>>10&1023,_e[j++]=56320|et&1023)}return buf2binstring(_e,j)},utf8border=(o,s)=>{s=s||o.length,s>o.length&&(s=o.length);let a=s-1;for(;a>=0&&(o[a]&192)===128;)a--;return a<0||a===0?s:a+_utf8len[o[a]]>s?a:s},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(o){this.options=common$2.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},o||{});let s=this.options;s.raw&&s.windowBits>0?s.windowBits=-s.windowBits:s.gzip&&s.windowBits>0&&s.windowBits<16&&(s.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let a=deflate_1$2.deflateInit2(this.strm,s.level,s.method,s.windowBits,s.memLevel,s.strategy);if(a!==Z_OK$2)throw new Error(messages[a]);if(s.header&&deflate_1$2.deflateSetHeader(this.strm,s.header),s.dictionary){let $;if(typeof s.dictionary=="string"?$=strings.string2buf(s.dictionary):toString$1$1.call(s.dictionary)==="[object ArrayBuffer]"?$=new Uint8Array(s.dictionary):$=s.dictionary,a=deflate_1$2.deflateSetDictionary(this.strm,$),a!==Z_OK$2)throw new Error(messages[a]);this._dict_set=!0}}Deflate$1.prototype.push=function(o,s){const a=this.strm,$=this.options.chunkSize;let j,_e;if(this.ended)return!1;for(s===~~s?_e=s:_e=s===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof o=="string"?a.input=strings.string2buf(o):toString$1$1.call(o)==="[object ArrayBuffer]"?a.input=new Uint8Array(o):a.input=o,a.next_in=0,a.avail_in=a.input.length;;){if(a.avail_out===0&&(a.output=new Uint8Array($),a.next_out=0,a.avail_out=$),(_e===Z_SYNC_FLUSH||_e===Z_FULL_FLUSH)&&a.avail_out<=6){this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;continue}if(j=deflate_1$2.deflate(a,_e),j===Z_STREAM_END$2)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),j=deflate_1$2.deflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===Z_OK$2;if(a.avail_out===0){this.onData(a.output);continue}if(_e>0&&a.next_out>0){this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;continue}if(a.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(o){this.chunks.push(o)};Deflate$1.prototype.onEnd=function(o){o===Z_OK$2&&(this.result=common$2.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg};function deflate$1(o,s){const a=new Deflate$1(s);if(a.push(o,!0),a.err)throw a.msg||messages[a.err];return a.result}function deflateRaw$1(o,s){return s=s||{},s.raw=!0,deflate$1(o,s)}function gzip$1(o,s){return s=s||{},s.gzip=!0,deflate$1(o,s)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,constants$1=constants$2,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1,constants:constants$1};const BAD$1=16209,TYPE$1=16191;var inffast=function(s,a){let $,j,_e,et,tt,rt,nt,it,ot,st,at,lt,ft,pt,ut,dt,ct,ht,mt,vt,yt,xt,bt,gt;const wt=s.state;$=s.next_in,bt=s.input,j=$+(s.avail_in-5),_e=s.next_out,gt=s.output,et=_e-(a-s.avail_out),tt=_e+(s.avail_out-257),rt=wt.dmax,nt=wt.wsize,it=wt.whave,ot=wt.wnext,st=wt.window,at=wt.hold,lt=wt.bits,ft=wt.lencode,pt=wt.distcode,ut=(1<<wt.lenbits)-1,dt=(1<<wt.distbits)-1;e:do{lt<15&&(at+=bt[$++]<<lt,lt+=8,at+=bt[$++]<<lt,lt+=8),ct=ft[at&ut];t:for(;;){if(ht=ct>>>24,at>>>=ht,lt-=ht,ht=ct>>>16&255,ht===0)gt[_e++]=ct&65535;else if(ht&16){mt=ct&65535,ht&=15,ht&&(lt<ht&&(at+=bt[$++]<<lt,lt+=8),mt+=at&(1<<ht)-1,at>>>=ht,lt-=ht),lt<15&&(at+=bt[$++]<<lt,lt+=8,at+=bt[$++]<<lt,lt+=8),ct=pt[at&dt];n:for(;;){if(ht=ct>>>24,at>>>=ht,lt-=ht,ht=ct>>>16&255,ht&16){if(vt=ct&65535,ht&=15,lt<ht&&(at+=bt[$++]<<lt,lt+=8,lt<ht&&(at+=bt[$++]<<lt,lt+=8)),vt+=at&(1<<ht)-1,vt>rt){s.msg="invalid distance too far back",wt.mode=BAD$1;break e}if(at>>>=ht,lt-=ht,ht=_e-et,vt>ht){if(ht=vt-ht,ht>it&&wt.sane){s.msg="invalid distance too far back",wt.mode=BAD$1;break e}if(yt=0,xt=st,ot===0){if(yt+=nt-ht,ht<mt){mt-=ht;do gt[_e++]=st[yt++];while(--ht);yt=_e-vt,xt=gt}}else if(ot<ht){if(yt+=nt+ot-ht,ht-=ot,ht<mt){mt-=ht;do gt[_e++]=st[yt++];while(--ht);if(yt=0,ot<mt){ht=ot,mt-=ht;do gt[_e++]=st[yt++];while(--ht);yt=_e-vt,xt=gt}}}else if(yt+=ot-ht,ht<mt){mt-=ht;do gt[_e++]=st[yt++];while(--ht);yt=_e-vt,xt=gt}for(;mt>2;)gt[_e++]=xt[yt++],gt[_e++]=xt[yt++],gt[_e++]=xt[yt++],mt-=3;mt&&(gt[_e++]=xt[yt++],mt>1&&(gt[_e++]=xt[yt++]))}else{yt=_e-vt;do gt[_e++]=gt[yt++],gt[_e++]=gt[yt++],gt[_e++]=gt[yt++],mt-=3;while(mt>2);mt&&(gt[_e++]=gt[yt++],mt>1&&(gt[_e++]=gt[yt++]))}}else if(ht&64){s.msg="invalid distance code",wt.mode=BAD$1;break e}else{ct=pt[(ct&65535)+(at&(1<<ht)-1)];continue n}break}}else if(ht&64)if(ht&32){wt.mode=TYPE$1;break e}else{s.msg="invalid literal/length code",wt.mode=BAD$1;break e}else{ct=ft[(ct&65535)+(at&(1<<ht)-1)];continue t}break}}while($<j&&_e<tt);mt=lt>>3,$-=mt,lt-=mt<<3,at&=(1<<lt)-1,s.next_in=$,s.next_out=_e,s.avail_in=$<j?5+(j-$):5-($-j),s.avail_out=_e<tt?257+(tt-_e):257-(_e-tt),wt.hold=at,wt.bits=lt};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(o,s,a,$,j,_e,et,tt)=>{const rt=tt.bits;let nt=0,it=0,ot=0,st=0,at=0,lt=0,ft=0,pt=0,ut=0,dt=0,ct,ht,mt,vt,yt,xt=null,bt;const gt=new Uint16Array(MAXBITS+1),wt=new Uint16Array(MAXBITS+1);let Et=null,kt,Ct,Mt;for(nt=0;nt<=MAXBITS;nt++)gt[nt]=0;for(it=0;it<$;it++)gt[s[a+it]]++;for(at=rt,st=MAXBITS;st>=1&&gt[st]===0;st--);if(at>st&&(at=st),st===0)return j[_e++]=1<<24|64<<16|0,j[_e++]=1<<24|64<<16|0,tt.bits=1,0;for(ot=1;ot<st&&gt[ot]===0;ot++);for(at<ot&&(at=ot),pt=1,nt=1;nt<=MAXBITS;nt++)if(pt<<=1,pt-=gt[nt],pt<0)return-1;if(pt>0&&(o===CODES$1||st!==1))return-1;for(wt[1]=0,nt=1;nt<MAXBITS;nt++)wt[nt+1]=wt[nt]+gt[nt];for(it=0;it<$;it++)s[a+it]!==0&&(et[wt[s[a+it]]++]=it);if(o===CODES$1?(xt=Et=et,bt=20):o===LENS$1?(xt=lbase,Et=lext,bt=257):(xt=dbase,Et=dext,bt=0),dt=0,it=0,nt=ot,yt=_e,lt=at,ft=0,mt=-1,ut=1<<at,vt=ut-1,o===LENS$1&&ut>ENOUGH_LENS$1||o===DISTS$1&&ut>ENOUGH_DISTS$1)return 1;for(;;){kt=nt-ft,et[it]+1<bt?(Ct=0,Mt=et[it]):et[it]>=bt?(Ct=Et[et[it]-bt],Mt=xt[et[it]-bt]):(Ct=32+64,Mt=0),ct=1<<nt-ft,ht=1<<lt,ot=ht;do ht-=ct,j[yt+(dt>>ft)+ht]=kt<<24|Ct<<16|Mt|0;while(ht!==0);for(ct=1<<nt-1;dt&ct;)ct>>=1;if(ct!==0?(dt&=ct-1,dt+=ct):dt=0,it++,--gt[nt]===0){if(nt===st)break;nt=s[a+et[it]]}if(nt>at&&(dt&vt)!==mt){for(ft===0&&(ft=at),yt+=ot,lt=nt-ft,pt=1<<lt;lt+ft<st&&(pt-=gt[lt+ft],!(pt<=0));)lt++,pt<<=1;if(ut+=1<<lt,o===LENS$1&&ut>ENOUGH_LENS$1||o===DISTS$1&&ut>ENOUGH_DISTS$1)return 1;mt=dt&vt,j[mt]=at<<24|lt<<16|yt-_e|0}}return dt!==0&&(j[yt+dt]=nt-ft<<24|64<<16|0),tt.bits=at,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT$1=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=o=>(o>>>24&255)+(o>>>8&65280)+((o&65280)<<8)+((o&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=o=>{if(!o)return 1;const s=o.state;return!s||s.strm!==o||s.mode<HEAD||s.mode>SYNC?1:0},inflateResetKeep=o=>{if(inflateStateCheck(o))return Z_STREAM_ERROR$1;const s=o.state;return o.total_in=o.total_out=s.total=0,o.msg="",s.wrap&&(o.adler=s.wrap&1),s.mode=HEAD,s.last=0,s.havedict=0,s.flags=-1,s.dmax=32768,s.head=null,s.hold=0,s.bits=0,s.lencode=s.lendyn=new Int32Array(ENOUGH_LENS),s.distcode=s.distdyn=new Int32Array(ENOUGH_DISTS),s.sane=1,s.back=-1,Z_OK$1},inflateReset=o=>{if(inflateStateCheck(o))return Z_STREAM_ERROR$1;const s=o.state;return s.wsize=0,s.whave=0,s.wnext=0,inflateResetKeep(o)},inflateReset2=(o,s)=>{let a;if(inflateStateCheck(o))return Z_STREAM_ERROR$1;const $=o.state;return s<0?(a=0,s=-s):(a=(s>>4)+5,s<48&&(s&=15)),s&&(s<8||s>15)?Z_STREAM_ERROR$1:($.window!==null&&$.wbits!==s&&($.window=null),$.wrap=a,$.wbits=s,inflateReset(o))},inflateInit2=(o,s)=>{if(!o)return Z_STREAM_ERROR$1;const a=new InflateState;o.state=a,a.strm=o,a.window=null,a.mode=HEAD;const $=inflateReset2(o,s);return $!==Z_OK$1&&(o.state=null),$},inflateInit=o=>inflateInit2(o,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=o=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let s=0;for(;s<144;)o.lens[s++]=8;for(;s<256;)o.lens[s++]=9;for(;s<280;)o.lens[s++]=7;for(;s<288;)o.lens[s++]=8;for(inftrees(LENS,o.lens,0,288,lenfix,0,o.work,{bits:9}),s=0;s<32;)o.lens[s++]=5;inftrees(DISTS,o.lens,0,32,distfix,0,o.work,{bits:5}),virgin=!1}o.lencode=lenfix,o.lenbits=9,o.distcode=distfix,o.distbits=5},updatewindow=(o,s,a,$)=>{let j;const _e=o.state;return _e.window===null&&(_e.wsize=1<<_e.wbits,_e.wnext=0,_e.whave=0,_e.window=new Uint8Array(_e.wsize)),$>=_e.wsize?(_e.window.set(s.subarray(a-_e.wsize,a),0),_e.wnext=0,_e.whave=_e.wsize):(j=_e.wsize-_e.wnext,j>$&&(j=$),_e.window.set(s.subarray(a-$,a-$+j),_e.wnext),$-=j,$?(_e.window.set(s.subarray(a-$,a),0),_e.wnext=$,_e.whave=_e.wsize):(_e.wnext+=j,_e.wnext===_e.wsize&&(_e.wnext=0),_e.whave<_e.wsize&&(_e.whave+=j))),0},inflate$2=(o,s)=>{let a,$,j,_e,et,tt,rt,nt,it,ot,st,at,lt,ft,pt=0,ut,dt,ct,ht,mt,vt,yt,xt;const bt=new Uint8Array(4);let gt,wt;const Et=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(o)||!o.output||!o.input&&o.avail_in!==0)return Z_STREAM_ERROR$1;a=o.state,a.mode===TYPE&&(a.mode=TYPEDO),et=o.next_out,j=o.output,rt=o.avail_out,_e=o.next_in,$=o.input,tt=o.avail_in,nt=a.hold,it=a.bits,ot=tt,st=rt,xt=Z_OK$1;e:for(;;)switch(a.mode){case HEAD:if(a.wrap===0){a.mode=TYPEDO;break}for(;it<16;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}if(a.wrap&2&&nt===35615){a.wbits===0&&(a.wbits=15),a.check=0,bt[0]=nt&255,bt[1]=nt>>>8&255,a.check=crc32_1(a.check,bt,2,0),nt=0,it=0,a.mode=FLAGS;break}if(a.head&&(a.head.done=!1),!(a.wrap&1)||(((nt&255)<<8)+(nt>>8))%31){o.msg="incorrect header check",a.mode=BAD;break}if((nt&15)!==Z_DEFLATED){o.msg="unknown compression method",a.mode=BAD;break}if(nt>>>=4,it-=4,yt=(nt&15)+8,a.wbits===0&&(a.wbits=yt),yt>15||yt>a.wbits){o.msg="invalid window size",a.mode=BAD;break}a.dmax=1<<a.wbits,a.flags=0,o.adler=a.check=1,a.mode=nt&512?DICTID:TYPE,nt=0,it=0;break;case FLAGS:for(;it<16;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}if(a.flags=nt,(a.flags&255)!==Z_DEFLATED){o.msg="unknown compression method",a.mode=BAD;break}if(a.flags&57344){o.msg="unknown header flags set",a.mode=BAD;break}a.head&&(a.head.text=nt>>8&1),a.flags&512&&a.wrap&4&&(bt[0]=nt&255,bt[1]=nt>>>8&255,a.check=crc32_1(a.check,bt,2,0)),nt=0,it=0,a.mode=TIME;case TIME:for(;it<32;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}a.head&&(a.head.time=nt),a.flags&512&&a.wrap&4&&(bt[0]=nt&255,bt[1]=nt>>>8&255,bt[2]=nt>>>16&255,bt[3]=nt>>>24&255,a.check=crc32_1(a.check,bt,4,0)),nt=0,it=0,a.mode=OS;case OS:for(;it<16;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}a.head&&(a.head.xflags=nt&255,a.head.os=nt>>8),a.flags&512&&a.wrap&4&&(bt[0]=nt&255,bt[1]=nt>>>8&255,a.check=crc32_1(a.check,bt,2,0)),nt=0,it=0,a.mode=EXLEN;case EXLEN:if(a.flags&1024){for(;it<16;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}a.length=nt,a.head&&(a.head.extra_len=nt),a.flags&512&&a.wrap&4&&(bt[0]=nt&255,bt[1]=nt>>>8&255,a.check=crc32_1(a.check,bt,2,0)),nt=0,it=0}else a.head&&(a.head.extra=null);a.mode=EXTRA;case EXTRA:if(a.flags&1024&&(at=a.length,at>tt&&(at=tt),at&&(a.head&&(yt=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set($.subarray(_e,_e+at),yt)),a.flags&512&&a.wrap&4&&(a.check=crc32_1(a.check,$,at,_e)),tt-=at,_e+=at,a.length-=at),a.length))break e;a.length=0,a.mode=NAME;case NAME:if(a.flags&2048){if(tt===0)break e;at=0;do yt=$[_e+at++],a.head&&yt&&a.length<65536&&(a.head.name+=String.fromCharCode(yt));while(yt&&at<tt);if(a.flags&512&&a.wrap&4&&(a.check=crc32_1(a.check,$,at,_e)),tt-=at,_e+=at,yt)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=COMMENT$1;case COMMENT$1:if(a.flags&4096){if(tt===0)break e;at=0;do yt=$[_e+at++],a.head&&yt&&a.length<65536&&(a.head.comment+=String.fromCharCode(yt));while(yt&&at<tt);if(a.flags&512&&a.wrap&4&&(a.check=crc32_1(a.check,$,at,_e)),tt-=at,_e+=at,yt)break e}else a.head&&(a.head.comment=null);a.mode=HCRC;case HCRC:if(a.flags&512){for(;it<16;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}if(a.wrap&4&&nt!==(a.check&65535)){o.msg="header crc mismatch",a.mode=BAD;break}nt=0,it=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),o.adler=a.check=0,a.mode=TYPE;break;case DICTID:for(;it<32;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}o.adler=a.check=zswap32(nt),nt=0,it=0,a.mode=DICT;case DICT:if(a.havedict===0)return o.next_out=et,o.avail_out=rt,o.next_in=_e,o.avail_in=tt,a.hold=nt,a.bits=it,Z_NEED_DICT$1;o.adler=a.check=1,a.mode=TYPE;case TYPE:if(s===Z_BLOCK||s===Z_TREES)break e;case TYPEDO:if(a.last){nt>>>=it&7,it-=it&7,a.mode=CHECK;break}for(;it<3;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}switch(a.last=nt&1,nt>>>=1,it-=1,nt&3){case 0:a.mode=STORED;break;case 1:if(fixedtables(a),a.mode=LEN_,s===Z_TREES){nt>>>=2,it-=2;break e}break;case 2:a.mode=TABLE;break;case 3:o.msg="invalid block type",a.mode=BAD}nt>>>=2,it-=2;break;case STORED:for(nt>>>=it&7,it-=it&7;it<32;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}if((nt&65535)!==(nt>>>16^65535)){o.msg="invalid stored block lengths",a.mode=BAD;break}if(a.length=nt&65535,nt=0,it=0,a.mode=COPY_,s===Z_TREES)break e;case COPY_:a.mode=COPY;case COPY:if(at=a.length,at){if(at>tt&&(at=tt),at>rt&&(at=rt),at===0)break e;j.set($.subarray(_e,_e+at),et),tt-=at,_e+=at,rt-=at,et+=at,a.length-=at;break}a.mode=TYPE;break;case TABLE:for(;it<14;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}if(a.nlen=(nt&31)+257,nt>>>=5,it-=5,a.ndist=(nt&31)+1,nt>>>=5,it-=5,a.ncode=(nt&15)+4,nt>>>=4,it-=4,a.nlen>286||a.ndist>30){o.msg="too many length or distance symbols",a.mode=BAD;break}a.have=0,a.mode=LENLENS;case LENLENS:for(;a.have<a.ncode;){for(;it<3;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}a.lens[Et[a.have++]]=nt&7,nt>>>=3,it-=3}for(;a.have<19;)a.lens[Et[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,gt={bits:a.lenbits},xt=inftrees(CODES,a.lens,0,19,a.lencode,0,a.work,gt),a.lenbits=gt.bits,xt){o.msg="invalid code lengths set",a.mode=BAD;break}a.have=0,a.mode=CODELENS;case CODELENS:for(;a.have<a.nlen+a.ndist;){for(;pt=a.lencode[nt&(1<<a.lenbits)-1],ut=pt>>>24,dt=pt>>>16&255,ct=pt&65535,!(ut<=it);){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}if(ct<16)nt>>>=ut,it-=ut,a.lens[a.have++]=ct;else{if(ct===16){for(wt=ut+2;it<wt;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}if(nt>>>=ut,it-=ut,a.have===0){o.msg="invalid bit length repeat",a.mode=BAD;break}yt=a.lens[a.have-1],at=3+(nt&3),nt>>>=2,it-=2}else if(ct===17){for(wt=ut+3;it<wt;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}nt>>>=ut,it-=ut,yt=0,at=3+(nt&7),nt>>>=3,it-=3}else{for(wt=ut+7;it<wt;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}nt>>>=ut,it-=ut,yt=0,at=11+(nt&127),nt>>>=7,it-=7}if(a.have+at>a.nlen+a.ndist){o.msg="invalid bit length repeat",a.mode=BAD;break}for(;at--;)a.lens[a.have++]=yt}}if(a.mode===BAD)break;if(a.lens[256]===0){o.msg="invalid code -- missing end-of-block",a.mode=BAD;break}if(a.lenbits=9,gt={bits:a.lenbits},xt=inftrees(LENS,a.lens,0,a.nlen,a.lencode,0,a.work,gt),a.lenbits=gt.bits,xt){o.msg="invalid literal/lengths set",a.mode=BAD;break}if(a.distbits=6,a.distcode=a.distdyn,gt={bits:a.distbits},xt=inftrees(DISTS,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,gt),a.distbits=gt.bits,xt){o.msg="invalid distances set",a.mode=BAD;break}if(a.mode=LEN_,s===Z_TREES)break e;case LEN_:a.mode=LEN;case LEN:if(tt>=6&&rt>=258){o.next_out=et,o.avail_out=rt,o.next_in=_e,o.avail_in=tt,a.hold=nt,a.bits=it,inffast(o,st),et=o.next_out,j=o.output,rt=o.avail_out,_e=o.next_in,$=o.input,tt=o.avail_in,nt=a.hold,it=a.bits,a.mode===TYPE&&(a.back=-1);break}for(a.back=0;pt=a.lencode[nt&(1<<a.lenbits)-1],ut=pt>>>24,dt=pt>>>16&255,ct=pt&65535,!(ut<=it);){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}if(dt&&!(dt&240)){for(ht=ut,mt=dt,vt=ct;pt=a.lencode[vt+((nt&(1<<ht+mt)-1)>>ht)],ut=pt>>>24,dt=pt>>>16&255,ct=pt&65535,!(ht+ut<=it);){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}nt>>>=ht,it-=ht,a.back+=ht}if(nt>>>=ut,it-=ut,a.back+=ut,a.length=ct,dt===0){a.mode=LIT;break}if(dt&32){a.back=-1,a.mode=TYPE;break}if(dt&64){o.msg="invalid literal/length code",a.mode=BAD;break}a.extra=dt&15,a.mode=LENEXT;case LENEXT:if(a.extra){for(wt=a.extra;it<wt;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}a.length+=nt&(1<<a.extra)-1,nt>>>=a.extra,it-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=DIST;case DIST:for(;pt=a.distcode[nt&(1<<a.distbits)-1],ut=pt>>>24,dt=pt>>>16&255,ct=pt&65535,!(ut<=it);){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}if(!(dt&240)){for(ht=ut,mt=dt,vt=ct;pt=a.distcode[vt+((nt&(1<<ht+mt)-1)>>ht)],ut=pt>>>24,dt=pt>>>16&255,ct=pt&65535,!(ht+ut<=it);){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}nt>>>=ht,it-=ht,a.back+=ht}if(nt>>>=ut,it-=ut,a.back+=ut,dt&64){o.msg="invalid distance code",a.mode=BAD;break}a.offset=ct,a.extra=dt&15,a.mode=DISTEXT;case DISTEXT:if(a.extra){for(wt=a.extra;it<wt;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}a.offset+=nt&(1<<a.extra)-1,nt>>>=a.extra,it-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){o.msg="invalid distance too far back",a.mode=BAD;break}a.mode=MATCH;case MATCH:if(rt===0)break e;if(at=st-rt,a.offset>at){if(at=a.offset-at,at>a.whave&&a.sane){o.msg="invalid distance too far back",a.mode=BAD;break}at>a.wnext?(at-=a.wnext,lt=a.wsize-at):lt=a.wnext-at,at>a.length&&(at=a.length),ft=a.window}else ft=j,lt=et-a.offset,at=a.length;at>rt&&(at=rt),rt-=at,a.length-=at;do j[et++]=ft[lt++];while(--at);a.length===0&&(a.mode=LEN);break;case LIT:if(rt===0)break e;j[et++]=a.length,rt--,a.mode=LEN;break;case CHECK:if(a.wrap){for(;it<32;){if(tt===0)break e;tt--,nt|=$[_e++]<<it,it+=8}if(st-=rt,o.total_out+=st,a.total+=st,a.wrap&4&&st&&(o.adler=a.check=a.flags?crc32_1(a.check,j,st,et-st):adler32_1(a.check,j,st,et-st)),st=rt,a.wrap&4&&(a.flags?nt:zswap32(nt))!==a.check){o.msg="incorrect data check",a.mode=BAD;break}nt=0,it=0}a.mode=LENGTH;case LENGTH:if(a.wrap&&a.flags){for(;it<32;){if(tt===0)break e;tt--,nt+=$[_e++]<<it,it+=8}if(a.wrap&4&&nt!==(a.total&4294967295)){o.msg="incorrect length check",a.mode=BAD;break}nt=0,it=0}a.mode=DONE;case DONE:xt=Z_STREAM_END$1;break e;case BAD:xt=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return o.next_out=et,o.avail_out=rt,o.next_in=_e,o.avail_in=tt,a.hold=nt,a.bits=it,(a.wsize||st!==o.avail_out&&a.mode<BAD&&(a.mode<CHECK||s!==Z_FINISH$1))&&updatewindow(o,o.output,o.next_out,st-o.avail_out),ot-=o.avail_in,st-=o.avail_out,o.total_in+=ot,o.total_out+=st,a.total+=st,a.wrap&4&&st&&(o.adler=a.check=a.flags?crc32_1(a.check,j,st,o.next_out-st):adler32_1(a.check,j,st,o.next_out-st)),o.data_type=a.bits+(a.last?64:0)+(a.mode===TYPE?128:0)+(a.mode===LEN_||a.mode===COPY_?256:0),(ot===0&&st===0||s===Z_FINISH$1)&&xt===Z_OK$1&&(xt=Z_BUF_ERROR),xt},inflateEnd=o=>{if(inflateStateCheck(o))return Z_STREAM_ERROR$1;let s=o.state;return s.window&&(s.window=null),o.state=null,Z_OK$1},inflateGetHeader=(o,s)=>{if(inflateStateCheck(o))return Z_STREAM_ERROR$1;const a=o.state;return a.wrap&2?(a.head=s,s.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(o,s)=>{const a=s.length;let $,j,_e;return inflateStateCheck(o)||($=o.state,$.wrap!==0&&$.mode!==DICT)?Z_STREAM_ERROR$1:$.mode===DICT&&(j=1,j=adler32_1(j,s,a,0),j!==$.check)?Z_DATA_ERROR$1:(_e=updatewindow(o,s,a,a),_e?($.mode=MEM,Z_MEM_ERROR$1):($.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(o){this.options=common$2.assign({chunkSize:1024*64,windowBits:15,to:""},o||{});const s=this.options;s.raw&&s.windowBits>=0&&s.windowBits<16&&(s.windowBits=-s.windowBits,s.windowBits===0&&(s.windowBits=-15)),s.windowBits>=0&&s.windowBits<16&&!(o&&o.windowBits)&&(s.windowBits+=32),s.windowBits>15&&s.windowBits<48&&(s.windowBits&15||(s.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let a=inflate_1$2.inflateInit2(this.strm,s.windowBits);if(a!==Z_OK)throw new Error(messages[a]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),s.dictionary&&(typeof s.dictionary=="string"?s.dictionary=strings.string2buf(s.dictionary):toString$2.call(s.dictionary)==="[object ArrayBuffer]"&&(s.dictionary=new Uint8Array(s.dictionary)),s.raw&&(a=inflate_1$2.inflateSetDictionary(this.strm,s.dictionary),a!==Z_OK)))throw new Error(messages[a])}Inflate$1.prototype.push=function(o,s){const a=this.strm,$=this.options.chunkSize,j=this.options.dictionary;let _e,et,tt;if(this.ended)return!1;for(s===~~s?et=s:et=s===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(o)==="[object ArrayBuffer]"?a.input=new Uint8Array(o):a.input=o,a.next_in=0,a.avail_in=a.input.length;;){for(a.avail_out===0&&(a.output=new Uint8Array($),a.next_out=0,a.avail_out=$),_e=inflate_1$2.inflate(a,et),_e===Z_NEED_DICT&&j&&(_e=inflate_1$2.inflateSetDictionary(a,j),_e===Z_OK?_e=inflate_1$2.inflate(a,et):_e===Z_DATA_ERROR&&(_e=Z_NEED_DICT));a.avail_in>0&&_e===Z_STREAM_END&&a.state.wrap>0&&o[a.next_in]!==0;)inflate_1$2.inflateReset(a),_e=inflate_1$2.inflate(a,et);switch(_e){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(_e),this.ended=!0,!1}if(tt=a.avail_out,a.next_out&&(a.avail_out===0||_e===Z_STREAM_END))if(this.options.to==="string"){let rt=strings.utf8border(a.output,a.next_out),nt=a.next_out-rt,it=strings.buf2string(a.output,rt);a.next_out=nt,a.avail_out=$-nt,nt&&a.output.set(a.output.subarray(rt,rt+nt),0),this.onData(it)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(!(_e===Z_OK&&tt===0)){if(_e===Z_STREAM_END)return _e=inflate_1$2.inflateEnd(this.strm),this.onEnd(_e),this.ended=!0,!0;if(a.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(o){this.chunks.push(o)};Inflate$1.prototype.onEnd=function(o){o===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common$2.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg};function inflate$1(o,s){const a=new Inflate$1(s);if(a.push(o),a.err)throw a.msg||messages[a.err];return a.result}function inflateRaw$1(o,s){return s=s||{},s.raw=!0,inflate$1(o,s)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var deflate_1=deflate,Inflate_1=Inflate,inflate_1=inflate;const pngSignature=[137,80,78,71,13,10,26,10],crcTable=[];for(let o=0;o<256;o++){let s=o;for(let a=0;a<8;a++)s&1?s=3988292384^s>>>1:s=s>>>1;crcTable[o]=s}const initialCrc=4294967295;function updateCrc(o,s,a){let $=o;for(let j=0;j<a;j++)$=crcTable[($^s[j])&255]^$>>>8;return $}function crc(o,s){return(updateCrc(initialCrc,o,s)^initialCrc)>>>0}var ColorType;(function(o){o[o.UNKNOWN=-1]="UNKNOWN",o[o.GREYSCALE=0]="GREYSCALE",o[o.TRUECOLOUR=2]="TRUECOLOUR",o[o.INDEXED_COLOUR=3]="INDEXED_COLOUR",o[o.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",o[o.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"})(ColorType||(ColorType={}));var CompressionMethod;(function(o){o[o.UNKNOWN=-1]="UNKNOWN",o[o.DEFLATE=0]="DEFLATE"})(CompressionMethod||(CompressionMethod={}));var FilterMethod;(function(o){o[o.UNKNOWN=-1]="UNKNOWN",o[o.ADAPTIVE=0]="ADAPTIVE"})(FilterMethod||(FilterMethod={}));var InterlaceMethod;(function(o){o[o.UNKNOWN=-1]="UNKNOWN",o[o.NO_INTERLACE=0]="NO_INTERLACE",o[o.ADAM7=1]="ADAM7"})(InterlaceMethod||(InterlaceMethod={}));const empty=new Uint8Array(0),NULL="\0",uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255;class PngDecoder extends IOBuffer$4{constructor(s,a={}){super(s);const{checkCrc:$=!1}=a;this._checkCrc=$,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=-1,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let s=0;s<pngSignature.length;s++)if(this.readUint8()!==pngSignature[s])throw new Error(`wrong PNG signature. Byte at ${s} should be ${pngSignature[s]}.`)}decodeChunk(){const s=this.readUint32(),a=this.readChars(4),$=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(s);break;case"IDAT":this.decodeIDAT(s);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(s);break;case"iCCP":this.decodeiCCP(s);break;case"tEXt":this.decodetEXt(s);break;case"pHYs":this.decodepHYs();break;default:this.skip(s);break}if(this.offset-$!==s)throw new Error(`Length mismatch while decoding chunk ${a}`);if(this._checkCrc){const j=this.readUint32(),_e=s+4,et=crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-_e-4,_e),_e);if(et!==j)throw new Error(`CRC mismatch for chunk ${a}. Expected ${j}, found ${et}`)}else this.skip(4)}decodeIHDR(){const s=this._png;s.width=this.readUint32(),s.height=this.readUint32(),s.depth=checkBitDepth(this.readUint8());const a=this.readUint8();this._colorType=a;let $;switch(a){case ColorType.GREYSCALE:$=1;break;case ColorType.TRUECOLOUR:$=3;break;case ColorType.INDEXED_COLOUR:$=1;break;case ColorType.GREYSCALE_ALPHA:$=2;break;case ColorType.TRUECOLOUR_ALPHA:$=4;break;default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=$,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(s){if(s%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${s}`);const a=s/3;this._hasPalette=!0;const $=[];this._palette=$;for(let j=0;j<a;j++)$.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(s){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,s)),this.skip(s)}decodetRNS(s){if(this._colorType===3){if(s>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${s} vs ${this._palette.length})`);let a=0;for(;a<s;a++){const $=this.readByte();this._palette[a].push($)}for(;a<this._palette.length;a++)this._palette[a].push(255)}}decodeiCCP(s){let a="",$;for(;($=this.readChar())!==NULL;)a+=$;const j=this.readUint8();if(j!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${j}`);const _e=this.readBytes(s-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:inflate_1(_e)}}decodetEXt(s){let a="",$;for(;($=this.readChar())!==NULL;)a+=$;this._png.text[a]=this.readChars(s-a.length-1)}decodepHYs(){const s=this.readUint32(),a=this.readUint32(),$=this.readByte();this._png.resolution={x:s,y:a,unit:$}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const s=this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this.decodeInterlaceNull(s);else throw new Error(`Interlace method ${this._interlaceMethod} not supported`)}decodeInterlaceNull(s){const a=this._png.height,$=this._png.channels*this._png.depth/8,j=this._png.width*$,_e=new Uint8Array(this._png.height*j);let et=empty,tt=0,rt,nt;for(let it=0;it<a;it++){switch(rt=s.subarray(tt+1,tt+1+j),nt=_e.subarray(it*j,(it+1)*j),s[tt]){case 0:unfilterNone(rt,nt,j);break;case 1:unfilterSub(rt,nt,j,$);break;case 2:unfilterUp(rt,nt,et,j);break;case 3:unfilterAverage(rt,nt,et,j,$);break;case 4:unfilterPaeth(rt,nt,et,j,$);break;default:throw new Error(`Unsupported filter: ${s[tt]}`)}et=nt,tt+=j+1}if(this._hasPalette&&(this._png.palette=this._palette),this._png.depth===16){const it=new Uint16Array(_e.buffer);if(osIsLittleEndian)for(let ot=0;ot<it.length;ot++)it[ot]=swap16(it[ot]);this._png.data=it}else this._png.data=_e}}function unfilterNone(o,s,a){for(let $=0;$<a;$++)s[$]=o[$]}function unfilterSub(o,s,a,$){let j=0;for(;j<$;j++)s[j]=o[j];for(;j<a;j++)s[j]=o[j]+s[j-$]&255}function unfilterUp(o,s,a,$){let j=0;if(a.length===0)for(;j<$;j++)s[j]=o[j];else for(;j<$;j++)s[j]=o[j]+a[j]&255}function unfilterAverage(o,s,a,$,j){let _e=0;if(a.length===0){for(;_e<j;_e++)s[_e]=o[_e];for(;_e<$;_e++)s[_e]=o[_e]+(s[_e-j]>>1)&255}else{for(;_e<j;_e++)s[_e]=o[_e]+(a[_e]>>1)&255;for(;_e<$;_e++)s[_e]=o[_e]+(s[_e-j]+a[_e]>>1)&255}}function unfilterPaeth(o,s,a,$,j){let _e=0;if(a.length===0){for(;_e<j;_e++)s[_e]=o[_e];for(;_e<$;_e++)s[_e]=o[_e]+s[_e-j]&255}else{for(;_e<j;_e++)s[_e]=o[_e]+a[_e]&255;for(;_e<$;_e++)s[_e]=o[_e]+paethPredictor(s[_e-j],a[_e],a[_e-j])&255}}function paethPredictor(o,s,a){const $=o+s-a,j=Math.abs($-o),_e=Math.abs($-s),et=Math.abs($-a);return j<=_e&&j<=et?o:_e<=et?s:a}function swap16(o){return(o&255)<<8|o>>8&255}function checkBitDepth(o){if(o!==1&&o!==2&&o!==4&&o!==8&&o!==16)throw new Error(`invalid bit depth: ${o}`);return o}const defaultZlibOptions={level:3};class PngEncoder extends IOBuffer$4{constructor(s,a={}){super(),this._colorType=ColorType.UNKNOWN,this._zlibOptions=Object.assign({},defaultZlibOptions,a.zlib),this._png=this._checkData(s),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(pngSignature)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(CompressionMethod.DEFLATE),this.writeByte(FilterMethod.ADAPTIVE),this.writeByte(InterlaceMethod.NO_INTERLACE),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT(s){this.writeUint32(s.length),this.writeChars("IDAT"),this.writeBytes(s),this.writeCrc(s.length+4)}encodeData(){const{width:s,height:a,channels:$,depth:j,data:_e}=this._png,et=$*s,tt=new IOBuffer$4().setBigEndian();let rt=0;for(let ot=0;ot<a;ot++)if(tt.writeByte(0),j===8)rt=writeDataBytes(_e,tt,et,rt);else if(j===16)rt=writeDataUint16(_e,tt,et,rt);else throw new Error("unreachable");const nt=tt.toArray(),it=deflate_1(nt,this._zlibOptions);this.encodeIDAT(it)}_checkData(s){const{colorType:a,channels:$,depth:j}=getColorType(s),_e={width:checkInteger(s.width,"width"),height:checkInteger(s.height,"height"),channels:$,data:s.data,depth:j,text:{}};this._colorType=a;const et=_e.width*_e.height*$;if(_e.data.length!==et)throw new RangeError(`wrong data size. Found ${_e.data.length}, expected ${et}`);return _e}writeCrc(s){this.writeUint32(crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-s,s),s))}}function checkInteger(o,s){if(Number.isInteger(o)&&o>0)return o;throw new TypeError(`${s} must be a positive integer`)}function getColorType(o){const{channels:s=4,depth:a=8}=o;if(s!==4&&s!==3&&s!==2&&s!==1)throw new RangeError(`unsupported number of channels: ${s}`);if(a!==8&&a!==16)throw new RangeError(`unsupported bit depth: ${a}`);const $={channels:s,depth:a,colorType:ColorType.UNKNOWN};switch(s){case 4:$.colorType=ColorType.TRUECOLOUR_ALPHA;break;case 3:$.colorType=ColorType.TRUECOLOUR;break;case 1:$.colorType=ColorType.GREYSCALE;break;case 2:$.colorType=ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return $}function writeDataBytes(o,s,a,$){for(let j=0;j<a;j++)s.writeByte(o[$++]);return $}function writeDataUint16(o,s,a,$){for(let j=0;j<a;j++)s.writeUint16(o[$++]);return $}var ResolutionUnitSpecifier;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng(o,s){return new PngDecoder(o,s).decode()}function encodePng$1(o,s){return new PngEncoder(o,s).encode()}var encoder={exports:{}};(function(o){function s($){var j=Math.floor,_e=new Array(64),et=new Array(64),tt=new Array(64),rt=new Array(64),nt,it,ot,st,at=new Array(65535),lt=new Array(65535),ft=new Array(64),pt=new Array(64),ut=[],dt=0,ct=7,ht=new Array(64),mt=new Array(64),vt=new Array(64),yt=new Array(256),xt=new Array(2048),bt,gt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],wt=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Et=[0,1,2,3,4,5,6,7,8,9,10,11],kt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ct=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Mt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ft=[0,1,2,3,4,5,6,7,8,9,10,11],Tt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$t=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Dt(At){for(var Qt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Jt=0;Jt<64;Jt++){var ln=j((Qt[Jt]*At+50)/100);ln<1?ln=1:ln>255&&(ln=255),_e[gt[Jt]]=ln}for(var Nt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],mn=0;mn<64;mn++){var gn=j((Nt[mn]*At+50)/100);gn<1?gn=1:gn>255&&(gn=255),et[gt[mn]]=gn}for(var en=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],rn=0,Zt=0;Zt<8;Zt++)for(var Lt=0;Lt<8;Lt++)tt[rn]=1/(_e[gt[rn]]*en[Zt]*en[Lt]*8),rt[rn]=1/(et[gt[rn]]*en[Zt]*en[Lt]*8),rn++}function It(At,Qt){for(var Jt=0,ln=0,Nt=new Array,mn=1;mn<=16;mn++){for(var gn=1;gn<=At[mn];gn++)Nt[Qt[ln]]=[],Nt[Qt[ln]][0]=Jt,Nt[Qt[ln]][1]=mn,ln++,Jt++;Jt*=2}return Nt}function Yt(){nt=It(wt,Et),it=It(Mt,Ft),ot=It(kt,Ct),st=It(Tt,$t)}function Ht(){for(var At=1,Qt=2,Jt=1;Jt<=15;Jt++){for(var ln=At;ln<Qt;ln++)lt[32767+ln]=Jt,at[32767+ln]=[],at[32767+ln][1]=Jt,at[32767+ln][0]=ln;for(var Nt=-(Qt-1);Nt<=-At;Nt++)lt[32767+Nt]=Jt,at[32767+Nt]=[],at[32767+Nt][1]=Jt,at[32767+Nt][0]=Qt-1+Nt;At<<=1,Qt<<=1}}function jt(){for(var At=0;At<256;At++)xt[At]=19595*At,xt[At+256>>0]=38470*At,xt[At+512>>0]=7471*At+32768,xt[At+768>>0]=-11059*At,xt[At+1024>>0]=-21709*At,xt[At+1280>>0]=32768*At+8421375,xt[At+1536>>0]=-27439*At,xt[At+1792>>0]=-5329*At}function Bt(At){for(var Qt=At[0],Jt=At[1]-1;Jt>=0;)Qt&1<<Jt&&(dt|=1<<ct),Jt--,ct--,ct<0&&(dt==255?(Ot(255),Ot(0)):Ot(dt),ct=7,dt=0)}function Ot(At){ut.push(At)}function Ut(At){Ot(At>>8&255),Ot(At&255)}function Gt(At,Qt){var Jt,ln,Nt,mn,gn,en,rn,Zt,Lt=0,Wt,un=8,on=64;for(Wt=0;Wt<un;++Wt){Jt=At[Lt],ln=At[Lt+1],Nt=At[Lt+2],mn=At[Lt+3],gn=At[Lt+4],en=At[Lt+5],rn=At[Lt+6],Zt=At[Lt+7];var xn=Jt+Zt,yn=Jt-Zt,vn=ln+rn,En=ln-rn,bn=Nt+en,Rn=Nt-en,jn=mn+gn,Un=mn-gn,Tn=xn+jn,On=xn-jn,Dn=vn+bn,Pn=vn-bn;At[Lt]=Tn+Dn,At[Lt+4]=Tn-Dn;var Nn=(Pn+On)*.707106781;At[Lt+2]=On+Nn,At[Lt+6]=On-Nn,Tn=Un+Rn,Dn=Rn+En,Pn=En+yn;var Ln=(Tn-Pn)*.382683433,St=.5411961*Tn+Ln,Rt=1.306562965*Pn+Ln,Pt=Dn*.707106781,Vt=yn+Pt,sn=yn-Pt;At[Lt+5]=sn+St,At[Lt+3]=sn-St,At[Lt+1]=Vt+Rt,At[Lt+7]=Vt-Rt,Lt+=8}for(Lt=0,Wt=0;Wt<un;++Wt){Jt=At[Lt],ln=At[Lt+8],Nt=At[Lt+16],mn=At[Lt+24],gn=At[Lt+32],en=At[Lt+40],rn=At[Lt+48],Zt=At[Lt+56];var cn=Jt+Zt,_n=Jt-Zt,wn=ln+rn,Sn=ln-rn,Mn=Nt+en,Vn=Nt-en,kn=mn+gn,Bn=mn-gn,Cn=cn+kn,In=cn-kn,$n=wn+Mn,Fn=wn-Mn;At[Lt]=Cn+$n,At[Lt+32]=Cn-$n;var zn=(Fn+In)*.707106781;At[Lt+16]=In+zn,At[Lt+48]=In-zn,Cn=Bn+Vn,$n=Vn+Sn,Fn=Sn+_n;var An=(Cn-Fn)*.382683433,Hn=.5411961*Cn+An,Wn=1.306562965*Fn+An,Kn=$n*.707106781,Gn=_n+Kn,Xn=_n-Kn;At[Lt+40]=Xn+Hn,At[Lt+24]=Xn-Hn,At[Lt+8]=Gn+Wn,At[Lt+56]=Gn-Wn,Lt++}var Yn;for(Wt=0;Wt<on;++Wt)Yn=At[Wt]*Qt[Wt],ft[Wt]=Yn>0?Yn+.5|0:Yn-.5|0;return ft}function dn(){Ut(65504),Ut(16),Ot(74),Ot(70),Ot(73),Ot(70),Ot(0),Ot(1),Ot(1),Ot(0),Ut(1),Ut(1),Ot(0),Ot(0)}function tn(At){if(At){Ut(65505),At[0]===69&&At[1]===120&&At[2]===105&&At[3]===102?Ut(At.length+2):(Ut(At.length+5+2),Ot(69),Ot(120),Ot(105),Ot(102),Ot(0));for(var Qt=0;Qt<At.length;Qt++)Ot(At[Qt])}}function fn(At,Qt){Ut(65472),Ut(17),Ot(8),Ut(Qt),Ut(At),Ot(3),Ot(1),Ot(17),Ot(0),Ot(2),Ot(17),Ot(1),Ot(3),Ot(17),Ot(1)}function nn(){Ut(65499),Ut(132),Ot(0);for(var At=0;At<64;At++)Ot(_e[At]);Ot(1);for(var Qt=0;Qt<64;Qt++)Ot(et[Qt])}function Xt(){Ut(65476),Ut(418),Ot(0);for(var At=0;At<16;At++)Ot(wt[At+1]);for(var Qt=0;Qt<=11;Qt++)Ot(Et[Qt]);Ot(16);for(var Jt=0;Jt<16;Jt++)Ot(kt[Jt+1]);for(var ln=0;ln<=161;ln++)Ot(Ct[ln]);Ot(1);for(var Nt=0;Nt<16;Nt++)Ot(Mt[Nt+1]);for(var mn=0;mn<=11;mn++)Ot(Ft[mn]);Ot(17);for(var gn=0;gn<16;gn++)Ot(Tt[gn+1]);for(var en=0;en<=161;en++)Ot($t[en])}function an(At){typeof At>"u"||At.constructor!==Array||At.forEach(Qt=>{if(typeof Qt=="string"){Ut(65534);var Jt=Qt.length;Ut(Jt+2);var ln;for(ln=0;ln<Jt;ln++)Ot(Qt.charCodeAt(ln))}})}function Kt(){Ut(65498),Ut(12),Ot(3),Ot(1),Ot(0),Ot(2),Ot(17),Ot(3),Ot(17),Ot(0),Ot(63),Ot(0)}function zt(At,Qt,Jt,ln,Nt){for(var mn=Nt[0],gn=Nt[240],en,rn=16,Zt=63,Lt=64,Wt=Gt(At,Qt),un=0;un<Lt;++un)pt[gt[un]]=Wt[un];var on=pt[0]-Jt;Jt=pt[0],on==0?Bt(ln[0]):(en=32767+on,Bt(ln[lt[en]]),Bt(at[en]));for(var xn=63;xn>0&&pt[xn]==0;xn--);if(xn==0)return Bt(mn),Jt;for(var yn=1,vn;yn<=xn;){for(var En=yn;pt[yn]==0&&yn<=xn;++yn);var bn=yn-En;if(bn>=rn){vn=bn>>4;for(var Rn=1;Rn<=vn;++Rn)Bt(gn);bn=bn&15}en=32767+pt[yn],Bt(Nt[(bn<<4)+lt[en]]),Bt(at[en]),yn++}return xn!=Zt&&Bt(mn),Jt}function pn(){for(var At=String.fromCharCode,Qt=0;Qt<256;Qt++)yt[Qt]=At(Qt)}this.encode=function(At,Qt){new Date().getTime(),Qt&&qt(Qt),ut=new Array,dt=0,ct=7,Ut(65496),dn(),an(At.comments),tn(At.exifBuffer),nn(),fn(At.width,At.height),Xt(),Kt();var Jt=0,ln=0,Nt=0;dt=0,ct=7,this.encode.displayName="_encode_";for(var mn=At.data,gn=At.width,en=At.height,rn=gn*4,Zt,Lt=0,Wt,un,on,xn,yn,vn,En,bn;Lt<en;){for(Zt=0;Zt<rn;){for(xn=rn*Lt+Zt,yn=xn,vn=-1,En=0,bn=0;bn<64;bn++)En=bn>>3,vn=(bn&7)*4,yn=xn+En*rn+vn,Lt+En>=en&&(yn-=rn*(Lt+1+En-en)),Zt+vn>=rn&&(yn-=Zt+vn-rn+4),Wt=mn[yn++],un=mn[yn++],on=mn[yn++],ht[bn]=(xt[Wt]+xt[un+256>>0]+xt[on+512>>0]>>16)-128,mt[bn]=(xt[Wt+768>>0]+xt[un+1024>>0]+xt[on+1280>>0]>>16)-128,vt[bn]=(xt[Wt+1280>>0]+xt[un+1536>>0]+xt[on+1792>>0]>>16)-128;Jt=zt(ht,tt,Jt,nt,ot),ln=zt(mt,rt,ln,it,st),Nt=zt(vt,rt,Nt,it,st),Zt+=32}Lt+=8}if(ct>=0){var Rn=[];Rn[1]=ct+1,Rn[0]=(1<<ct+1)-1,Bt(Rn)}return Ut(65497),Buffer.from(ut)};function qt(At){if(At<=0&&(At=1),At>100&&(At=100),bt!=At){var Qt=0;At<50?Qt=Math.floor(5e3/At):Qt=Math.floor(200-At*2),Dt(Qt),bt=At}}function hn(){var At=new Date().getTime();$||($=50),pn(),Yt(),Ht(),jt(),qt($),new Date().getTime()-At}hn()}o.exports=a;function a($,j){typeof j>"u"&&(j=50);var _e=new s(j),et=_e.encode($,j);return{data:et,width:$.width,height:$.height}}})(encoder);var encoderExports=encoder.exports,decoder={exports:{}};(function(o){var s=function(){var j=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),_e=4017,et=799,tt=3406,rt=2276,nt=1567,it=3784,ot=5793,st=2896;function at(){}function lt(mt,vt){for(var yt=0,xt=[],bt,gt,wt=16;wt>0&&!mt[wt-1];)wt--;xt.push({children:[],index:0});var Et=xt[0],kt;for(bt=0;bt<wt;bt++){for(gt=0;gt<mt[bt];gt++){for(Et=xt.pop(),Et.children[Et.index]=vt[yt];Et.index>0;){if(xt.length===0)throw new Error("Could not recreate Huffman Table");Et=xt.pop()}for(Et.index++,xt.push(Et);xt.length<=bt;)xt.push(kt={children:[],index:0}),Et.children[Et.index]=kt.children,Et=kt;yt++}bt+1<wt&&(xt.push(kt={children:[],index:0}),Et.children[Et.index]=kt.children,Et=kt)}return xt[0].children}function ft(mt,vt,yt,xt,bt,gt,wt,Et,kt,Ct){yt.precision,yt.samplesPerLine,yt.scanLines;var Mt=yt.mcusPerLine,Ft=yt.progressive;yt.maxH,yt.maxV;var Tt=vt,$t=0,Dt=0;function It(){if(Dt>0)return Dt--,$t>>Dt&1;if($t=mt[vt++],$t==255){var en=mt[vt++];if(en)throw new Error("unexpected marker: "+($t<<8|en).toString(16))}return Dt=7,$t>>>7}function Yt(en){for(var rn=en,Zt;(Zt=It())!==null;){if(rn=rn[Zt],typeof rn=="number")return rn;if(typeof rn!="object")throw new Error("invalid huffman sequence")}return null}function Ht(en){for(var rn=0;en>0;){var Zt=It();if(Zt===null)return;rn=rn<<1|Zt,en--}return rn}function jt(en){var rn=Ht(en);return rn>=1<<en-1?rn:rn+(-1<<en)+1}function Bt(en,rn){var Zt=Yt(en.huffmanTableDC),Lt=Zt===0?0:jt(Zt);rn[0]=en.pred+=Lt;for(var Wt=1;Wt<64;){var un=Yt(en.huffmanTableAC),on=un&15,xn=un>>4;if(on===0){if(xn<15)break;Wt+=16;continue}Wt+=xn;var yn=j[Wt];rn[yn]=jt(on),Wt++}}function Ot(en,rn){var Zt=Yt(en.huffmanTableDC),Lt=Zt===0?0:jt(Zt)<<kt;rn[0]=en.pred+=Lt}function Ut(en,rn){rn[0]|=It()<<kt}var Gt=0;function dn(en,rn){if(Gt>0){Gt--;return}for(var Zt=gt,Lt=wt;Zt<=Lt;){var Wt=Yt(en.huffmanTableAC),un=Wt&15,on=Wt>>4;if(un===0){if(on<15){Gt=Ht(on)+(1<<on)-1;break}Zt+=16;continue}Zt+=on;var xn=j[Zt];rn[xn]=jt(un)*(1<<kt),Zt++}}var tn=0,fn;function nn(en,rn){for(var Zt=gt,Lt=wt,Wt=0;Zt<=Lt;){var un=j[Zt],on=rn[un]<0?-1:1;switch(tn){case 0:var xn=Yt(en.huffmanTableAC),yn=xn&15,Wt=xn>>4;if(yn===0)Wt<15?(Gt=Ht(Wt)+(1<<Wt),tn=4):(Wt=16,tn=1);else{if(yn!==1)throw new Error("invalid ACn encoding");fn=jt(yn),tn=Wt?2:3}continue;case 1:case 2:rn[un]?rn[un]+=(It()<<kt)*on:(Wt--,Wt===0&&(tn=tn==2?3:0));break;case 3:rn[un]?rn[un]+=(It()<<kt)*on:(rn[un]=fn<<kt,tn=0);break;case 4:rn[un]&&(rn[un]+=(It()<<kt)*on);break}Zt++}tn===4&&(Gt--,Gt===0&&(tn=0))}function Xt(en,rn,Zt,Lt,Wt){var un=Zt/Mt|0,on=Zt%Mt,xn=un*en.v+Lt,yn=on*en.h+Wt;en.blocks[xn]===void 0&&Ct.tolerantDecoding||rn(en,en.blocks[xn][yn])}function an(en,rn,Zt){var Lt=Zt/en.blocksPerLine|0,Wt=Zt%en.blocksPerLine;en.blocks[Lt]===void 0&&Ct.tolerantDecoding||rn(en,en.blocks[Lt][Wt])}var Kt=xt.length,zt,pn,qt,hn,At,Qt;Ft?gt===0?Qt=Et===0?Ot:Ut:Qt=Et===0?dn:nn:Qt=Bt;var Jt=0,ln,Nt;Kt==1?Nt=xt[0].blocksPerLine*xt[0].blocksPerColumn:Nt=Mt*yt.mcusPerColumn,bt||(bt=Nt);for(var mn,gn;Jt<Nt;){for(pn=0;pn<Kt;pn++)xt[pn].pred=0;if(Gt=0,Kt==1)for(zt=xt[0],At=0;At<bt;At++)an(zt,Qt,Jt),Jt++;else for(At=0;At<bt;At++){for(pn=0;pn<Kt;pn++)for(zt=xt[pn],mn=zt.h,gn=zt.v,qt=0;qt<gn;qt++)for(hn=0;hn<mn;hn++)Xt(zt,Qt,Jt,qt,hn);if(Jt++,Jt===Nt)break}if(Jt===Nt)do{if(mt[vt]===255&&mt[vt+1]!==0)break;vt+=1}while(vt<mt.length-2);if(Dt=0,ln=mt[vt]<<8|mt[vt+1],ln<65280)throw new Error("marker was not found");if(ln>=65488&&ln<=65495)vt+=2;else break}return vt-Tt}function pt(mt,vt){var yt=[],xt=vt.blocksPerLine,bt=vt.blocksPerColumn,gt=xt<<3,wt=new Int32Array(64),Et=new Uint8Array(64);function kt(Ht,jt,Bt){var Ot=vt.quantizationTable,Ut,Gt,dn,tn,fn,nn,Xt,an,Kt,zt=Bt,pn;for(pn=0;pn<64;pn++)zt[pn]=Ht[pn]*Ot[pn];for(pn=0;pn<8;++pn){var qt=8*pn;if(zt[1+qt]==0&&zt[2+qt]==0&&zt[3+qt]==0&&zt[4+qt]==0&&zt[5+qt]==0&&zt[6+qt]==0&&zt[7+qt]==0){Kt=ot*zt[0+qt]+512>>10,zt[0+qt]=Kt,zt[1+qt]=Kt,zt[2+qt]=Kt,zt[3+qt]=Kt,zt[4+qt]=Kt,zt[5+qt]=Kt,zt[6+qt]=Kt,zt[7+qt]=Kt;continue}Ut=ot*zt[0+qt]+128>>8,Gt=ot*zt[4+qt]+128>>8,dn=zt[2+qt],tn=zt[6+qt],fn=st*(zt[1+qt]-zt[7+qt])+128>>8,an=st*(zt[1+qt]+zt[7+qt])+128>>8,nn=zt[3+qt]<<4,Xt=zt[5+qt]<<4,Kt=Ut-Gt+1>>1,Ut=Ut+Gt+1>>1,Gt=Kt,Kt=dn*it+tn*nt+128>>8,dn=dn*nt-tn*it+128>>8,tn=Kt,Kt=fn-Xt+1>>1,fn=fn+Xt+1>>1,Xt=Kt,Kt=an+nn+1>>1,nn=an-nn+1>>1,an=Kt,Kt=Ut-tn+1>>1,Ut=Ut+tn+1>>1,tn=Kt,Kt=Gt-dn+1>>1,Gt=Gt+dn+1>>1,dn=Kt,Kt=fn*rt+an*tt+2048>>12,fn=fn*tt-an*rt+2048>>12,an=Kt,Kt=nn*et+Xt*_e+2048>>12,nn=nn*_e-Xt*et+2048>>12,Xt=Kt,zt[0+qt]=Ut+an,zt[7+qt]=Ut-an,zt[1+qt]=Gt+Xt,zt[6+qt]=Gt-Xt,zt[2+qt]=dn+nn,zt[5+qt]=dn-nn,zt[3+qt]=tn+fn,zt[4+qt]=tn-fn}for(pn=0;pn<8;++pn){var hn=pn;if(zt[8+hn]==0&&zt[16+hn]==0&&zt[24+hn]==0&&zt[32+hn]==0&&zt[40+hn]==0&&zt[48+hn]==0&&zt[56+hn]==0){Kt=ot*Bt[pn+0]+8192>>14,zt[0+hn]=Kt,zt[8+hn]=Kt,zt[16+hn]=Kt,zt[24+hn]=Kt,zt[32+hn]=Kt,zt[40+hn]=Kt,zt[48+hn]=Kt,zt[56+hn]=Kt;continue}Ut=ot*zt[0+hn]+2048>>12,Gt=ot*zt[32+hn]+2048>>12,dn=zt[16+hn],tn=zt[48+hn],fn=st*(zt[8+hn]-zt[56+hn])+2048>>12,an=st*(zt[8+hn]+zt[56+hn])+2048>>12,nn=zt[24+hn],Xt=zt[40+hn],Kt=Ut-Gt+1>>1,Ut=Ut+Gt+1>>1,Gt=Kt,Kt=dn*it+tn*nt+2048>>12,dn=dn*nt-tn*it+2048>>12,tn=Kt,Kt=fn-Xt+1>>1,fn=fn+Xt+1>>1,Xt=Kt,Kt=an+nn+1>>1,nn=an-nn+1>>1,an=Kt,Kt=Ut-tn+1>>1,Ut=Ut+tn+1>>1,tn=Kt,Kt=Gt-dn+1>>1,Gt=Gt+dn+1>>1,dn=Kt,Kt=fn*rt+an*tt+2048>>12,fn=fn*tt-an*rt+2048>>12,an=Kt,Kt=nn*et+Xt*_e+2048>>12,nn=nn*_e-Xt*et+2048>>12,Xt=Kt,zt[0+hn]=Ut+an,zt[56+hn]=Ut-an,zt[8+hn]=Gt+Xt,zt[48+hn]=Gt-Xt,zt[16+hn]=dn+nn,zt[40+hn]=dn-nn,zt[24+hn]=tn+fn,zt[32+hn]=tn-fn}for(pn=0;pn<64;++pn){var At=128+(zt[pn]+8>>4);jt[pn]=At<0?0:At>255?255:At}}ht(gt*bt*8);for(var Ct,Mt,Ft=0;Ft<bt;Ft++){var Tt=Ft<<3;for(Ct=0;Ct<8;Ct++)yt.push(new Uint8Array(gt));for(var $t=0;$t<xt;$t++){kt(vt.blocks[Ft][$t],Et,wt);var Dt=0,It=$t<<3;for(Mt=0;Mt<8;Mt++){var Yt=yt[Tt+Mt];for(Ct=0;Ct<8;Ct++)Yt[It+Ct]=Et[Dt++]}}}return yt}function ut(mt){return mt<0?0:mt>255?255:mt}at.prototype={load:function(vt){var yt=new XMLHttpRequest;yt.open("GET",vt,!0),yt.responseType="arraybuffer",yt.onload=(function(){var xt=new Uint8Array(yt.response||yt.mozResponseArrayBuffer);this.parse(xt),this.onload&&this.onload()}).bind(this),yt.send(null)},parse:function(vt){var yt=this.opts.maxResolutionInMP*1e3*1e3,xt=0;vt.length;function bt(){var on=vt[xt]<<8|vt[xt+1];return xt+=2,on}function gt(){var on=bt(),xn=vt.subarray(xt,xt+on-2);return xt+=xn.length,xn}function wt(on){var xn=1,yn=1,vn,En;for(En in on.components)on.components.hasOwnProperty(En)&&(vn=on.components[En],xn<vn.h&&(xn=vn.h),yn<vn.v&&(yn=vn.v));var bn=Math.ceil(on.samplesPerLine/8/xn),Rn=Math.ceil(on.scanLines/8/yn);for(En in on.components)if(on.components.hasOwnProperty(En)){vn=on.components[En];var jn=Math.ceil(Math.ceil(on.samplesPerLine/8)*vn.h/xn),Un=Math.ceil(Math.ceil(on.scanLines/8)*vn.v/yn),Tn=bn*vn.h,On=Rn*vn.v,Dn=On*Tn,Pn=[];ht(Dn*256);for(var Nn=0;Nn<On;Nn++){for(var Ln=[],St=0;St<Tn;St++)Ln.push(new Int32Array(64));Pn.push(Ln)}vn.blocksPerLine=jn,vn.blocksPerColumn=Un,vn.blocks=Pn}on.maxH=xn,on.maxV=yn,on.mcusPerLine=bn,on.mcusPerColumn=Rn}var Et=null,kt=null,Ct,Mt,Ft=[],Tt=[],$t=[],Dt=[],It=bt(),Yt=-1;if(this.comments=[],It!=65496)throw new Error("SOI not found");for(It=bt();It!=65497;){var Ht,jt;switch(It){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Bt=gt();if(It===65534){var Ot=String.fromCharCode.apply(null,Bt);this.comments.push(Ot)}It===65504&&Bt[0]===74&&Bt[1]===70&&Bt[2]===73&&Bt[3]===70&&Bt[4]===0&&(Et={version:{major:Bt[5],minor:Bt[6]},densityUnits:Bt[7],xDensity:Bt[8]<<8|Bt[9],yDensity:Bt[10]<<8|Bt[11],thumbWidth:Bt[12],thumbHeight:Bt[13],thumbData:Bt.subarray(14,14+3*Bt[12]*Bt[13])}),It===65505&&Bt[0]===69&&Bt[1]===120&&Bt[2]===105&&Bt[3]===102&&Bt[4]===0&&(this.exifBuffer=Bt.subarray(5,Bt.length)),It===65518&&Bt[0]===65&&Bt[1]===100&&Bt[2]===111&&Bt[3]===98&&Bt[4]===101&&Bt[5]===0&&(kt={version:Bt[6],flags0:Bt[7]<<8|Bt[8],flags1:Bt[9]<<8|Bt[10],transformCode:Bt[11]});break;case 65499:for(var Ut=bt(),Gt=Ut+xt-2;xt<Gt;){var dn=vt[xt++];ht(256);var tn=new Int32Array(64);if(dn>>4)if(dn>>4===1)for(jt=0;jt<64;jt++){var fn=j[jt];tn[fn]=bt()}else throw new Error("DQT: invalid table spec");else for(jt=0;jt<64;jt++){var fn=j[jt];tn[fn]=vt[xt++]}Ft[dn&15]=tn}break;case 65472:case 65473:case 65474:bt(),Ct={},Ct.extended=It===65473,Ct.progressive=It===65474,Ct.precision=vt[xt++],Ct.scanLines=bt(),Ct.samplesPerLine=bt(),Ct.components={},Ct.componentsOrder=[];var nn=Ct.scanLines*Ct.samplesPerLine;if(nn>yt){var Xt=Math.ceil((nn-yt)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${Xt}MP`)}var an=vt[xt++],Kt;for(Ht=0;Ht<an;Ht++){Kt=vt[xt];var zt=vt[xt+1]>>4,pn=vt[xt+1]&15,qt=vt[xt+2];if(zt<=0||pn<=0)throw new Error("Invalid sampling factor, expected values above 0");Ct.componentsOrder.push(Kt),Ct.components[Kt]={h:zt,v:pn,quantizationIdx:qt},xt+=3}wt(Ct),Tt.push(Ct);break;case 65476:var hn=bt();for(Ht=2;Ht<hn;){var At=vt[xt++],Qt=new Uint8Array(16),Jt=0;for(jt=0;jt<16;jt++,xt++)Jt+=Qt[jt]=vt[xt];ht(16+Jt);var ln=new Uint8Array(Jt);for(jt=0;jt<Jt;jt++,xt++)ln[jt]=vt[xt];Ht+=17+Jt,(At>>4?$t:Dt)[At&15]=lt(Qt,ln)}break;case 65501:bt(),Mt=bt();break;case 65500:bt(),bt();break;case 65498:bt();var Nt=vt[xt++],mn=[],gn;for(Ht=0;Ht<Nt;Ht++){gn=Ct.components[vt[xt++]];var en=vt[xt++];gn.huffmanTableDC=Dt[en>>4],gn.huffmanTableAC=$t[en&15],mn.push(gn)}var rn=vt[xt++],Zt=vt[xt++],Lt=vt[xt++],Wt=ft(vt,xt,Ct,mn,Mt,rn,Zt,Lt>>4,Lt&15,this.opts);xt+=Wt;break;case 65535:vt[xt]!==255&&xt--;break;default:if(vt[xt-3]==255&&vt[xt-2]>=192&&vt[xt-2]<=254){xt-=3;break}else if(It===224||It==225){if(Yt!==-1)throw new Error(`first unknown JPEG marker at offset ${Yt.toString(16)}, second unknown JPEG marker ${It.toString(16)} at offset ${(xt-1).toString(16)}`);Yt=xt-1;const on=bt();if(vt[xt+on-2]===255){xt+=on-2;break}}throw new Error("unknown JPEG marker "+It.toString(16))}It=bt()}if(Tt.length!=1)throw new Error("only single frame JPEGs supported");for(var Ht=0;Ht<Tt.length;Ht++){var un=Tt[Ht].components;for(var jt in un)un[jt].quantizationTable=Ft[un[jt].quantizationIdx],delete un[jt].quantizationIdx}this.width=Ct.samplesPerLine,this.height=Ct.scanLines,this.jfif=Et,this.adobe=kt,this.components=[];for(var Ht=0;Ht<Ct.componentsOrder.length;Ht++){var gn=Ct.components[Ct.componentsOrder[Ht]];this.components.push({lines:pt(Ct,gn),scaleX:gn.h/Ct.maxH,scaleY:gn.v/Ct.maxV})}},getData:function(vt,yt){var xt=this.width/vt,bt=this.height/yt,gt,wt,Et,kt,Ct,Mt,Ft,Tt,$t,Dt,It=0,Yt,Ht,jt,Bt,Ot,Ut,Gt,dn,tn,fn,nn,Xt=vt*yt*this.components.length;ht(Xt);var an=new Uint8Array(Xt);switch(this.components.length){case 1:for(gt=this.components[0],Dt=0;Dt<yt;Dt++)for(Ct=gt.lines[0|Dt*gt.scaleY*bt],$t=0;$t<vt;$t++)Yt=Ct[0|$t*gt.scaleX*xt],an[It++]=Yt;break;case 2:for(gt=this.components[0],wt=this.components[1],Dt=0;Dt<yt;Dt++)for(Ct=gt.lines[0|Dt*gt.scaleY*bt],Mt=wt.lines[0|Dt*wt.scaleY*bt],$t=0;$t<vt;$t++)Yt=Ct[0|$t*gt.scaleX*xt],an[It++]=Yt,Yt=Mt[0|$t*wt.scaleX*xt],an[It++]=Yt;break;case 3:for(nn=!0,this.adobe&&this.adobe.transformCode?nn=!0:typeof this.opts.colorTransform<"u"&&(nn=!!this.opts.colorTransform),gt=this.components[0],wt=this.components[1],Et=this.components[2],Dt=0;Dt<yt;Dt++)for(Ct=gt.lines[0|Dt*gt.scaleY*bt],Mt=wt.lines[0|Dt*wt.scaleY*bt],Ft=Et.lines[0|Dt*Et.scaleY*bt],$t=0;$t<vt;$t++)nn?(Yt=Ct[0|$t*gt.scaleX*xt],Ht=Mt[0|$t*wt.scaleX*xt],jt=Ft[0|$t*Et.scaleX*xt],dn=ut(Yt+1.402*(jt-128)),tn=ut(Yt-.3441363*(Ht-128)-.71413636*(jt-128)),fn=ut(Yt+1.772*(Ht-128))):(dn=Ct[0|$t*gt.scaleX*xt],tn=Mt[0|$t*wt.scaleX*xt],fn=Ft[0|$t*Et.scaleX*xt]),an[It++]=dn,an[It++]=tn,an[It++]=fn;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(nn=!1,this.adobe&&this.adobe.transformCode?nn=!0:typeof this.opts.colorTransform<"u"&&(nn=!!this.opts.colorTransform),gt=this.components[0],wt=this.components[1],Et=this.components[2],kt=this.components[3],Dt=0;Dt<yt;Dt++)for(Ct=gt.lines[0|Dt*gt.scaleY*bt],Mt=wt.lines[0|Dt*wt.scaleY*bt],Ft=Et.lines[0|Dt*Et.scaleY*bt],Tt=kt.lines[0|Dt*kt.scaleY*bt],$t=0;$t<vt;$t++)nn?(Yt=Ct[0|$t*gt.scaleX*xt],Ht=Mt[0|$t*wt.scaleX*xt],jt=Ft[0|$t*Et.scaleX*xt],Bt=Tt[0|$t*kt.scaleX*xt],Ot=255-ut(Yt+1.402*(jt-128)),Ut=255-ut(Yt-.3441363*(Ht-128)-.71413636*(jt-128)),Gt=255-ut(Yt+1.772*(Ht-128))):(Ot=Ct[0|$t*gt.scaleX*xt],Ut=Mt[0|$t*wt.scaleX*xt],Gt=Ft[0|$t*Et.scaleX*xt],Bt=Tt[0|$t*kt.scaleX*xt]),an[It++]=255-Ot,an[It++]=255-Ut,an[It++]=255-Gt,an[It++]=255-Bt;break;default:throw new Error("Unsupported color mode")}return an},copyToImageData:function(vt,yt){var xt=vt.width,bt=vt.height,gt=vt.data,wt=this.getData(xt,bt),Et=0,kt=0,Ct,Mt,Ft,Tt,$t,Dt,It,Yt,Ht;switch(this.components.length){case 1:for(Mt=0;Mt<bt;Mt++)for(Ct=0;Ct<xt;Ct++)Ft=wt[Et++],gt[kt++]=Ft,gt[kt++]=Ft,gt[kt++]=Ft,yt&&(gt[kt++]=255);break;case 3:for(Mt=0;Mt<bt;Mt++)for(Ct=0;Ct<xt;Ct++)It=wt[Et++],Yt=wt[Et++],Ht=wt[Et++],gt[kt++]=It,gt[kt++]=Yt,gt[kt++]=Ht,yt&&(gt[kt++]=255);break;case 4:for(Mt=0;Mt<bt;Mt++)for(Ct=0;Ct<xt;Ct++)$t=wt[Et++],Dt=wt[Et++],Ft=wt[Et++],Tt=wt[Et++],It=255-ut($t*(1-Tt/255)+Tt),Yt=255-ut(Dt*(1-Tt/255)+Tt),Ht=255-ut(Ft*(1-Tt/255)+Tt),gt[kt++]=It,gt[kt++]=Yt,gt[kt++]=Ht,yt&&(gt[kt++]=255);break;default:throw new Error("Unsupported color mode")}}};var dt=0,ct=0;function ht(mt=0){var vt=dt+mt;if(vt>ct){var yt=Math.ceil((vt-ct)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${yt}MB`)}dt=vt}return at.resetMaxMemoryUsage=function(mt){dt=0,ct=mt},at.getBytesAllocated=function(){return dt},at.requestMemoryAllocation=ht,at}();o.exports=a;function a($,j={}){var _e={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},et={..._e,...j},tt=new Uint8Array($),rt=new s;rt.opts=et,s.resetMaxMemoryUsage(et.maxMemoryUsageInMB*1024*1024),rt.parse(tt);var nt=et.formatAsRGBA?4:3,it=rt.width*rt.height*nt;try{s.requestMemoryAllocation(it);var ot={width:rt.width,height:rt.height,exifBuffer:rt.exifBuffer,data:et.useTArray?new Uint8Array(it):Buffer.alloc(it)};rt.comments.length>0&&(ot.comments=rt.comments)}catch(st){throw st instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+it):st instanceof ReferenceError&&st.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):st}return rt.copyToImageData(ot,et.formatAsRGBA),ot}})(decoder);var decoderExports=decoder.exports,encode$1=encoderExports,decode$4=decoderExports,jpegJs={encode:encode$1,decode:decode$4};let chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(let o=0;o<chars$1.length;o++)lookup[chars$1.charCodeAt(o)]=o;function encode(o){let s,a=o.length,$="";for(s=0;s<a;s+=3)$+=chars$1[o[s]>>2],$+=chars$1[(o[s]&3)<<4|o[s+1]>>4],$+=chars$1[(o[s+1]&15)<<2|o[s+2]>>6],$+=chars$1[o[s+2]&63];return a%3===2?$=`${$.substring(0,$.length-1)}=`:a%3===1&&($=`${$.substring(0,$.length-2)}==`),$}function decode$3(o){let s=o.length*.75,a=o.length,$=0,j,_e,et,tt;o[o.length-1]==="="&&(s--,o[o.length-2]==="="&&s--);const rt=new Uint8Array(s);for(let nt=0;nt<a;nt+=4)j=lookup[o.charCodeAt(nt)],_e=lookup[o.charCodeAt(nt+1)],et=lookup[o.charCodeAt(nt+2)],tt=lookup[o.charCodeAt(nt+3)],rt[$++]=j<<2|_e>>4,rt[$++]=(_e&15)<<4|et>>2,rt[$++]=(et&3)<<6|tt&63;return rt}function toBase64URL(o,s){const a=encode(o);return`data:${s};base64,${a}`}const ImageData=self.ImageData,DOMImage=self.Image;function createCanvas(o,s){let a=self.document.createElement("canvas");return a.width=o,a.height=s,a}function fetchBinary(o,{withCredentials:s=!1}={}){return new Promise(function(a,$){let j=new self.XMLHttpRequest;j.open("GET",o,!0),j.responseType="arraybuffer",j.withCredentials=s,j.onload=function(_e){this.status!==200?$(_e):a(this.response)},j.onerror=$,j.send()})}function createWriteStream(){throw new Error("createWriteStream does not exist in the browser")}function writeFile(){throw new Error("writeFile does not exist in the browser")}function getType(o){return o.includes("/")||(o=`image/${o}`),o}function encodeJpeg(o,s={}){const a={width:o.width,height:o.height,data:o.getRGBAData()};return jpegJs.encode(a,s.quality).data}function encodePng(o,s){const a={width:o.width,height:o.height,channels:o.channels,depth:o.bitDepth,data:o.data};return(a.depth===1||a.depth===32)&&(a.depth=8,a.channels=4,a.data=o.getRGBAData()),encodePng$1(a,s)}const exportMethods={save(o,s={}){const{useCanvas:a=!1,encoder:$=void 0}=s;let{format:j}=s;if(!j){const _e=/\.(?<format>[a-zA-Z]+)$/.exec(o);_e&&(j=_e.groups.format.toLowerCase())}if(!j)throw new Error("file format not provided");return new Promise((_e,et)=>{let tt,rt;switch(j.toLowerCase()){case"png":{a?tt=this.getCanvas().pngStream():rt=encodePng(this,$);break}case"jpg":case"jpeg":a?tt=this.getCanvas().jpegStream():rt=encodeJpeg(this,$);break;case"bmp":rt=encode$2(this,$);break;default:throw new RangeError(`invalid output format: ${j}`)}if(tt){let nt=createWriteStream();nt.on("finish",_e),nt.on("error",et),tt.pipe(nt)}else rt&&writeFile()})},toDataURL(o="image/png",s={}){typeof o=="object"&&(s=o,o="image/png");const{useCanvas:a=!1,encoder:$=void 0}=s;o=getType(o);function j(_e,et){const tt=_e(et,$);return toBase64URL(tt,o)}return o==="image/bmp"?j(encode$2,this):o==="image/png"&&!a?j(encodePng,this):o==="image/jpeg"&&!a?j(encodeJpeg,this):this.getCanvas().toDataURL(o)},toBuffer(o={}){const{format:s="png",encoder:a=void 0}=o;switch(s.toLowerCase()){case"png":return encodePng(this,a);case"jpeg":case"jpg":return encodeJpeg(this,a);case"bmp":return encode$2(this,a);default:throw new RangeError(`invalid output format: ${s}`)}},toBase64(o="image/png",s={}){if(s.async)return this.toDataURL(o,s).then(function(a){return a.substring(a.indexOf(",")+1)});{const a=this.toDataURL(o,s);return a.substring(a.indexOf(",")+1)}},toBlob(o="image/png",s=.8){return canvasToBlob(this.getCanvas(),o,s)},getCanvas(){const o=new ImageData(this.getRGBAData({clamped:!0}),this.width,this.height);let s=createCanvas(this.width,this.height);return s.getContext("2d").putImageData(o,0,0),s}};function setExportMethods(o){for(const s in exportMethods)o.prototype[s]=exportMethods[s]}var hasOwn$1={exports:{}};const name="has-own",version="1.0.1",description="A safer .hasOwnProperty() - hasOwn(name, obj)",main="index.js",scripts={test:"make test"},author="Aaron Heckmann <aaron.heckmann+github@gmail.com>",license="MIT",repository={type:"git",url:"git://github.com/aheckmann/has-own.git"},homepage="https://github.com/aheckmann/has-own/",devDependencies={mocha:"^6.2.2"},require$$0$3={name,version,description,main,scripts,author,license,repository,homepage,devDependencies};(function(o,s){var a=Object.prototype.hasOwnProperty;o.exports=s=function(j,_e){return a.call(_e,j)},s.version=require$$0$3.version})(hasOwn$1,hasOwn$1.exports);var hasOwnExports=hasOwn$1.exports;const hasOwn=getDefaultExportFromCjs(hasOwnExports);let computedPropertyDescriptor$1={configurable:!0,enumerable:!1,get:void 0};function extendMethod(o,s,a={}){let{inPlace:$=!1,returnThis:j=!0,partialArgs:_e=[]}=a;return $?Image.prototype[o]=function(...et){this.computed=null;let tt=s.apply(this,[..._e,...et]);return j?this:tt}:Image.prototype[o]=function(...et){return s.apply(this,[..._e,...et])},Image}function extendProperty(o,s,a={}){let{partialArgs:$=[]}=a;return computedPropertyDescriptor$1.get=function(){if(this.computed===null)this.computed={};else if(hasOwn(o,this.computed))return this.computed[o];let j=s.apply(this,$);return this.computed[o]=j,j},Object.defineProperty(Image.prototype,o,computedPropertyDescriptor$1),Image}const GREY$1="GREY",RGB$1="RGB",HSL="HSL",HSV="HSV",CMYK$1="CMYK",ColorModel=Object.freeze(Object.defineProperty({__proto__:null,CMYK:CMYK$1,GREY:GREY$1,HSL,HSV,RGB:RGB$1},Symbol.toStringTag,{value:"Module"}));function getRGBAData(o={}){const{clamped:s}=o;this.checkProcessable("getRGBAData",{components:[1,3],bitDepth:[1,8,16,32]});const a=this.width*this.height*4;let $=s?new Uint8ClampedArray(a):new Uint8Array(a);return this.bitDepth===1?fillDataFromBinary(this,$):this.bitDepth===32?(this.checkProcessable("getRGBAData",{alpha:0}),this.components===1?fillDataFromGrey32(this,$):this.components===3&&(this.checkProcessable("getRGBAData",{colorModel:[RGB$1]}),fillDataFromRGB32(this,$))):this.components===1?fillDataFromGrey(this,$):this.components===3&&(this.checkProcessable("getRGBAData",{colorModel:[RGB$1]}),fillDataFromRGB(this,$)),this.alpha===1?(this.checkProcessable("getRGBAData",{bitDepth:[8,16]}),copyAlpha(this,$)):fillAlpha(this,$),$}function fillDataFromBinary(o,s){for(let a=0;a<o.size;a++){const $=o.getBit(a);s[a*4]=$*255,s[a*4+1]=$*255,s[a*4+2]=$*255}}function fillDataFromGrey32(o,s){const a=o.min[0],j=o.max[0]-a;for(let _e=0;_e<o.size;_e++){const et=Math.floor(255*(o.data[_e]-a)/j);s[_e*4]=et,s[_e*4+1]=et,s[_e*4+2]=et}}function fillDataFromRGB32(o,s){const a=Math.min(...o.min),j=Math.max(...o.max)-a;for(let _e=0;_e<o.size;_e++){const et=Math.floor(255*(o.data[_e*3]-a)/j),tt=Math.floor(255*(o.data[_e*3+1]-a)/j),rt=Math.floor(255*(o.data[_e*3+2]-a)/j);s[_e*4]=et,s[_e*4+1]=tt,s[_e*4+2]=rt}}function fillDataFromGrey(o,s){for(let a=0;a<o.size;a++)s[a*4]=o.data[a*o.channels]>>>o.bitDepth-8,s[a*4+1]=o.data[a*o.channels]>>>o.bitDepth-8,s[a*4+2]=o.data[a*o.channels]>>>o.bitDepth-8}function fillDataFromRGB(o,s){for(let a=0;a<o.size;a++)s[a*4]=o.data[a*o.channels]>>>o.bitDepth-8,s[a*4+1]=o.data[a*o.channels+1]>>>o.bitDepth-8,s[a*4+2]=o.data[a*o.channels+2]>>>o.bitDepth-8}function copyAlpha(o,s){for(let a=0;a<o.size;a++)s[a*4+3]=o.data[a*o.channels+o.components]>>o.bitDepth-8}function fillAlpha(o,s){for(let a=0;a<o.size;a++)s[a*4+3]=255}const BINARY="BINARY",GREY="GREY",GREYA="GREYA",RGB="RGB",RGBA="RGBA",CMYK="CMYK",CMYKA="CMYKA",kinds={};kinds[BINARY]={components:1,alpha:0,bitDepth:1,colorModel:GREY$1};kinds[GREYA]={components:1,alpha:1,bitDepth:8,colorModel:GREY$1};kinds[GREY]={components:1,alpha:0,bitDepth:8,colorModel:GREY$1};kinds[RGBA]={components:3,alpha:1,bitDepth:8,colorModel:RGB$1};kinds[RGB]={components:3,alpha:0,bitDepth:8,colorModel:RGB$1};kinds[CMYK]={components:4,alpha:0,bitDepth:8,colorModel:CMYK$1};kinds[CMYKA]={components:4,alpha:1,bitDepth:8,colorModel:CMYK$1};function getKind(o){const s=kinds[o];if(!s)throw new RangeError(`invalid image kind: ${o}`);return s}const validBitDepth=[1,8,16,32];function verifyKindDefinition(o){const{components:s,alpha:a,bitDepth:$,colorModel:j}=o;if(!Number.isInteger(s)||s<=0)throw new RangeError(`invalid components: ${s}. Must be a positive integer`);if(a!==0&&a!==1&&typeof a!="boolean")throw new TypeError(`invalid alpha: ${a}: must be a boolean, 0 or 1`);if(!validBitDepth.includes($))throw new RangeError(`invalid bitDepth: ${$}. Must be one of ${validBitDepth.join(", ")}`);if(!ColorModel[j])throw new RangeError(`invalid colorModel: ${j}. Must be one of ${Object.keys(ColorModel).join(", ")}`)}function getTheoreticalPixelArraySize(o,s,a){let $=s*o;return a===1&&($=Math.ceil($/8)),$}function createPixelArray(o,s,a,$,j,_e){const et=$*o;let tt;switch(j){case 1:tt=new Uint8Array(Math.ceil(et/8));break;case 8:tt=new Uint8Array(et);break;case 16:tt=new Uint16Array(et);break;case 32:tt=new Float32Array(et);break;default:throw new Error(`Cannot create pixel array for bit depth ${j}`)}if(a)for(let rt=s;rt<tt.length;rt+=$)tt[rt]=_e;return tt}const defaultByteLength=1024*8,charArray=[];let IOBuffer$2=class{constructor(s,a){a=a||{},s===void 0&&(s=defaultByteLength),typeof s=="number"&&(s=new ArrayBuffer(s));let $=s.byteLength;const j=a.offset?a.offset>>>0:0;s.buffer&&($=s.byteLength-j,s.byteLength!==s.buffer.byteLength?s=s.buffer.slice(s.byteOffset+j,s.byteOffset+s.byteLength):j?s=s.buffer.slice(j):s=s.buffer),this.buffer=s,this.length=$,this.byteLength=$,this.byteOffset=0,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer),this._increment=$||defaultByteLength,this._mark=0}available(s){return s===void 0&&(s=1),this.offset+s<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){this.littleEndian=!0}isBigEndian(){return!this.littleEndian}setBigEndian(){this.littleEndian=!1}skip(s){s===void 0&&(s=1),this.offset+=s}seek(s){this.offset=s}mark(){this._mark=this.offset}reset(){this.offset=this._mark}rewind(){this.offset=0}ensureAvailable(s){if(s===void 0&&(s=1),!this.available(s)){const a=this._increment+this._increment;this._increment=a;const $=this.length+a,j=new Uint8Array($);j.set(new Uint8Array(this.buffer)),this.buffer=j.buffer,this.length=$,this._data=new DataView(this.buffer)}}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(s){s===void 0&&(s=1);for(var a=new Uint8Array(s),$=0;$<s;$++)a[$]=this.readByte();return a}readInt16(){var s=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,s}readUint16(){var s=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,s}readInt32(){var s=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,s}readUint32(){var s=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,s}readFloat32(){var s=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,s}readFloat64(){var s=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,s}readChar(){return String.fromCharCode(this.readInt8())}readChars(s){s===void 0&&(s=1),charArray.length=s;for(var a=0;a<s;a++)charArray[a]=this.readChar();return charArray.join("")}writeBoolean(s){this.writeUint8(s?255:0)}writeInt8(s){this.ensureAvailable(1),this._data.setInt8(this.offset++,s)}writeUint8(s){this.ensureAvailable(1),this._data.setUint8(this.offset++,s)}writeByte(s){this.writeUint8(s)}writeBytes(s){this.ensureAvailable(s.length);for(var a=0;a<s.length;a++)this._data.setUint8(this.offset++,s[a])}writeInt16(s){this.ensureAvailable(2),this._data.setInt16(this.offset,s,this.littleEndian),this.offset+=2}writeUint16(s){this.ensureAvailable(2),this._data.setUint16(this.offset,s,this.littleEndian),this.offset+=2}writeInt32(s){this.ensureAvailable(4),this._data.setInt32(this.offset,s,this.littleEndian),this.offset+=4}writeUint32(s){this.ensureAvailable(4),this._data.setUint32(this.offset,s,this.littleEndian),this.offset+=4}writeFloat32(s){this.ensureAvailable(4),this._data.setFloat32(this.offset,s,this.littleEndian),this.offset+=4}writeFloat64(s){this.ensureAvailable(8),this._data.setFloat64(this.offset,s,this.littleEndian),this.offset+=8}writeChar(s){this.writeUint8(s.charCodeAt(0))}writeChars(s){for(var a=0;a<s.length;a++)this.writeUint8(s.charCodeAt(a))}toArray(){return new Uint8Array(this.buffer,0,this.offset)}};var IOBuffer_1=IOBuffer$2,src$4={};const tagsById$5={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName$5={};for(var i$2 in tagsById$5)tagsByName$5[tagsById$5[i$2]]=i$2;var standard$1={tagsById:tagsById$5,tagsByName:tagsByName$5};const tagsById$4={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$4={};for(var i$1 in tagsById$4)tagsByName$4[tagsById$4[i$1]]=i$1;var exif$1={tagsById:tagsById$4,tagsByName:tagsByName$4};const tagsById$3={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$3={};for(var i in tagsById$3)tagsByName$3[tagsById$3[i]]=i;var gps$1={tagsById:tagsById$3,tagsByName:tagsByName$3};const tags$2={standard:standard$1,exif:exif$1,gps:gps$1};let IFD$2=class{constructor(s){if(!s)throw new Error("missing kind");this.data=null,this.fields=new Map,this.kind=s,this._map=null}get(s){if(typeof s=="number")return this.fields.get(s);if(typeof s=="string")return this.fields.get(tags$2[this.kind].tagsByName[s]);throw new Error("expected a number or string")}get map(){if(!this._map){this._map={};const a=tags$2[this.kind].tagsById;for(var s of this.fields.keys())a[s]&&(this._map[a[s]]=this.fields.get(s))}return this._map}};var ifd=IFD$2;const Ifd=ifd,dateTimeRegex$1=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;let TiffIfd$1=class extends Ifd{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){var s=new Date,a=dateTimeRegex$1.exec(this.dateTime);return s.setFullYear(a[1],a[2]-1,a[3]),s.setHours(a[4],a[5],a[6]),s}get newSubfileType(){return this.get(254)}get imageWidth(){return this.get(256)}get imageLength(){return this.get(257)}get bitsPerSample(){return this.get(258)}get compression(){return this.get(259)||1}get type(){return this.get(262)}get fillOrder(){return this.get(266)||1}get documentName(){return this.get(269)}get imageDescription(){return this.get(270)}get stripOffsets(){return alwaysArray$1(this.get(273))}get orientation(){return this.get(274)}get samplesPerPixel(){return this.get(277)}get rowsPerStrip(){return this.get(278)}get stripByteCounts(){return alwaysArray$1(this.get(279))}get minSampleValue(){return this.get(280)||0}get maxSampleValue(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get(282)}get yResolution(){return this.get(283)}get planarConfiguration(){return this.get(284)||1}get resolutionUnit(){return this.get(296)||2}get dateTime(){return this.get(306)}get predictor(){return this.get(317)||1}get sampleFormat(){return this.get(339)||1}get sMinSampleValue(){return this.get(340)||this.minSampleValue}get sMaxSampleValue(){return this.get(341)||this.maxSampleValue}};function alwaysArray$1(o){return typeof o=="number"?[o]:o}var tiffIfd=TiffIfd$1,ifdValue={},types$1=new Map([[1,[1,readByte$1]],[2,[1,readASCII$1]],[3,[2,readShort$1]],[4,[4,readLong$1]],[5,[8,readRational$1]],[6,[1,readSByte$1]],[7,[1,readByte$1]],[8,[2,readSShort$1]],[9,[4,readSLong$1]],[10,[8,readSRational$1]],[11,[4,readFloat$1]],[12,[8,readDouble$1]]]);ifdValue.getByteLength=function(o,s){return types$1.get(o)[0]*s};ifdValue.readData=function(o,s,a){return types$1.get(s)[1](o,a)};function readByte$1(o,s){if(s===1)return o.readUint8();for(var a=new Uint8Array(s),$=0;$<s;$++)a[$]=o.readUint8();return a}function readASCII$1(o,s){for(var a=[],$="",j=0;j<s;j++){var _e=String.fromCharCode(o.readUint8());_e==="\0"?(a.push($),$=""):$+=_e}return a.length===1?a[0]:a}function readShort$1(o,s){if(s===1)return o.readUint16();for(var a=new Uint16Array(s),$=0;$<s;$++)a[$]=o.readUint16();return a}function readLong$1(o,s){if(s===1)return o.readUint32();for(var a=new Uint32Array(s),$=0;$<s;$++)a[$]=o.readUint32();return a}function readRational$1(o,s){if(s===1)return o.readUint32()/o.readUint32();for(var a=new Array(s),$=0;$<s;$++)a[$]=o.readUint32()/o.readUint32();return a}function readSByte$1(o,s){if(s===1)return o.readInt8();for(var a=new Int8Array(s),$=0;$<s;$++)a[$]=o.readInt8();return a}function readSShort$1(o,s){if(s===1)return o.readInt16();for(var a=new Int16Array(s),$=0;$<s;$++)a[$]=o.readInt16();return a}function readSLong$1(o,s){if(s===1)return o.readInt32();for(var a=new Int32Array(s),$=0;$<s;$++)a[$]=o.readInt32();return a}function readSRational$1(o,s){if(s===1)return o.readInt32()/o.readInt32();for(var a=new Array(s),$=0;$<s;$++)a[$]=o.readInt32()/o.readInt32();return a}function readFloat$1(o,s){if(s===1)return o.readFloat32();for(var a=new Float32Array(s),$=0;$<s;$++)a[$]=o.readFloat32();return a}function readDouble$1(o,s){if(s===1)return o.readFloat64();for(var a=new Float64Array(s),$=0;$<s;$++)a[$]=o.readFloat64();return a}const IOBuffer$1=IOBuffer_1,IFD$1=ifd,TiffIFD=tiffIfd,IFDValue=ifdValue,defaultOptions$e={ignoreImageData:!1,onlyFirst:!1};let TIFFDecoder$2=class extends IOBuffer$1{constructor(s,a){super(s,a),this._nextIFD=0}decode(s){s=Object.assign({},defaultOptions$e,s);const a=[];for(this.decodeHeader();this._nextIFD;)if(a.push(this.decodeIFD(s)),s.onlyFirst)return a[0];return a}decodeHeader(){let s=this.readUint16();if(s===18761)this.setLittleEndian();else if(s===19789)this.setBigEndian();else throw new Error("invalid byte order: 0x"+s.toString(16));if(s=this.readUint16(),s!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(s){this.seek(this._nextIFD);var a;s.kind?a=new IFD$1(s.kind):a=new TiffIFD;const $=this.readUint16();for(var j=0;j<$;j++)this.decodeIFDEntry(a);return s.ignoreImageData||this.decodeImageData(a),this._nextIFD=this.readUint32(),a}decodeIFDEntry(s){const a=this.offset,$=this.readUint16(),j=this.readUint16(),_e=this.readUint32();if(j<1||j>12){this.skip(4);return}IFDValue.getByteLength(j,_e)>4&&this.seek(this.readUint32());const tt=IFDValue.readData(this,j,_e);if(s.fields.set($,tt),$===34665||$===34853){let rt=this.offset,nt;$===34665?nt="exif":$===34853&&(nt="gps"),this._nextIFD=tt,s[nt]=this.decodeIFD({kind:nt,ignoreImageData:!0}),this.offset=rt}this.seek(a),this.skip(12)}decodeImageData(s){const a=s.orientation;switch(a&&a!==1&&unsupported$1("orientation",a),s.type){case 1:case 2:this.readStripData(s);break;default:unsupported$1("image type",s.type);break}}readStripData(s){const a=s.width,$=s.height,j=validateBitDepth(s.bitsPerSample),_e=s.sampleFormat;let et=a*$;const tt=getDataArray$1(et,1,j,_e),rt=s.compression,it=s.rowsPerStrip*a,ot=s.stripOffsets,st=s.stripByteCounts;for(var at=0,lt=0;lt<ot.length;lt++){var ft=this.getStripData(rt,ot[lt],st[lt]),pt=et>it?it:et;et-=pt,j===8?at=fill8bit$1(tt,ft,at,pt):j===16?at=fill16bit$1(tt,ft,at,pt,this.isLittleEndian()):j===32&&_e===3?at=fillFloat32$1(tt,ft,at,pt,this.isLittleEndian()):unsupported$1("bitDepth",j)}s.data=tt}getStripData(s,a,$){switch(s){case 1:return new DataView(this.buffer,a,$);case 2:case 32773:return unsupported$1("Compression",s);default:throw new Error("invalid compression: "+s)}}};var tiffDecoder=TIFFDecoder$2;function getDataArray$1(o,s,a,$){return a===8?new Uint8Array(o*s):a===16?new Uint16Array(o*s):a===32&&$===3?new Float32Array(o*s):unsupported$1("bit depth / sample format",a+" / "+$)}function fill8bit$1(o,s,a,$){for(var j=0;j<$;j++)o[a++]=s.getUint8(j);return a}function fill16bit$1(o,s,a,$,j){for(var _e=0;_e<$*2;_e+=2)o[a++]=s.getUint16(_e,j);return a}function fillFloat32$1(o,s,a,$,j){for(var _e=0;_e<$*4;_e+=4)o[a++]=s.getFloat32(_e,j);return a}function unsupported$1(o,s){throw new Error("Unsupported "+o+": "+s)}function validateBitDepth(o){if(o.length){const a=o;o=a[0];for(var s=0;s<a.length;s++)a[s]!==o&&unsupported$1("bit depth",a)}return o}const TIFFDecoder$1=tiffDecoder;var decode$2=function(s,a){return new TIFFDecoder$1(s,a).decode(a)};src$4.decode=decode$2;const IOBuffer=IOBuffer_1,tiff=src$4;function decode$1(o){const s=new IOBuffer(o),a={};if(s.setBigEndian(),s.readUint16()!==65496)throw new Error("SOI marker not found. Not a valid JPEG file");if(s.readUint16()===65505){s.readUint16();const _e=s.readBytes(6);if(_e[0]===69&&_e[1]===120&&_e[2]===105&&_e[3]===102&&_e[4]===0&&_e[5]===0){const et=tiff.decode(s,{onlyFirst:!0,ignoreImageData:!0,offset:s.offset});a.exif=et}}return a}var decode_1=decode$1,decode=decode_1,imageType$2={exports:{}},fileType$1={exports:{}};(function(module){const toBytes=o=>[...o].map(s=>s.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(o,s=0){let a=o[s],$=1,j=0;for(;++j<8;)$*=256,a+=o[s+j]*$;return a}const fileType=o=>{if(!(o instanceof Uint8Array||o instanceof ArrayBuffer||Buffer.isBuffer(o)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof o}\``);const s=o instanceof Uint8Array?o:new Uint8Array(o);if(!(s&&s.length>1))return null;const a=(j,_e)=>{_e=Object.assign({offset:0},_e);for(let et=0;et<j.length;et++)if(_e.mask){if(j[et]!==(_e.mask[et]&s[et+_e.offset]))return!1}else if(j[et]!==s[et+_e.offset])return!1;return!0},$=(j,_e)=>a(toBytes(j),_e);if(a([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(a([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(a([71,73,70]))return{ext:"gif",mime:"image/gif"};if(a([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(a([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((a([73,73,42,0])||a([77,77,0,42]))&&a([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(a([73,73,42,0])||a([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(a([66,77]))return{ext:"bmp",mime:"image/bmp"};if(a([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(a([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(a([80,75,3,4])){if(a([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(a(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if($("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if($("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if($("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const j=(rt,nt=0)=>rt.findIndex((it,ot,st)=>ot>=nt&&st[ot]===80&&st[ot+1]===75&&st[ot+2]===3&&st[ot+3]===4);let _e=0,et=!1,tt=null;do{const rt=_e+30;if(et||(et=a(oxmlContentTypes,{offset:rt})||a(oxmlRels,{offset:rt})),tt||($("word/",{offset:rt})?tt={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:$("ppt/",{offset:rt})?tt={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:$("xl/",{offset:rt})&&(tt={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),et&&tt)return tt;_e=j(s,rt)}while(_e>=0);if(tt)return tt}if(a([80,75])&&(s[2]===3||s[2]===5||s[2]===7)&&(s[3]===4||s[3]===6||s[3]===8))return{ext:"zip",mime:"application/zip"};if(a([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(a([82,97,114,33,26,7])&&(s[6]===0||s[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(a([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(a([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(a([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(a([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(a([51,103,112,53])||a([0,0,0])&&a([102,116,121,112],{offset:4})&&(a([109,112,52,49],{offset:8})||a([109,112,52,50],{offset:8})||a([105,115,111,109],{offset:8})||a([105,115,111,50],{offset:8})||a([109,109,112,52],{offset:8})||a([77,52,86],{offset:8})||a([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(a([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(a([26,69,223,163])){const j=s.subarray(4,4100),_e=j.findIndex((et,tt,rt)=>rt[tt]===66&&rt[tt+1]===130);if(_e!==-1){const et=_e+3,tt=rt=>[...rt].every((nt,it)=>j[et+it]===nt.charCodeAt(0));if(tt("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(tt("webm"))return{ext:"webm",mime:"video/webm"}}}if(a([0,0,0,20,102,116,121,112,113,116,32,32])||a([102,114,101,101],{offset:4})||a([102,116,121,112,113,116,32,32],{offset:4})||a([109,100,97,116],{offset:4})||a([109,111,111,118],{offset:4})||a([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(a([82,73,70,70])){if(a([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(a([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(a([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(a([48,38,178,117,142,102,207,17,166,217])){let j=30;do{const _e=readUInt64LE(s,j+16);if(a([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:j})){if(a([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:j+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(a([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:j+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}j+=_e}while(j+24<=s.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(a([0,0,1,186])||a([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(a([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let j=0;j<2&&j<s.length-16;j++){if(a([73,68,51],{offset:j})||a([255,226],{offset:j,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(a([255,228],{offset:j,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(a([255,248],{offset:j,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(a([255,240],{offset:j,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(a([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(a([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(a([79,103,103,83]))return a([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:a([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:a([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:a([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:a([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(a([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(a([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(a([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(a([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(a([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(a([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((s[0]===67||s[0]===70)&&a([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(a([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(a([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(a([119,79,70,70])&&(a([0,1,0,0],{offset:4})||a([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(a([119,79,70,50])&&(a([0,1,0,0],{offset:4})||a([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(a([76,80],{offset:34})&&(a([0,0,1],{offset:8})||a([1,0,2],{offset:8})||a([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(a([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(a([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(a([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(a([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(a([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(a([37,33]))return{ext:"ps",mime:"application/postscript"};if(a([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(a([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(a([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(a([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(a([77,83,67,70])||a([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(a([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(a([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(a([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(a([31,160])||a([31,157]))return{ext:"Z",mime:"application/x-compress"};if(a([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(a([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(a([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(a([71],{offset:4})&&(a([71],{offset:192})||a([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(a([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(a([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(a([0,0,0,12,106,80,32,32,13,10,135,10])){if(a([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(a([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(a([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(a([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(a([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if($("<?xml "))return{ext:"xml",mime:"application/xml"};if(a([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(a([102,116,121,112],{offset:4})){if(a([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(a([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(a([104,101,105,99],{offset:8})||a([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(a([104,101,118,99],{offset:8})||a([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return a([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:a([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:a([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:a([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:a([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:a([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:a([212,195,178,161])||a([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const o=new stream.PassThrough,s=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{o.fileType=fileType(s)}catch(a){reject(a)}readableStream.unshift(s),stream.pipeline?resolve(stream.pipeline(readableStream,o,()=>{})):resolve(readableStream.pipe(o))})})})(fileType$1);var fileTypeExports=fileType$1.exports;const fileType=fileTypeExports,imageExts=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),imageType=o=>{const s=fileType(o);return imageExts.has(s&&s.ext)?s:null};imageType$2.exports=imageType;imageType$2.exports.default=imageType;Object.defineProperty(imageType,"minimumBytes",{value:fileType.minimumBytes});var imageTypeExports=imageType$2.exports;const imageType$1=getDefaultExportFromCjs(imageTypeExports);function guessStripByteCounts(o){if(o.compression!==1)throw new Error("missing mandatory StripByteCounts field in compressed image");const s=o.rowsPerStrip*o.width*o.samplesPerPixel*(o.bitsPerSample/8);return new Array(o.stripOffsets.length).fill(s)}function applyHorizontalDifferencing8Bit(o,s,a){let $=0;for(;$<o.length;){for(let j=a;j<s*a;j+=a)for(let _e=0;_e<a;_e++)o[$+j+_e]=o[$+j+_e]+o[$+j-(a-_e)]&255;$+=s*a}}function applyHorizontalDifferencing16Bit(o,s,a){let $=0;for(;$<o.length;){for(let j=a;j<s*a;j+=a)for(let _e=0;_e<a;_e++)o[$+j+_e]=o[$+j+_e]+o[$+j-(a-_e)]&65535;$+=s*a}}const tagsById$2={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$2={};for(let o in tagsById$2)tagsByName$2[tagsById$2[o]]=Number(o);const exif=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$2,tagsByName:tagsByName$2},Symbol.toStringTag,{value:"Module"})),tagsById$1={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$1={};for(let o in tagsById$1)tagsByName$1[tagsById$1[o]]=Number(o);const gps=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$1,tagsByName:tagsByName$1},Symbol.toStringTag,{value:"Module"})),tagsById={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName={};for(let o in tagsById)tagsByName[tagsById[o]]=Number(o);const standard=Object.freeze(Object.defineProperty({__proto__:null,tagsById,tagsByName},Symbol.toStringTag,{value:"Module"})),tags$1={standard,exif,gps};class IFD{constructor(s){if(!s)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=s,this._hasMap=!1,this._map={}}get(s){if(typeof s=="number")return this.fields.get(s);if(typeof s=="string")return this.fields.get(tags$1[this.kind].tagsByName[s]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const s=tags$1[this.kind].tagsById;for(let a of this.fields.keys())s[a]&&(this._map[s[a]]=this.fields.get(a));this._hasMap=!0}return this._map}}let types=new Map([[1,[1,readByte]],[2,[1,readASCII]],[3,[2,readShort]],[4,[4,readLong]],[5,[8,readRational]],[6,[1,readSByte]],[7,[1,readByte]],[8,[2,readSShort]],[9,[4,readSLong]],[10,[8,readSRational]],[11,[4,readFloat]],[12,[8,readDouble]]]);function getByteLength(o,s){const a=types.get(o);if(!a)throw new Error(`type not found: ${o}`);return a[0]*s}function readData(o,s,a){const $=types.get(s);if(!$)throw new Error(`type not found: ${s}`);return $[1](o,a)}function readByte(o,s){if(s===1)return o.readUint8();let a=new Uint8Array(s);for(let $=0;$<s;$++)a[$]=o.readUint8();return a}function readASCII(o,s){let a=[],$="";for(let j=0;j<s;j++){let _e=String.fromCharCode(o.readUint8());_e==="\0"?(a.push($),$=""):$+=_e}return a.length===1?a[0]:a}function readShort(o,s){if(s===1)return o.readUint16();let a=new Uint16Array(s);for(let $=0;$<s;$++)a[$]=o.readUint16();return a}function readLong(o,s){if(s===1)return o.readUint32();let a=new Uint32Array(s);for(let $=0;$<s;$++)a[$]=o.readUint32();return a}function readRational(o,s){if(s===1)return o.readUint32()/o.readUint32();let a=new Array(s);for(let $=0;$<s;$++)a[$]=o.readUint32()/o.readUint32();return a}function readSByte(o,s){if(s===1)return o.readInt8();let a=new Int8Array(s);for(let $=0;$<s;$++)a[$]=o.readInt8();return a}function readSShort(o,s){if(s===1)return o.readInt16();let a=new Int16Array(s);for(let $=0;$<s;$++)a[$]=o.readInt16();return a}function readSLong(o,s){if(s===1)return o.readInt32();let a=new Int32Array(s);for(let $=0;$<s;$++)a[$]=o.readInt32();return a}function readSRational(o,s){if(s===1)return o.readInt32()/o.readInt32();let a=new Array(s);for(let $=0;$<s;$++)a[$]=o.readInt32()/o.readInt32();return a}function readFloat(o,s){if(s===1)return o.readFloat32();let a=new Float32Array(s);for(let $=0;$<s;$++)a[$]=o.readFloat32();return a}function readDouble(o,s){if(s===1)return o.readFloat64();let a=new Float64Array(s);for(let $=0;$<s;$++)a[$]=o.readFloat64();return a}const CLEAR_CODE=256,EOI_CODE=257,TABLE_START=258,MIN_BIT_LENGTH=9;let stringTable=[];function initializeStringTable(){if(stringTable.length===0){for(let s=0;s<256;s++)stringTable.push([s]);const o=[];for(let s=256;s<4096;s++)stringTable.push(o)}}const andTable=[511,1023,2047,4095],bitJumps=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095];class LzwDecoder{constructor(s){this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH,this.stripArray=new Uint8Array(s.buffer,s.byteOffset,s.byteLength),this.outData=new IOBuffer$4(s.byteLength),this.initializeTable()}decode(){let s=0,a=0;for(;(s=this.getNextCode())!==EOI_CODE;)if(s===CLEAR_CODE){if(this.initializeTable(),s=this.getNextCode(),s===EOI_CODE)break;this.writeString(this.stringFromCode(s)),a=s}else if(this.isInTable(s))this.writeString(this.stringFromCode(s)),this.addStringToTable(this.stringFromCode(a).concat(this.stringFromCode(s)[0])),a=s;else{const j=this.stringFromCode(a).concat(this.stringFromCode(a)[0]);this.writeString(j),this.addStringToTable(j),a=s}const $=this.outData.toArray();return new DataView($.buffer,$.byteOffset,$.byteLength)}initializeTable(){initializeStringTable(),this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH}writeString(s){this.outData.writeBytes(s)}stringFromCode(s){return stringTable[s]}isInTable(s){return s<this.tableLength}addStringToTable(s){if(stringTable[this.tableLength++]=s,stringTable.length>4096)throw stringTable=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===bitJumps[this.currentBitLength]&&this.currentBitLength++}getNextCode(){this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8);const s=this.nextData>>this.nextBits-this.currentBitLength&andTable[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:s}}function decompressLzw(o){return new LzwDecoder(o).decode()}const dateTimeRegex=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class TiffIfd extends IFD{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){let s=new Date,a=dateTimeRegex.exec(this.dateTime);if(a===null)throw new Error(`invalid dateTime: ${this.dateTime}`);return s.setFullYear(Number(a[1]),Number(a[2])-1,Number(a[3])),s.setHours(Number(a[4]),Number(a[5]),Number(a[6])),s}get newSubfileType(){return this.get("NewSubfileType")}get imageWidth(){return this.get("ImageWidth")}get imageLength(){return this.get("ImageLength")}get bitsPerSample(){const s=this.get("BitsPerSample");return s&&typeof s!="number"?s[0]:s}get alpha(){const s=this.extraSamples;return s?s[0]!==0:!1}get associatedAlpha(){const s=this.extraSamples;return s?s[0]===1:!1}get extraSamples(){return alwaysArray(this.get("ExtraSamples"))}get compression(){return this.get("Compression")||1}get type(){return this.get("PhotometricInterpretation")}get fillOrder(){return this.get("FillOrder")||1}get documentName(){return this.get("DocumentName")}get imageDescription(){return this.get("ImageDescription")}get stripOffsets(){return alwaysArray(this.get("StripOffsets"))}get orientation(){return this.get("Orientation")}get samplesPerPixel(){return this.get("SamplesPerPixel")||1}get rowsPerStrip(){return this.get("RowsPerStrip")}get stripByteCounts(){return alwaysArray(this.get("StripByteCounts"))}get minSampleValue(){return this.get("MinSampleValue")||0}get maxSampleValue(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get("XResolution")}get yResolution(){return this.get("YResolution")}get planarConfiguration(){return this.get("PlanarConfiguration")||1}get resolutionUnit(){return this.get("ResolutionUnit")||2}get dateTime(){return this.get("DateTime")}get predictor(){return this.get("Predictor")||1}get sampleFormat(){return this.get("SampleFormat")||1}get sMinSampleValue(){return this.get("SMinSampleValue")||this.minSampleValue}get sMaxSampleValue(){return this.get("SMaxSampleValue")||this.maxSampleValue}get palette(){const s=2**this.bitsPerSample,a=this.get("ColorMap");if(!a)return;if(a.length!==3*s)throw new Error(`ColorMap size must be ${s}`);const $=[];for(let j=0;j<s;j++)$.push([a[j],a[j+s],a[j+2*s]]);return $}}function alwaysArray(o){return typeof o=="number"?[o]:o}function decompressZlib(o){const s=new Uint8Array(o.buffer,o.byteOffset,o.byteLength),a=inflate_1(s);return new DataView(a.buffer,a.byteOffset,a.byteLength)}const defaultOptions$d={ignoreImageData:!1,onlyFirst:!1};class TIFFDecoder extends IOBuffer$4{constructor(s){super(s),this._nextIFD=0}get isMultiPage(){let s=0;for(this.decodeHeader();this._nextIFD;)if(s++,this.decodeIFD({ignoreImageData:!0},!0),s===2)return!0;if(s===1)return!1;throw unsupported("ifdCount",s)}get pageCount(){let s=0;for(this.decodeHeader();this._nextIFD;)s++,this.decodeIFD({ignoreImageData:!0},!0);if(s>0)return s;throw unsupported("ifdCount",s)}decode(s={}){s=Object.assign({},defaultOptions$d,s);const a=[];for(this.decodeHeader();this._nextIFD;)if(a.push(this.decodeIFD(s,!0)),s.onlyFirst)return[a[0]];return a}decodeHeader(){const s=this.readUint16();if(s===18761)this.setLittleEndian();else if(s===19789)this.setBigEndian();else throw new Error(`invalid byte order: 0x${s.toString(16)}`);if(this.readUint16()!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(s,a){this.seek(this._nextIFD);let $;if(a)$=new TiffIfd;else{if(!s.kind)throw new Error("kind is missing");$=new IFD(s.kind)}const j=this.readUint16();for(let _e=0;_e<j;_e++)this.decodeIFDEntry($);if(!s.ignoreImageData){if(!($ instanceof TiffIfd))throw new Error("must be a tiff ifd");this.decodeImageData($)}return this._nextIFD=this.readUint32(),$}decodeIFDEntry(s){const a=this.offset,$=this.readUint16(),j=this.readUint16(),_e=this.readUint32();if(j<1||j>12){this.skip(4);return}getByteLength(j,_e)>4&&this.seek(this.readUint32());const tt=readData(this,j,_e);if(s.fields.set($,tt),$===34665||$===34853){let rt=this.offset,nt="exif";$===34665?nt="exif":$===34853&&(nt="gps"),this._nextIFD=tt,s[nt]=this.decodeIFD({kind:nt,ignoreImageData:!0},!1),this.offset=rt}this.seek(a),this.skip(12)}decodeImageData(s){const a=s.orientation;if(a&&a!==1)throw unsupported("orientation",a);switch(s.type){case 0:case 1:case 2:case 3:this.readStripData(s);break;default:throw unsupported("image type",s.type)}if(this.applyPredictor(s),this.convertAlpha(s),s.type===0){const $=s.bitsPerSample,j=Math.pow(2,$)-1;for(let _e=0;_e<s.data.length;_e++)s.data[_e]=j-s.data[_e]}}readStripData(s){const a=s.width,$=s.height,j=s.bitsPerSample,_e=s.sampleFormat,et=a*$*s.samplesPerPixel,tt=getDataArray(et,j,_e),nt=s.rowsPerStrip*a*s.samplesPerPixel,it=s.stripOffsets,ot=s.stripByteCounts||guessStripByteCounts(s);let st=et,at=0;for(let lt=0;lt<it.length;lt++){let ft=new DataView(this.buffer,this.byteOffset+it[lt],ot[lt]),pt=st>nt?nt:st;st-=pt;let ut=ft;switch(s.compression){case 1:break;case 5:{ut=decompressLzw(ft);break}case 8:{ut=decompressZlib(ft);break}case 2:throw unsupported("Compression","CCITT Group 3");case 32773:throw unsupported("Compression","PackBits");default:throw unsupported("Compression",s.compression)}at=this.fillUncompressed(j,_e,tt,ut,at,pt)}s.data=tt}fillUncompressed(s,a,$,j,_e,et){if(s===8)return fill8bit($,j,_e,et);if(s===16)return fill16bit($,j,_e,et,this.isLittleEndian());if(s===32&&a===3)return fillFloat32($,j,_e,et,this.isLittleEndian());throw unsupported("bitDepth",s)}applyPredictor(s){const a=s.bitsPerSample;switch(s.predictor){case 1:break;case 2:{if(a===8)applyHorizontalDifferencing8Bit(s.data,s.width,s.components);else if(a===16)applyHorizontalDifferencing16Bit(s.data,s.width,s.components);else throw new Error(`Horizontal differencing is only supported for images with a bit depth of ${a}`);break}default:throw new Error(`invalid predictor: ${s.predictor}`)}}convertAlpha(s){if(s.alpha&&s.associatedAlpha){const{data:a,components:$,maxSampleValue:j}=s;for(let _e=0;_e<a.length;_e+=$){const et=a[_e+$-1];for(let tt=0;tt<$-1;tt++)a[_e+tt]=Math.round(a[_e+tt]*j/et)}}}}function getDataArray(o,s,a){if(s===8)return new Uint8Array(o);if(s===16)return new Uint16Array(o);if(s===32&&a===3)return new Float32Array(o);throw unsupported("bit depth / sample format",`${s} / ${a}`)}function fill8bit(o,s,a,$){for(let j=0;j<$;j++)o[a++]=s.getUint8(j);return a}function fill16bit(o,s,a,$,j){for(let _e=0;_e<$*2;_e+=2)o[a++]=s.getUint16(_e,j);return a}function fillFloat32(o,s,a,$,j){for(let _e=0;_e<$*4;_e+=4)o[a++]=s.getFloat32(_e,j);return a}function unsupported(o,s){return new Error(`Unsupported ${o}: ${s}`)}function decodeTIFF(o,s){return new TIFFDecoder(o).decode(s)}function matchAndCrop(o={}){let{algorithm:s="matchToPrevious",ignoreBorder:a=[0,0]}=o;this.checkProcessable("matchAndCrop",{bitDepth:[8,16]});let $=s==="matchToPrevious",j=this[0],_e=[];_e[0]={position:[0,0],image:this[0]};let et=[0,0];for(let st=1;st<this.length;st++){let at=j.getBestMatch(this[st],{border:a});_e[st]={position:[at[0]+et[0],at[1]+et[1]],image:this[st]},$&&(et[0]+=at[0],et[1]+=at[1],j=this[st])}let tt=0,rt=0,nt=0,it=0;for(let st=0;st<_e.length;st++){let at=_e[st];at.position[0]>tt&&(tt=at.position[0]),at.position[0]<rt&&(rt=at.position[0]),at.position[1]>nt&&(nt=at.position[1]),at.position[1]<it&&(it=at.position[1])}rt=0-rt,it=0-it;for(let st=0;st<_e.length;st++){let at=_e[st];at.crop=at.image.crop({x:tt-at.position[0],y:nt-at.position[1],width:j.width-rt-tt,height:j.height-it-nt})}let ot=[];for(let st=0;st<_e.length;st++)ot[st]=_e[st].crop;return new Stack(ot)}function min$2(){this.checkProcessable("min",{bitDepth:[8,16]});let o=this[0].min;for(let s=1;s<this.length;s++)for(let a=0;a<o.length;a++)o[a]=Math.min(o[a],this[s].min[a]);return o}function max$2(){this.checkProcessable("min",{bitDepth:[8,16]});let o=this[0].max;for(let s=1;s<this.length;s++)for(let a=0;a<o.length;a++)o[a]=Math.max(o[a],this[s].max[a]);return o}function median$2(o){let s=o.reduce((et,tt)=>et+tt);if(s===0)throw new Error("unreachable");let a=0,$=0,j=s/2,_e;for(;;){if(o[a]>0){if(_e!==void 0)return(_e+a)/2;if($+=o[a],$>j)return a;$===j&&(_e=a)}a++}}function mean$2(o){let s=0,a=0;for(let $=0;$<o.length;$++)s+=o[$],a+=o[$]*$;return s===0?0:a/s}function median$1(){this.checkProcessable("median",{bitDepth:[8,16]});let o=this.getHistograms({maxSlots:this[0].maxValue+1}),s=new Array(o.length);for(let a=0;a<o.length;a++){let $=o[a];s[a]=median$2($)}return s}function histogram(o){this.checkProcessable("min",{bitDepth:[8,16]});let s=this[0].getHistogram(o);for(let a=1;a<this.length;a++){let $=this[a].getHistogram(o);for(let j=0;j<s.length;j++)s[j]+=$[j]}return s}function histograms(o){this.checkProcessable("min",{bitDepth:[8,16]});let s=this[0].getHistograms(o),a=s[0].length;for(let $=1;$<this.length;$++){let j=this[$].getHistograms(o);for(let _e=0;_e<s.length;_e++)for(let et=0;et<a;et++)s[_e][et]+=j[_e][et]}return s}function averageImage(){this.checkProcessable("averageImage",{bitDepth:[8,16]});let o=new Uint32Array(this[0].data.length);for(let $=0;$<this.length;$++){let j=this[$];for(let _e=0;_e<this[0].data.length;_e++)o[_e]+=j.data[_e]}let s=Image.createFrom(this[0]),a=s.data;for(let $=0;$<this[0].data.length;$++)a[$]=o[$]/this.length;return s}function maxImage(){this.checkProcessable("max",{bitDepth:[8,16]});let o=Image.createFrom(this[0]);o.data.fill(0);for(const s of this)for(let a=0;a<o.data.length;a++)o.data[a]=Math.max(s.data[a],o.data[a]);return o}function minImage(){this.checkProcessable("max",{bitDepth:[8,16]});let o=Image.createFrom(this[0]);o.data.fill(o.maxValue);for(const s of this)for(let a=0;a<o.data.length;a++)o.data[a]=Math.min(s.data[a],o.data[a]);return o}function extend$2(o){o.extendMethod("matchAndCrop",matchAndCrop),o.extendMethod("getMin",min$2),o.extendMethod("getMax",max$2),o.extendMethod("getMedian",median$1),o.extendMethod("getHistogram",histogram),o.extendMethod("getHistograms",histograms),o.extendMethod("getAverage",averageImage),o.extendMethod("getAverageImage",averageImage),o.extendMethod("getMaxImage",maxImage),o.extendMethod("getMinImage",minImage)}let computedPropertyDescriptor={configurable:!0,enumerable:!1,get:void 0};class Stack extends Array{constructor(s){if(Array.isArray(s)){super(s.length);for(let a=0;a<s.length;a++)this[a]=s[a]}else typeof s=="number"?super(s):super();this.computed=null}static load(s){return Promise.all(s.map(Image.load)).then(a=>new Stack(a))}static extendMethod(s,a,$={}){let{inPlace:j=!1,returnThis:_e=!0,partialArgs:et=[]}=$;return j?Stack.prototype[s]=function(...tt){this.computed=null;let rt=a.apply(this,[...et,...tt]);return _e?this:rt}:Stack.prototype[s]=function(...tt){return a.apply(this,[...et,...tt])},Stack}static extendProperty(s,a,$={}){let{partialArgs:j=[]}=$;return computedPropertyDescriptor.get=function(){if(this.computed===null)this.computed={};else if(hasOwn(s,this.computed))return this.computed[s];let _e=a.apply(this,j);return this.computed[s]=_e,_e},Object.defineProperty(Stack.prototype,s,computedPropertyDescriptor),Stack}checkProcessable(s,a={}){if(typeof s!="string")throw new TypeError("checkProcessable requires as first parameter the processName (a string)");if(this.size===0)throw new TypeError(`The process: ${s} can not be applied on an empty stack`);this[0].checkProcessable(s,a);for(let $=1;$<this.length;$++){if((a.sameSize===void 0||a.sameSize)&&this[0].width!==this[$].width)throw new TypeError(`The process: ${s} can not be applied if width is not identical in all images`);if((a.sameSize===void 0||a.sameSize)&&this[0].height!==this[$].height)throw new TypeError(`The process: ${s} can not be applied if height is not identical in all images`);if((a.sameAlpha===void 0||a.sameAlpha)&&this[0].alpha!==this[$].alpha)throw new TypeError(`The process: ${s} can not be applied if alpha is not identical in all images`);if((a.sameBitDepth===void 0||a.sameBitDepth)&&this[0].bitDepth!==this[$].bitDepth)throw new TypeError(`The process: ${s} can not be applied if bitDepth is not identical in all images`);if((a.sameColorModel===void 0||a.sameColorModel)&&this[0].colorModel!==this[$].colorModel)throw new TypeError(`The process: ${s} can not be applied if colorModel is not identical in all images`);if((a.sameNumberChannels===void 0||a.sameNumberChannels)&&this[0].channels!==this[$].channels)throw new TypeError(`The process: ${s} can not be applied if channels is not identical in all images`)}}}Array[Symbol.species]||(Stack.prototype.map=function(o,s){if(typeof o!="function")throw new TypeError(`${o} is not a function`);let a=new Stack(this.length);for(let $=0;$<this.length;$++)a[$]=o.call(s,this[$],$,this);return a});extend$2(Stack);const isDataURL=/^data:[a-z]+\/(?:[a-z]+);base64,/;function load(o,s){if(typeof o=="string")return loadURL(o,s);if(o instanceof ArrayBuffer)return Promise.resolve(loadBinary(new Uint8Array(o),void 0,s&&s.ignorePalette));if(o.buffer)return Promise.resolve(loadBinary(o,void 0,s&&s.ignorePalette));throw new Error('argument to "load" must be a string or buffer.')}function loadBinary(o,s,a){const $=imageType$1(o);if($)switch($.mime){case"image/png":return loadPNG(o);case"image/jpeg":return loadJPEG(o);case"image/tiff":return loadTIFF(o,a);default:return loadGeneric(j($.mime))}return loadGeneric(j("application/octet-stream"));function j(_e){return s||toBase64URL(o,_e)}}function loadURL(o,s){const a=o.slice(0,64).match(isDataURL);let $;return a!==null?$=Promise.resolve(decode$3(o.slice(a[0].length))):$=fetchBinary(o,s),$.then(j=>{const _e=new Uint8Array(j);return loadBinary(_e,a?o:void 0,s&&s.ignorePalette)})}function loadPNG(o){const s=decodePng(o);let a=s.channels,$,j=0;return a===2||a===4?($=a-1,j=1):$=a,s.palette?loadPNGFromPalette(s):new Image(s.width,s.height,s.data,{components:$,alpha:j,bitDepth:s.depth})}function loadPNGFromPalette(o){const s=o.width*o.height,a=o.palette[0].length,$=new Uint8Array(s*a),j=8/o.depth,_e=o.depth<8?j:1,et=parseInt("1".repeat(o.depth),2),tt=a===4;let rt=0;for(let nt=0;nt<s;nt++){const it=Math.floor(nt/_e);let ot=o.data[it];o.depth<8&&(ot=ot>>>o.depth*(j-1-nt%j)&et);const st=o.palette[ot];$[rt++]=st[0],$[rt++]=st[1],$[rt++]=st[2],tt&&($[rt++]=st[3])}return new Image(o.width,o.height,$,{components:3,alpha:tt,bitDepth:8})}function loadJPEG(o){const s=decode(o);let a;s.exif&&(a=getMetadata(s.exif));const $=jpegJs.decode(o,{useTArray:!0,maxMemoryUsageInMB:1024});let j=new Image($.width,$.height,$.data,{meta:a});if(a&&a.tiff.tags.Orientation){const _e=a.tiff.tags.Orientation;_e>2&&(j=j.rotate({3:180,4:180,5:90,6:90,7:270,8:270}[_e])),[2,4,5,7].includes(_e)&&(j=j.flipX())}return j}function loadTIFF(o,s){let a=decodeTIFF(o);return a.length===1?getImageFromIFD(a[0],s):new Stack(a.map(function($){return getImageFromIFD($,s)}))}function getMetadata(o){const s={tiff:{fields:o.fields,tags:o.map}};return o.exif&&(s.exif=o.exif),o.gps&&(s.gps=o.gps),s}function getImageFromIFD(o,s){if(!s&&o.type===3){const a=new Uint16Array(3*o.width*o.height),$=o.palette;let j=0;for(let _e=0;_e<o.data.length;_e++){const et=o.data[_e],tt=$[et];a[j++]=tt[0],a[j++]=tt[1],a[j++]=tt[2]}return new Image(o.width,o.height,a,{components:3,alpha:o.alpha,colorModel:RGB$1,bitDepth:16,meta:getMetadata(o)})}else return new Image(o.width,o.height,o.data,{components:o.type===2?3:1,alpha:o.alpha,colorModel:o.type===2?RGB$1:GREY$1,bitDepth:o.bitsPerSample.length?o.bitsPerSample[0]:o.bitsPerSample,meta:getMetadata(o)})}function loadGeneric(o,s){return s=s||{},new Promise(function(a,$){let j=new DOMImage;j.onload=function(){let _e=j.width,et=j.height,rt=createCanvas(_e,et).getContext("2d");rt.drawImage(j,0,0,_e,et);let nt=rt.getImageData(0,0,_e,et).data;a(new Image(_e,et,nt,s))},j.onerror=function(){$(new Error(`Could not load ${o}`))},j.src=o})}const valueMethods={getValueXY(o,s,a){return this.data[(s*this.width+o)*this.channels+a]},setValueXY(o,s,a,$){return this.data[(s*this.width+o)*this.channels+a]=$,this.computed=null,this},getValue(o,s){return this.data[o*this.channels+s]},setValue(o,s,a){return this.data[o*this.channels+s]=a,this.computed=null,this},getPixelXY(o,s){return this.getPixel(s*this.width+o)},setPixelXY(o,s,a){return this.setPixel(s*this.width+o,a)},getPixel(o){const s=new Array(this.channels),a=o*this.channels;for(let $=0;$<this.channels;$++)s[$]=this.data[a+$];return s},setPixel(o,s){const a=o*this.channels;for(let $=0;$<s.length;$++)this.data[a+$]=s[$];return this.computed=null,this}};function setValueMethods(o){for(const s in valueMethods)o.prototype[s]=valueMethods[s]}function getImageParameters(o){return{width:o.width,height:o.height,components:o.components,alpha:o.alpha,colorModel:o.colorModel,bitDepth:o.bitDepth}}function getOutputImage(o,s,a,$={}){const{out:j}=s;if(j===void 0)return $.copy?o.clone():Image.createFrom(o,a);{if(!Image.isImage(j))throw new TypeError("out must be an Image object");const _e=Object.assign(getImageParameters(o),a);for(const et in _e)if(j[et]!==_e[et])throw new RangeError(`cannot use out. Its ${et} must be "${_e[et]}" (found "${j[et]}")`);return j}}function getOutputImageOrInPlace(o,s,a){if(s.inPlace!==void 0&&typeof s.inPlace!="boolean")throw new TypeError("inPlace option must be a boolean");if(s.inPlace){if(s.out!==void 0)throw new TypeError("out option must not be set if inPlace option is true");return o}return getOutputImage(o,s,null,a)}function abs$1(o={}){this.checkProcessable("abs",{bitDepth:[32]});const s=getOutputImageOrInPlace(this,o);return absolute(this,s),s}function absolute(o,s){for(let a=0;a<o.data.length;a++)s.data[a]=Math.abs(o.data[a])}function copyAlphaChannel(o,s){if(o.alpha===1&&s.alpha===1)for(let a=0;a<o.size;a++)s.data[a*s.channels+s.components]=o.data[a*o.channels+o.components]}function invert(o={}){this.checkProcessable("invert",{bitDepth:[1,8,16]});const s=getOutputImageOrInPlace(this,o);return this.bitDepth===1?invertBinary(this,s):(invertColor(this,s),this!==s&&copyAlphaChannel(this,s)),s}function invertBinary(o,s){for(let a=0;a<o.data.length;a++)s.data[a]=~o.data[a]}function invertColor(o,s){for(let a=0;a<o.data.length;a+=o.channels)for(let $=0;$<o.components;$++)s.data[a+$]=o.maxValue-o.data[a+$]}function flipX(){this.checkProcessable("flipX",{bitDepth:[8,16]});for(let o=0;o<this.height;o++){let s=o*this.width*this.channels;for(let a=0;a<Math.floor(this.width/2);a++){let $=a*this.channels+s,j=(this.width-a-1)*this.channels+s;for(let _e=0;_e<this.channels;_e++){let et=this.data[$+_e];this.data[$+_e]=this.data[j+_e],this.data[j+_e]=et}}}return this}function flipY(){this.checkProcessable("flipY",{bitDepth:[8,16]});for(let o=0;o<Math.floor(this.height/2);o++)for(let s=0;s<this.width;s++){let a=s*this.channels+o*this.width*this.channels,$=s*this.channels+(this.height-1-o)*this.channels*this.width;for(let j=0;j<this.channels;j++){let _e=this.data[a+j];this.data[a+j]=this.data[$+j],this.data[$+j]=_e}}return this}function blurFilter(o={}){const{radius:s=1}=o;if(s<1)throw new Error("radius must be greater than 1");const a=2*s+1,$=new Array(a);for(let j=0;j<a;j++){$[j]=new Array(a);for(let _e=0;_e<a;_e++)$[j][_e]=1/(a*a)}return this.convolution($)}var medianQuickselect_min={exports:{}};(function(o){(function(){function s(j){for(var _e=0,et=j.length-1,tt=void 0,rt=void 0,nt=void 0,it=$(_e,et);;){if(et<=_e)return j[it];if(et==_e+1)return j[_e]>j[et]&&a(j,_e,et),j[it];for(tt=$(_e,et),j[tt]>j[et]&&a(j,tt,et),j[_e]>j[et]&&a(j,_e,et),j[tt]>j[_e]&&a(j,tt,_e),a(j,tt,_e+1),rt=_e+1,nt=et;;){do rt++;while(j[_e]>j[rt]);do nt--;while(j[nt]>j[_e]);if(nt<rt)break;a(j,rt,nt)}a(j,_e,nt),nt<=it&&(_e=rt),nt>=it&&(et=nt-1)}}var a=function(_e,et,tt){var rt;return rt=[_e[tt],_e[et]],_e[et]=rt[0],_e[tt]=rt[1],rt},$=function(_e,et){return~~((_e+et)/2)};o.exports?o.exports=s:window.median=s})()})(medianQuickselect_min);var medianQuickselect_minExports=medianQuickselect_min.exports;const quickSelectMedian=getDefaultExportFromCjs(medianQuickselect_minExports);function validateArrayOfChannels(o,s={}){let{channels:a,allowAlpha:$,defaultAlpha:j}=s;return typeof $!="boolean"&&($=!0),typeof a>"u"?allChannels(o,j):validateChannels(o,a,$)}function allChannels(o,s){let a=s?o.channels:o.components,$=new Array(a);for(let j=0;j<a;j++)$[j]=j;return $}function validateChannels(o,s,a){Array.isArray(s)||(s=[s]);for(let $=0;$<s.length;$++)s[$]=validateChannel(o,s[$],a);return s}function validateChannel(o,s,a=!0){if(s===void 0)throw new RangeError(`validateChannel : the channel has to be >=0 and <${o.channels}`);if(typeof s=="string"){switch(o.colorModel){case GREY$1:break;case RGB$1:if("rgb".includes(s))switch(s){case"r":s=0;break;case"g":s=1;break;case"b":s=2;break}break;case HSL:if("hsl".includes(s))switch(s){case"h":s=0;break;case"s":s=1;break;case"l":s=2;break}break;case HSV:if("hsv".includes(s))switch(s){case"h":s=0;break;case"s":s=1;break;case"v":s=2;break}break;case CMYK$1:if("cmyk".includes(s))switch(s){case"c":s=0;break;case"m":s=1;break;case"y":s=2;break;case"k":s=3;break}break;default:throw new Error(`Unexpected color model: ${o.colorModel}`)}if(s==="a"){if(!o.alpha)throw new Error("validateChannel : the image does not contain alpha channel");s=o.components}if(typeof s=="string")throw new Error(`validateChannel : undefined channel: ${s}`)}if(s>=o.channels)throw new RangeError(`validateChannel : the channel has to be >=0 and <${o.channels}`);if(!a&&s>=o.components)throw new RangeError("validateChannel : alpha channel may not be selected");return s}function medianFilter(o={}){let{radius:s=1,border:a="copy",channels:$}=o;if(this.checkProcessable("medianFilter",{bitDepth:[8,16]}),s<1)throw new Error("radius must be greater than 0");$=validateArrayOfChannels(this,$);let j=s,_e=s,et=Image.createFrom(this),tt=(j*2+1)*(_e*2+1),rt=new Array(tt);for(let nt=0;nt<$.length;nt++){let it=$[nt];for(let ot=_e;ot<this.height-_e;ot++)for(let st=j;st<this.width-j;st++){let at=0;for(let ft=-_e;ft<=_e;ft++)for(let pt=-j;pt<=j;pt++){let ut=((ot+ft)*this.width+st+pt)*this.channels+it;rt[at++]=this.data[ut]}let lt=(ot*this.width+st)*this.channels+it;et.data[lt]=quickSelectMedian(rt)}}if(this.alpha&&!$.includes(this.channels))for(let nt=this.components;nt<this.data.length;nt=nt+this.channels)et.data[nt]=this.data[nt];return et.setBorder({size:[j,_e],algorithm:a}),et}function gaussianFilter(o={}){let{radius:s=1,sigma:a,channels:$,border:j="copy"}=o;this.checkProcessable("gaussian",{bitDepth:[8,16]});const _e=getKernel(s,a);return this.convolution([_e,_e],{border:j,channels:$,algorithm:"separable"})}function getKernel(o,s){const a=o*2+1,$=new Array(a),j=s||((a-1)*.5-1)*.3+.8,_e=-.5/(j*j);let et=0;for(let tt=0;tt<a;tt++){const rt=tt-o,nt=Math.exp(_e*rt*rt);$[tt]=nt,et+=nt}for(let tt=0;tt<a;tt++)$[tt]/=et;return $}const SOBEL_X=[[-1,0,1],[-2,0,2],[-1,0,1]],SOBEL_Y=[[-1,-2,-1],[0,0,0],[1,2,1]],SCHARR_X=[[3,0,-3],[10,0,-10],[3,0,-3]],SCHARR_Y=[[3,10,3],[0,0,0],[-3,-10,-3]];var src$3={},fftlib={};(function(o){(function(){var s;s=o;var a={release:"0.3.0",date:"2013-03"};s.toString=function(){return"version "+a.release+", released "+a.date};for(var $=0,j=null,_e=null,et={init:function(nt){if(nt!==0&&!(nt&nt-1))$=nt,et._initArray(),et._makeBitReversalTable(),et._makeCosSinTable();else throw new Error("init: radix-2 required")},fft1d:function(nt,it){et.fft(nt,it,1)},ifft1d:function(nt,it){var ot=1/$;et.fft(nt,it,-1);for(var st=0;st<$;st++)nt[st]*=ot,it[st]*=ot},bt1d:function(nt,it){et.fft(nt,it,-1)},fft2d:function(nt,it){for(var ot=[],st=[],at=0,lt=0;lt<$;lt++){at=lt*$;for(var ft=0;ft<$;ft++)ot[ft]=nt[ft+at],st[ft]=it[ft+at];et.fft1d(ot,st);for(var pt=0;pt<$;pt++)nt[pt+at]=ot[pt],it[pt+at]=st[pt]}for(var ut=0;ut<$;ut++){for(var dt=0;dt<$;dt++)at=ut+dt*$,ot[dt]=nt[at],st[dt]=it[at];et.fft1d(ot,st);for(var ct=0;ct<$;ct++)at=ut+ct*$,nt[at]=ot[ct],it[at]=st[ct]}},ifft2d:function(nt,it){for(var ot=[],st=[],at=0,lt=0;lt<$;lt++){at=lt*$;for(var ft=0;ft<$;ft++)ot[ft]=nt[ft+at],st[ft]=it[ft+at];et.ifft1d(ot,st);for(var pt=0;pt<$;pt++)nt[pt+at]=ot[pt],it[pt+at]=st[pt]}for(var ut=0;ut<$;ut++){for(var dt=0;dt<$;dt++)at=ut+dt*$,ot[dt]=nt[at],st[dt]=it[at];et.ifft1d(ot,st);for(var ct=0;ct<$;ct++)at=ut+ct*$,nt[at]=ot[ct],it[at]=st[ct]}},fft:function(nt,it,ot){for(var st,at,lt,ft,pt,ut,dt,ct,ht,mt=$>>2,vt=0;vt<$;vt++)ft=j[vt],vt<ft&&(pt=nt[vt],nt[vt]=nt[ft],nt[ft]=pt,pt=it[vt],it[vt]=it[ft],it[ft]=pt);for(var yt=1;yt<$;yt<<=1){at=0,st=$/(yt<<1);for(var xt=0;xt<yt;xt++){ut=_e[at+mt],dt=ot*_e[at];for(var bt=xt;bt<$;bt+=yt<<1)lt=bt+yt,ct=ut*nt[lt]+dt*it[lt],ht=ut*it[lt]-dt*nt[lt],nt[lt]=nt[bt]-ct,nt[bt]+=ct,it[lt]=it[bt]-ht,it[bt]+=ht;at+=st}}},_initArray:function(){typeof Uint32Array<"u"?j=new Uint32Array($):j=[],typeof Float64Array<"u"?_e=new Float64Array($*1.25):_e=[]},_paddingZero:function(){},_makeBitReversalTable:function(){var nt=0,it=0,ot=0;for(j[0]=0;++nt<$;){for(ot=$>>1;ot<=it;)it-=ot,ot>>=1;it+=ot,j[nt]=it}},_makeCosSinTable:function(){var nt=$>>1,it=$>>2,ot=$>>3,st=nt+it,at=Math.sin(Math.PI/$),lt=2*at*at,ft=Math.sqrt(lt*(2-lt)),pt=_e[it]=1,ut=_e[0]=0;at=2*lt;for(var dt=1;dt<ot;dt++)pt-=lt,lt+=at*pt,ut+=ft,ft-=at*ut,_e[dt]=ut,_e[it-dt]=pt;ot!==0&&(_e[ot]=Math.sqrt(.5));for(var ct=0;ct<it;ct++)_e[nt-ct]=_e[ct];for(var ht=0;ht<st;ht++)_e[ht+nt]=-_e[ht]}},tt=["init","fft1d","ifft1d","fft2d","ifft2d"],rt=0;rt<tt.length;rt++)s[tt[rt]]=et[tt[rt]];return s.bt=et.bt1d,s.fft=et.fft1d,s.ifft=et.ifft1d,s}).call(commonjsGlobal)})(fftlib);var FFT$1=fftlib,FFTUtils$1={DEBUG:!1,ifft2DArray:function(o,s,a){var $=new Array(s*a),j=s/2,_e=(a-1)*2;FFT$1.init(j);for(var et={re:new Array(j),im:new Array(j)},tt=0;tt<a;tt++){for(var rt=j-1;rt>=0;rt--)et.re[rt]=o[rt*2*a+tt],et.im[rt]=o[(rt*2+1)*a+tt];FFT$1.bt(et.re,et.im);for(var rt=j-1;rt>=0;rt--)$[rt*2*a+tt]=et.re[rt],$[(rt*2+1)*a+tt]=et.im[rt]}var nt=new Array(j*_e);FFT$1.init(_e);for(var it={re:new Array(_e),im:new Array(_e)},ot=_e*j,rt=0;rt<s;rt+=2){it.re[0]=$[rt*a],it.im[0]=$[(rt+1)*a];for(var tt=1;tt<a;tt++)it.re[tt]=$[rt*a+tt],it.im[tt]=$[(rt+1)*a+tt],it.re[_e-tt]=$[rt*a+tt],it.im[_e-tt]=-$[(rt+1)*a+tt];FFT$1.bt(it.re,it.im);for(var st=rt/2*_e,tt=_e-1;tt>=0;tt--)nt[st+tt]=it.re[tt]/ot}return nt},fft2DArray:function(o,s,a,$){Object.assign({},{inplace:!0});var j=a/2+1,_e=s*2,et=new Array(_e*j);FFT$1.init(a);for(var tt={re:new Array(a),im:new Array(a)},rt={re:new Array(a),im:new Array(a)},nt={re:new Array(a),im:new Array(a)},it,ot,st,at,lt,ft=0;ft<s/2;ft++){it=ft*2*a,tt.re=o.slice(it,it+a),it=(ft*2+1)*a,tt.im=o.slice(it,it+a),FFT$1.fft1d(tt.re,tt.im),this.reconstructTwoRealFFT(tt,rt,nt),ot=ft*4*j,st=(ft*4+1)*j,at=(ft*4+2)*j,lt=(ft*4+3)*j;for(var pt=j-1;pt>=0;pt--)et[ot+pt]=rt.re[pt],et[st+pt]=rt.im[pt],et[at+pt]=nt.re[pt],et[lt+pt]=nt.im[pt]}rt=null,nt=null;var ut=new Array(_e*j);FFT$1.init(s);for(var dt={re:new Array(s),im:new Array(s)},ct=j-1;ct>=0;ct--){for(var ft=s-1;ft>=0;ft--)dt.re[ft]=et[ft*2*j+ct],dt.im[ft]=et[(ft*2+1)*j+ct],isNaN(dt.re[ft])&&(dt.re[ft]=0),isNaN(dt.im[ft])&&(dt.im[ft]=0);FFT$1.fft1d(dt.re,dt.im);for(var ft=s-1;ft>=0;ft--)ut[ft*2*j+ct]=dt.re[ft],ut[(ft*2+1)*j+ct]=dt.im[ft]}return ut},reconstructTwoRealFFT:function(o,s,a){var $=o.re.length;s.re[0]=o.re[0],s.im[0]=0,a.re[0]=o.im[0],a.im[0]=0;for(var j,_e,et,tt,rt,nt=$/2;nt>0;nt--)rt=$-nt,j=.5*(o.re[nt]-o.re[rt]),_e=.5*(o.re[nt]+o.re[rt]),et=.5*(o.im[nt]-o.im[rt]),tt=.5*(o.im[nt]+o.im[rt]),s.re[nt]=_e,s.im[nt]=et,s.re[rt]=_e,s.im[rt]=-et,a.re[nt]=tt,a.im[nt]=-j,a.re[rt]=tt,a.im[rt]=j},convolute2DI:function(o,s,a,$){for(var j,_e,et=0;et<a/2;et++)for(var tt=0;tt<$;tt++)j=o[et*2*$+tt]*s[et*2*$+tt]-o[(et*2+1)*$+tt]*s[(et*2+1)*$+tt],_e=o[et*2*$+tt]*s[(et*2+1)*$+tt]+o[(et*2+1)*$+tt]*s[et*2*$+tt],o[et*2*$+tt]=j,o[(et*2+1)*$+tt]=_e},convolute:function(o,s,a,$,j){for(var _e=new Array($*a),et=0;et<a*$;et++)_e[et]=o[et];_e=this.fft2DArray(_e,a,$);for(var tt=s.length,rt=s[0].length,nt=new Array($*a),et=0;et<$*a;et++)nt[et]=0;for(var it,ot,st=Math.floor((tt-1)/2),at=Math.floor((rt-1)/2),lt=0;lt<tt;lt++){it=(lt-st+a)%a;for(var ft=0;ft<rt;ft++)ot=(ft-at+$)%$,nt[it*$+ot]=s[lt][ft]}nt=this.fft2DArray(nt,a,$);var pt=a*2,ut=$/2+1;return this.convolute2DI(_e,nt,pt,ut),this.ifft2DArray(_e,pt,ut)},toRadix2:function(o,s,a){var $,j,_e,et,tt=a,rt=s;if(!(a!==0&&!(a&a-1))){for(tt=0;a>>++tt;);tt=1<<tt}if(!(s!==0&&!(s&s-1))){for(rt=0;s>>++rt;);rt=1<<rt}if(rt==s&&tt==a)return{data:o,rows:s,cols:a};var nt=new Array(rt*tt),it=Math.floor((rt-s)/2)-s,ot=Math.floor((tt-a)/2)-a;for($=0;$<rt;$++)for(_e=$*tt,et=($-it)%s*a,j=0;j<tt;j++)nt[_e+j]=o[et+(j-ot)%a];return{data:nt,rows:rt,cols:tt}},crop:function(o,s,a,$,j,_e){if(s==$&&a==j)return o;Object.assign({},_e);var et=new Array(j*$),tt=Math.floor((s-$)/2),rt=Math.floor((a-j)/2),nt,it,ot,st;for(ot=0;ot<$;ot++)for(nt=ot*j,it=(ot+tt)*a,st=0;st<j;st++)et[nt+st]=o[it+(st+rt)];return et}},FFTUtils_1=FFTUtils$1;src$3.FFTUtils=FFTUtils_1;src$3.FFT=fftlib;var FFTUtils=src$3.FFTUtils;function convolutionFFT(o,s,a){var $=matrix2Array(o),j=$.data,_e=Object.assign({normalize:!1,divisor:1,rows:$.rows,cols:$.cols},a),et,tt;if(_e.rows&&_e.cols)et=_e.rows,tt=_e.cols;else throw new Error("Invalid number of rows or columns "+et+" "+tt);var rt=_e.divisor,nt,it,ot=s.length,st=s[0].length;if(_e.normalize)for(rt=0,nt=0;nt<ot;nt++)for(it=0;it<st;it++)rt+=s[nt][it];if(rt===0)throw new RangeError("convolution: The divisor is equal to zero");var at=FFTUtils.toRadix2(j,et,tt),lt=FFTUtils.convolute(at.data,s,at.rows,at.cols);if(lt=FFTUtils.crop(lt,at.rows,at.cols,et,tt),rt!=0&&rt!=1)for(nt=0;nt<lt.length;nt++)lt[nt]/=rt;return lt}function convolutionDirect(o,s,a){var $=matrix2Array(o),j=$.data,_e=Object.assign({normalize:!1,divisor:1,rows:$.rows,cols:$.cols},a),et,tt;if(_e.rows&&_e.cols)et=_e.rows,tt=_e.cols;else throw new Error("Invalid number of rows or columns "+et+" "+tt);var rt=_e.divisor,nt=s.length,it=s[0].length,ot,st,at,lt,ft,pt,ut,dt,ct;if(_e.normalize)for(rt=0,ot=0;ot<nt;ot++)for(st=0;st<it;st++)rt+=s[ot][st];if(rt===0)throw new RangeError("convolution: The divisor is equal to zero");var ht=new Array(et*tt),mt=Math.floor(nt/2),vt=Math.floor(it/2);for(lt=0;lt<et;lt++)for(at=0;at<tt;at++){for(pt=0,st=0;st<nt;st++)for(ot=0;ot<it;ot++)ut=s[nt-st-1][it-ot-1],dt=(lt+st-mt+et)%et,ct=(at+ot-vt+tt)%tt,ft=dt*tt+ct,pt+=j[ft]*ut;ft=lt*tt+at,ht[ft]=pt/rt}return ht}function LoG(o,s,a){var $=1e3;a&&a.factor&&($=a.factor);var j=new Array(s),_e,et,tt,rt;$*=-1;var nt=(s-1)/2,it=2*o*o;for(_e=0;_e<s;_e++)for(j[_e]=new Array(s),rt=(_e-nt)*(_e-nt),et=0;et<s;et++)tt=-((et-nt)*(et-nt)+rt)/it,j[_e][et]=Math.round($*(1+tt)*Math.exp(tt));return j}function matrix2Array(o){var s=o,a,$;if(typeof o[0]!="number"){a=o.length,$=o[0].length,s=new Array(a*$);for(var j=0;j<a;j++)for(var _e=0;_e<$;_e++)s[j*$+_e]=o[j][_e]}else{var et=Math.sqrt(o.length);Number.isInteger(et)&&(a=et,$=et)}return{data:s,rows:a,cols:$}}var src$2={fft:convolutionFFT,direct:convolutionDirect,kernelFactory:{LoG},matrix2Array},_isFinite=Number.isFinite||function(o){return!(typeof o!="number"||o!==o||o===1/0||o===-1/0)},isFinite$1=_isFinite,isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite$1(o)&&Math.floor(o)===o};const isInteger$1=getDefaultExportFromCjs(isInteger);function validateKernel(o){let s,a;if(Array.isArray(o))if(Array.isArray(o[0])){if(!(o.length&1)||!(o[0].length&1))throw new RangeError("validateKernel: Kernel rows and columns should be odd numbers");s=Math.floor(o.length/2),a=Math.floor(o[0].length/2)}else{let $=Math.sqrt(o.length);if(isInteger$1($))a=s=Math.floor(Math.sqrt(o.length)/2);else throw new RangeError("validateKernel: Kernel array should be a square");let j=new Array($);for(let _e=0;_e<$;_e++){j[_e]=new Array($);for(let et=0;et<$;et++)j[_e][et]=o[_e*$+et]}o=j}else throw new Error(`validateKernel: Invalid Kernel: ${o}`);return{kernel:o,kWidth:a,kHeight:s}}function clamp$1(o,s){return Math.round(Math.min(Math.max(o,0),s.maxValue))}function directConvolution(o,s,a){if(a===void 0){const _e=o.length+s.length-1;a=new Array(_e)}fill(a);for(var $=0;$<o.length;$++)for(var j=0;j<s.length;j++)a[$+j]+=o[$]*s[j];return a}function fill(o){for(var s=0;s<o.length;s++)o[s]=0}function FFT(o){if(this.size=o|0,this.size<=1||this.size&this.size-1)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=o<<1;for(var s=new Array(this.size*2),a=0;a<s.length;a+=2){const rt=Math.PI*a/this.size;s[a]=Math.cos(rt),s[a+1]=-Math.sin(rt)}this.table=s;for(var $=0,j=1;this.size>j;j<<=1)$++;this._width=$%2===0?$-1:$,this._bitrev=new Array(1<<this._width);for(var _e=0;_e<this._bitrev.length;_e++){this._bitrev[_e]=0;for(var et=0;et<this._width;et+=2){var tt=this._width-et-2;this._bitrev[_e]|=(_e>>>et&3)<<tt}}this._out=null,this._data=null,this._inv=0}FFT.prototype.fromComplexArray=function o(s,a){for(var $=a||new Array(s.length>>>1),j=0;j<s.length;j+=2)$[j>>>1]=s[j];return $};FFT.prototype.createComplexArray=function o(){const s=new Array(this._csize);for(var a=0;a<s.length;a++)s[a]=0;return s};FFT.prototype.toComplexArray=function o(s,a){for(var $=a||this.createComplexArray(),j=0;j<$.length;j+=2)$[j]=s[j>>>1],$[j+1]=0;return $};FFT.prototype.completeSpectrum=function o(s){for(var a=this._csize,$=a>>>1,j=2;j<$;j+=2)s[a-j]=s[j],s[a-j+1]=-s[j+1]};FFT.prototype.transform=function o(s,a){if(s===a)throw new Error("Input and output buffers must be different");this._out=s,this._data=a,this._inv=0,this._transform4(),this._out=null,this._data=null};FFT.prototype.realTransform=function o(s,a){if(s===a)throw new Error("Input and output buffers must be different");this._out=s,this._data=a,this._inv=0,this._realTransform4(),this._out=null,this._data=null};FFT.prototype.inverseTransform=function o(s,a){if(s===a)throw new Error("Input and output buffers must be different");this._out=s,this._data=a,this._inv=1,this._transform4();for(var $=0;$<s.length;$++)s[$]/=this.size;this._out=null,this._data=null};FFT.prototype._transform4=function o(){var s=this._out,a=this._csize,$=this._width,j=1<<$,_e=a/j<<1,et,tt,rt=this._bitrev;if(_e===4)for(et=0,tt=0;et<a;et+=_e,tt++){const ft=rt[tt];this._singleTransform2(et,ft,j)}else for(et=0,tt=0;et<a;et+=_e,tt++){const ft=rt[tt];this._singleTransform4(et,ft,j)}var nt=this._inv?-1:1,it=this.table;for(j>>=2;j>=2;j>>=2){_e=a/j<<1;var ot=_e>>>2;for(et=0;et<a;et+=_e)for(var st=et+ot,at=et,lt=0;at<st;at+=2,lt+=j){const ft=at,pt=ft+ot,ut=pt+ot,dt=ut+ot,ct=s[ft],ht=s[ft+1],mt=s[pt],vt=s[pt+1],yt=s[ut],xt=s[ut+1],bt=s[dt],gt=s[dt+1],wt=ct,Et=ht,kt=it[lt],Ct=nt*it[lt+1],Mt=mt*kt-vt*Ct,Ft=mt*Ct+vt*kt,Tt=it[2*lt],$t=nt*it[2*lt+1],Dt=yt*Tt-xt*$t,It=yt*$t+xt*Tt,Yt=it[3*lt],Ht=nt*it[3*lt+1],jt=bt*Yt-gt*Ht,Bt=bt*Ht+gt*Yt,Ot=wt+Dt,Ut=Et+It,Gt=wt-Dt,dn=Et-It,tn=Mt+jt,fn=Ft+Bt,nn=nt*(Mt-jt),Xt=nt*(Ft-Bt),an=Ot+tn,Kt=Ut+fn,zt=Ot-tn,pn=Ut-fn,qt=Gt+Xt,hn=dn-nn,At=Gt-Xt,Qt=dn+nn;s[ft]=an,s[ft+1]=Kt,s[pt]=qt,s[pt+1]=hn,s[ut]=zt,s[ut+1]=pn,s[dt]=At,s[dt+1]=Qt}}};FFT.prototype._singleTransform2=function o(s,a,$){const j=this._out,_e=this._data,et=_e[a],tt=_e[a+1],rt=_e[a+$],nt=_e[a+$+1],it=et+rt,ot=tt+nt,st=et-rt,at=tt-nt;j[s]=it,j[s+1]=ot,j[s+2]=st,j[s+3]=at};FFT.prototype._singleTransform4=function o(s,a,$){const j=this._out,_e=this._data,et=this._inv?-1:1,tt=$*2,rt=$*3,nt=_e[a],it=_e[a+1],ot=_e[a+$],st=_e[a+$+1],at=_e[a+tt],lt=_e[a+tt+1],ft=_e[a+rt],pt=_e[a+rt+1],ut=nt+at,dt=it+lt,ct=nt-at,ht=it-lt,mt=ot+ft,vt=st+pt,yt=et*(ot-ft),xt=et*(st-pt),bt=ut+mt,gt=dt+vt,wt=ct+xt,Et=ht-yt,kt=ut-mt,Ct=dt-vt,Mt=ct-xt,Ft=ht+yt;j[s]=bt,j[s+1]=gt,j[s+2]=wt,j[s+3]=Et,j[s+4]=kt,j[s+5]=Ct,j[s+6]=Mt,j[s+7]=Ft};FFT.prototype._realTransform4=function o(){var s=this._out,a=this._csize,$=this._width,j=1<<$,_e=a/j<<1,et,tt,rt=this._bitrev;if(_e===4)for(et=0,tt=0;et<a;et+=_e,tt++){const yn=rt[tt];this._singleRealTransform2(et,yn>>>1,j>>>1)}else for(et=0,tt=0;et<a;et+=_e,tt++){const yn=rt[tt];this._singleRealTransform4(et,yn>>>1,j>>>1)}var nt=this._inv?-1:1,it=this.table;for(j>>=2;j>=2;j>>=2){_e=a/j<<1;var ot=_e>>>1,st=ot>>>1,at=st>>>1;for(et=0;et<a;et+=_e)for(var lt=0,ft=0;lt<=at;lt+=2,ft+=j){var pt=et+lt,ut=pt+st,dt=ut+st,ct=dt+st,ht=s[pt],mt=s[pt+1],vt=s[ut],yt=s[ut+1],xt=s[dt],bt=s[dt+1],gt=s[ct],wt=s[ct+1],Et=ht,kt=mt,Ct=it[ft],Mt=nt*it[ft+1],Ft=vt*Ct-yt*Mt,Tt=vt*Mt+yt*Ct,$t=it[2*ft],Dt=nt*it[2*ft+1],It=xt*$t-bt*Dt,Yt=xt*Dt+bt*$t,Ht=it[3*ft],jt=nt*it[3*ft+1],Bt=gt*Ht-wt*jt,Ot=gt*jt+wt*Ht,Ut=Et+It,Gt=kt+Yt,dn=Et-It,tn=kt-Yt,fn=Ft+Bt,nn=Tt+Ot,Xt=nt*(Ft-Bt),an=nt*(Tt-Ot),Kt=Ut+fn,zt=Gt+nn,pn=dn+an,qt=tn-Xt;if(s[pt]=Kt,s[pt+1]=zt,s[ut]=pn,s[ut+1]=qt,lt===0){var hn=Ut-fn,At=Gt-nn;s[dt]=hn,s[dt+1]=At;continue}if(lt!==at){var Qt=dn,Jt=-tn,ln=Ut,Nt=-Gt,mn=-nt*an,gn=-nt*Xt,en=-nt*nn,rn=-nt*fn,Zt=Qt+mn,Lt=Jt+gn,Wt=ln+rn,un=Nt-en,on=et+st-lt,xn=et+ot-lt;s[on]=Zt,s[on+1]=Lt,s[xn]=Wt,s[xn+1]=un}}}};FFT.prototype._singleRealTransform2=function o(s,a,$){const j=this._out,_e=this._data,et=_e[a],tt=_e[a+$],rt=et+tt,nt=et-tt;j[s]=rt,j[s+1]=0,j[s+2]=nt,j[s+3]=0};FFT.prototype._singleRealTransform4=function o(s,a,$){const j=this._out,_e=this._data,et=this._inv?-1:1,tt=$*2,rt=$*3,nt=_e[a],it=_e[a+$],ot=_e[a+tt],st=_e[a+rt],at=nt+ot,lt=nt-ot,ft=it+st,pt=et*(it-st),ut=at+ft,dt=lt,ct=-pt,ht=at-ft,mt=lt,vt=pt;j[s]=ut,j[s+1]=0,j[s+2]=dt,j[s+3]=ct,j[s+4]=ht,j[s+5]=0,j[s+6]=mt,j[s+7]=vt};function convolutionSeparable(o,s,a,$){const j=new Array(o.length);let _e,et,tt,rt;rt=s[1],tt=(rt.length-1)/2,et=new Array(a+rt.length-1),_e=new Array(a);for(let nt=0;nt<$;nt++){for(let it=0;it<a;it++)_e[it]=o[nt*a+it];directConvolution(_e,rt,et);for(let it=0;it<a;it++)j[nt*a+it]=et[tt+it]}rt=s[0],tt=(rt.length-1)/2,et=new Array($+rt.length-1),_e=new Array($);for(let nt=0;nt<a;nt++){for(let it=0;it<$;it++)_e[it]=j[it*a+nt];directConvolution(_e,rt,et);for(let it=0;it<$;it++)j[it*a+nt]=et[tt+it]}return j}const toString$1=Object.prototype.toString;function isAnyArray(o){const s=toString$1.call(o);return s.endsWith("Array]")&&!s.includes("Big")}function max$1(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray(o))throw new TypeError("input must be an array");if(o.length===0)throw new TypeError("input must not be empty");var a=s.fromIndex,$=a===void 0?0:a,j=s.toIndex,_e=j===void 0?o.length:j;if($<0||$>=o.length||!Number.isInteger($))throw new Error("fromIndex must be a positive integer smaller than length");if(_e<=$||_e>o.length||!Number.isInteger(_e))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var et=o[$],tt=$+1;tt<_e;tt++)o[tt]>et&&(et=o[tt]);return et}function min$1(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray(o))throw new TypeError("input must be an array");if(o.length===0)throw new TypeError("input must not be empty");var a=s.fromIndex,$=a===void 0?0:a,j=s.toIndex,_e=j===void 0?o.length:j;if($<0||$>=o.length||!Number.isInteger($))throw new Error("fromIndex must be a positive integer smaller than length");if(_e<=$||_e>o.length||!Number.isInteger(_e))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var et=o[$],tt=$+1;tt<_e;tt++)o[tt]<et&&(et=o[tt]);return et}function rescale(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(isAnyArray(o)){if(o.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var a;if(s.output!==void 0){if(!isAnyArray(s.output))throw new TypeError("output option must be an array if specified");a=s.output}else a=new Array(o.length);var $=min$1(o),j=max$1(o);if($===j)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var _e=s.min,et=_e===void 0?s.autoMinMax?$:0:_e,tt=s.max,rt=tt===void 0?s.autoMinMax?j:1:tt;if(et>=rt)throw new RangeError("min option must be smaller than max option");for(var nt=(rt-et)/(j-$),it=0;it<o.length;it++)a[it]=(o[it]-$)*nt+et;return a}const indent=" ".repeat(2),indentData=" ".repeat(4);function inspectMatrix(){return inspectMatrixWithOptions(this)}function inspectMatrixWithOptions(o,s={}){const{maxRows:a=15,maxColumns:$=10,maxNumSize:j=8,padMinus:_e="auto"}=s;return`${o.constructor.name} {
${indent}[
${indentData}${inspectData(o,a,$,j,_e)}
${indent}]
${indent}rows: ${o.rows}
${indent}columns: ${o.columns}
}`}function inspectData(o,s,a,$,j){const{rows:_e,columns:et}=o,tt=Math.min(_e,s),rt=Math.min(et,a),nt=[];if(j==="auto"){j=!1;e:for(let it=0;it<tt;it++)for(let ot=0;ot<rt;ot++)if(o.get(it,ot)<0){j=!0;break e}}for(let it=0;it<tt;it++){let ot=[];for(let st=0;st<rt;st++)ot.push(formatNumber(o.get(it,st),$,j));nt.push(`${ot.join(" ")}`)}return rt!==et&&(nt[nt.length-1]+=` ... ${et-a} more columns`),tt!==_e&&nt.push(`... ${_e-s} more rows`),nt.join(`
${indentData}`)}function formatNumber(o,s,a){return(o>=0&&a?` ${formatNumber2(o,s-1)}`:formatNumber2(o,s)).padEnd(s)}function formatNumber2(o,s){let a=o.toString();if(a.length<=s)return a;let $=o.toFixed(s);if($.length>s&&($=o.toFixed(Math.max(0,s-($.length-s)))),$.length<=s&&!$.startsWith("0.000")&&!$.startsWith("-0.000"))return $;let j=o.toExponential(s);return j.length>s&&(j=o.toExponential(Math.max(0,s-(j.length-s)))),j.slice(0)}function installMathOperations(o,s){o.prototype.add=function($){return typeof $=="number"?this.addS($):this.addM($)},o.prototype.addS=function($){for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)+$);return this},o.prototype.addM=function($){if($=s.checkMatrix($),this.rows!==$.rows||this.columns!==$.columns)throw new RangeError("Matrices dimensions must be equal");for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)+$.get(j,_e));return this},o.add=function($,j){return new s($).add(j)},o.prototype.sub=function($){return typeof $=="number"?this.subS($):this.subM($)},o.prototype.subS=function($){for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)-$);return this},o.prototype.subM=function($){if($=s.checkMatrix($),this.rows!==$.rows||this.columns!==$.columns)throw new RangeError("Matrices dimensions must be equal");for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)-$.get(j,_e));return this},o.sub=function($,j){return new s($).sub(j)},o.prototype.subtract=o.prototype.sub,o.prototype.subtractS=o.prototype.subS,o.prototype.subtractM=o.prototype.subM,o.subtract=o.sub,o.prototype.mul=function($){return typeof $=="number"?this.mulS($):this.mulM($)},o.prototype.mulS=function($){for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)*$);return this},o.prototype.mulM=function($){if($=s.checkMatrix($),this.rows!==$.rows||this.columns!==$.columns)throw new RangeError("Matrices dimensions must be equal");for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)*$.get(j,_e));return this},o.mul=function($,j){return new s($).mul(j)},o.prototype.multiply=o.prototype.mul,o.prototype.multiplyS=o.prototype.mulS,o.prototype.multiplyM=o.prototype.mulM,o.multiply=o.mul,o.prototype.div=function($){return typeof $=="number"?this.divS($):this.divM($)},o.prototype.divS=function($){for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)/$);return this},o.prototype.divM=function($){if($=s.checkMatrix($),this.rows!==$.rows||this.columns!==$.columns)throw new RangeError("Matrices dimensions must be equal");for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)/$.get(j,_e));return this},o.div=function($,j){return new s($).div(j)},o.prototype.divide=o.prototype.div,o.prototype.divideS=o.prototype.divS,o.prototype.divideM=o.prototype.divM,o.divide=o.div,o.prototype.mod=function($){return typeof $=="number"?this.modS($):this.modM($)},o.prototype.modS=function($){for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)%$);return this},o.prototype.modM=function($){if($=s.checkMatrix($),this.rows!==$.rows||this.columns!==$.columns)throw new RangeError("Matrices dimensions must be equal");for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)%$.get(j,_e));return this},o.mod=function($,j){return new s($).mod(j)},o.prototype.modulus=o.prototype.mod,o.prototype.modulusS=o.prototype.modS,o.prototype.modulusM=o.prototype.modM,o.modulus=o.mod,o.prototype.and=function($){return typeof $=="number"?this.andS($):this.andM($)},o.prototype.andS=function($){for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)&$);return this},o.prototype.andM=function($){if($=s.checkMatrix($),this.rows!==$.rows||this.columns!==$.columns)throw new RangeError("Matrices dimensions must be equal");for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)&$.get(j,_e));return this},o.and=function($,j){return new s($).and(j)},o.prototype.or=function($){return typeof $=="number"?this.orS($):this.orM($)},o.prototype.orS=function($){for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)|$);return this},o.prototype.orM=function($){if($=s.checkMatrix($),this.rows!==$.rows||this.columns!==$.columns)throw new RangeError("Matrices dimensions must be equal");for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)|$.get(j,_e));return this},o.or=function($,j){return new s($).or(j)},o.prototype.xor=function($){return typeof $=="number"?this.xorS($):this.xorM($)},o.prototype.xorS=function($){for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)^$);return this},o.prototype.xorM=function($){if($=s.checkMatrix($),this.rows!==$.rows||this.columns!==$.columns)throw new RangeError("Matrices dimensions must be equal");for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)^$.get(j,_e));return this},o.xor=function($,j){return new s($).xor(j)},o.prototype.leftShift=function($){return typeof $=="number"?this.leftShiftS($):this.leftShiftM($)},o.prototype.leftShiftS=function($){for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)<<$);return this},o.prototype.leftShiftM=function($){if($=s.checkMatrix($),this.rows!==$.rows||this.columns!==$.columns)throw new RangeError("Matrices dimensions must be equal");for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)<<$.get(j,_e));return this},o.leftShift=function($,j){return new s($).leftShift(j)},o.prototype.signPropagatingRightShift=function($){return typeof $=="number"?this.signPropagatingRightShiftS($):this.signPropagatingRightShiftM($)},o.prototype.signPropagatingRightShiftS=function($){for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)>>$);return this},o.prototype.signPropagatingRightShiftM=function($){if($=s.checkMatrix($),this.rows!==$.rows||this.columns!==$.columns)throw new RangeError("Matrices dimensions must be equal");for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)>>$.get(j,_e));return this},o.signPropagatingRightShift=function($,j){return new s($).signPropagatingRightShift(j)},o.prototype.rightShift=function($){return typeof $=="number"?this.rightShiftS($):this.rightShiftM($)},o.prototype.rightShiftS=function($){for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)>>>$);return this},o.prototype.rightShiftM=function($){if($=s.checkMatrix($),this.rows!==$.rows||this.columns!==$.columns)throw new RangeError("Matrices dimensions must be equal");for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,this.get(j,_e)>>>$.get(j,_e));return this},o.rightShift=function($,j){return new s($).rightShift(j)},o.prototype.zeroFillRightShift=o.prototype.rightShift,o.prototype.zeroFillRightShiftS=o.prototype.rightShiftS,o.prototype.zeroFillRightShiftM=o.prototype.rightShiftM,o.zeroFillRightShift=o.rightShift,o.prototype.not=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,~this.get($,j));return this},o.not=function($){return new s($).not()},o.prototype.abs=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.abs(this.get($,j)));return this},o.abs=function($){return new s($).abs()},o.prototype.acos=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.acos(this.get($,j)));return this},o.acos=function($){return new s($).acos()},o.prototype.acosh=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.acosh(this.get($,j)));return this},o.acosh=function($){return new s($).acosh()},o.prototype.asin=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.asin(this.get($,j)));return this},o.asin=function($){return new s($).asin()},o.prototype.asinh=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.asinh(this.get($,j)));return this},o.asinh=function($){return new s($).asinh()},o.prototype.atan=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.atan(this.get($,j)));return this},o.atan=function($){return new s($).atan()},o.prototype.atanh=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.atanh(this.get($,j)));return this},o.atanh=function($){return new s($).atanh()},o.prototype.cbrt=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.cbrt(this.get($,j)));return this},o.cbrt=function($){return new s($).cbrt()},o.prototype.ceil=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.ceil(this.get($,j)));return this},o.ceil=function($){return new s($).ceil()},o.prototype.clz32=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.clz32(this.get($,j)));return this},o.clz32=function($){return new s($).clz32()},o.prototype.cos=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.cos(this.get($,j)));return this},o.cos=function($){return new s($).cos()},o.prototype.cosh=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.cosh(this.get($,j)));return this},o.cosh=function($){return new s($).cosh()},o.prototype.exp=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.exp(this.get($,j)));return this},o.exp=function($){return new s($).exp()},o.prototype.expm1=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.expm1(this.get($,j)));return this},o.expm1=function($){return new s($).expm1()},o.prototype.floor=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.floor(this.get($,j)));return this},o.floor=function($){return new s($).floor()},o.prototype.fround=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.fround(this.get($,j)));return this},o.fround=function($){return new s($).fround()},o.prototype.log=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.log(this.get($,j)));return this},o.log=function($){return new s($).log()},o.prototype.log1p=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.log1p(this.get($,j)));return this},o.log1p=function($){return new s($).log1p()},o.prototype.log10=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.log10(this.get($,j)));return this},o.log10=function($){return new s($).log10()},o.prototype.log2=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.log2(this.get($,j)));return this},o.log2=function($){return new s($).log2()},o.prototype.round=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.round(this.get($,j)));return this},o.round=function($){return new s($).round()},o.prototype.sign=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.sign(this.get($,j)));return this},o.sign=function($){return new s($).sign()},o.prototype.sin=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.sin(this.get($,j)));return this},o.sin=function($){return new s($).sin()},o.prototype.sinh=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.sinh(this.get($,j)));return this},o.sinh=function($){return new s($).sinh()},o.prototype.sqrt=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.sqrt(this.get($,j)));return this},o.sqrt=function($){return new s($).sqrt()},o.prototype.tan=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.tan(this.get($,j)));return this},o.tan=function($){return new s($).tan()},o.prototype.tanh=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.tanh(this.get($,j)));return this},o.tanh=function($){return new s($).tanh()},o.prototype.trunc=function(){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.set($,j,Math.trunc(this.get($,j)));return this},o.trunc=function($){return new s($).trunc()},o.pow=function($,j){return new s($).pow(j)},o.prototype.pow=function($){return typeof $=="number"?this.powS($):this.powM($)},o.prototype.powS=function($){for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,Math.pow(this.get(j,_e),$));return this},o.prototype.powM=function($){if($=s.checkMatrix($),this.rows!==$.rows||this.columns!==$.columns)throw new RangeError("Matrices dimensions must be equal");for(let j=0;j<this.rows;j++)for(let _e=0;_e<this.columns;_e++)this.set(j,_e,Math.pow(this.get(j,_e),$.get(j,_e)));return this}}function checkRowIndex(o,s,a){let $=a?o.rows:o.rows-1;if(s<0||s>$)throw new RangeError("Row index out of range")}function checkColumnIndex(o,s,a){let $=a?o.columns:o.columns-1;if(s<0||s>$)throw new RangeError("Column index out of range")}function checkRowVector(o,s){if(s.to1DArray&&(s=s.to1DArray()),s.length!==o.columns)throw new RangeError("vector size must be the same as the number of columns");return s}function checkColumnVector(o,s){if(s.to1DArray&&(s=s.to1DArray()),s.length!==o.rows)throw new RangeError("vector size must be the same as the number of rows");return s}function checkRowIndices(o,s){if(!isAnyArray(s))throw new TypeError("row indices must be an array");for(let a=0;a<s.length;a++)if(s[a]<0||s[a]>=o.rows)throw new RangeError("row indices are out of range")}function checkColumnIndices(o,s){if(!isAnyArray(s))throw new TypeError("column indices must be an array");for(let a=0;a<s.length;a++)if(s[a]<0||s[a]>=o.columns)throw new RangeError("column indices are out of range")}function checkRange(o,s,a,$,j){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(checkNumber("startRow",s),checkNumber("endRow",a),checkNumber("startColumn",$),checkNumber("endColumn",j),s>a||$>j||s<0||s>=o.rows||a<0||a>=o.rows||$<0||$>=o.columns||j<0||j>=o.columns)throw new RangeError("Submatrix indices are out of range")}function newArray$2(o,s=0){let a=[];for(let $=0;$<o;$++)a.push(s);return a}function checkNumber(o,s){if(typeof s!="number")throw new TypeError(`${o} must be a number`)}function checkNonEmpty(o){if(o.isEmpty())throw new Error("Empty matrix has no elements to index")}function sumByRow(o){let s=newArray$2(o.rows);for(let a=0;a<o.rows;++a)for(let $=0;$<o.columns;++$)s[a]+=o.get(a,$);return s}function sumByColumn(o){let s=newArray$2(o.columns);for(let a=0;a<o.rows;++a)for(let $=0;$<o.columns;++$)s[$]+=o.get(a,$);return s}function sumAll(o){let s=0;for(let a=0;a<o.rows;a++)for(let $=0;$<o.columns;$++)s+=o.get(a,$);return s}function productByRow(o){let s=newArray$2(o.rows,1);for(let a=0;a<o.rows;++a)for(let $=0;$<o.columns;++$)s[a]*=o.get(a,$);return s}function productByColumn(o){let s=newArray$2(o.columns,1);for(let a=0;a<o.rows;++a)for(let $=0;$<o.columns;++$)s[$]*=o.get(a,$);return s}function productAll(o){let s=1;for(let a=0;a<o.rows;a++)for(let $=0;$<o.columns;$++)s*=o.get(a,$);return s}function varianceByRow(o,s,a){const $=o.rows,j=o.columns,_e=[];for(let et=0;et<$;et++){let tt=0,rt=0,nt=0;for(let it=0;it<j;it++)nt=o.get(et,it)-a[et],tt+=nt,rt+=nt*nt;s?_e.push((rt-tt*tt/j)/(j-1)):_e.push((rt-tt*tt/j)/j)}return _e}function varianceByColumn(o,s,a){const $=o.rows,j=o.columns,_e=[];for(let et=0;et<j;et++){let tt=0,rt=0,nt=0;for(let it=0;it<$;it++)nt=o.get(it,et)-a[et],tt+=nt,rt+=nt*nt;s?_e.push((rt-tt*tt/$)/($-1)):_e.push((rt-tt*tt/$)/$)}return _e}function varianceAll(o,s,a){const $=o.rows,j=o.columns,_e=$*j;let et=0,tt=0,rt=0;for(let nt=0;nt<$;nt++)for(let it=0;it<j;it++)rt=o.get(nt,it)-a,et+=rt,tt+=rt*rt;return s?(tt-et*et/_e)/(_e-1):(tt-et*et/_e)/_e}function centerByRow(o,s){for(let a=0;a<o.rows;a++)for(let $=0;$<o.columns;$++)o.set(a,$,o.get(a,$)-s[a])}function centerByColumn(o,s){for(let a=0;a<o.rows;a++)for(let $=0;$<o.columns;$++)o.set(a,$,o.get(a,$)-s[$])}function centerAll(o,s){for(let a=0;a<o.rows;a++)for(let $=0;$<o.columns;$++)o.set(a,$,o.get(a,$)-s)}function getScaleByRow(o){const s=[];for(let a=0;a<o.rows;a++){let $=0;for(let j=0;j<o.columns;j++)$+=Math.pow(o.get(a,j),2)/(o.columns-1);s.push(Math.sqrt($))}return s}function scaleByRow(o,s){for(let a=0;a<o.rows;a++)for(let $=0;$<o.columns;$++)o.set(a,$,o.get(a,$)/s[a])}function getScaleByColumn(o){const s=[];for(let a=0;a<o.columns;a++){let $=0;for(let j=0;j<o.rows;j++)$+=Math.pow(o.get(j,a),2)/(o.rows-1);s.push(Math.sqrt($))}return s}function scaleByColumn(o,s){for(let a=0;a<o.rows;a++)for(let $=0;$<o.columns;$++)o.set(a,$,o.get(a,$)/s[$])}function getScaleAll(o){const s=o.size-1;let a=0;for(let $=0;$<o.columns;$++)for(let j=0;j<o.rows;j++)a+=Math.pow(o.get(j,$),2)/s;return Math.sqrt(a)}function scaleAll(o,s){for(let a=0;a<o.rows;a++)for(let $=0;$<o.columns;$++)o.set(a,$,o.get(a,$)/s)}class AbstractMatrix{static from1DArray(s,a,$){if(s*a!==$.length)throw new RangeError("data length does not match given dimensions");let _e=new Matrix$2(s,a);for(let et=0;et<s;et++)for(let tt=0;tt<a;tt++)_e.set(et,tt,$[et*a+tt]);return _e}static rowVector(s){let a=new Matrix$2(1,s.length);for(let $=0;$<s.length;$++)a.set(0,$,s[$]);return a}static columnVector(s){let a=new Matrix$2(s.length,1);for(let $=0;$<s.length;$++)a.set($,0,s[$]);return a}static zeros(s,a){return new Matrix$2(s,a)}static ones(s,a){return new Matrix$2(s,a).fill(1)}static rand(s,a,$={}){if(typeof $!="object")throw new TypeError("options must be an object");const{random:j=Math.random}=$;let _e=new Matrix$2(s,a);for(let et=0;et<s;et++)for(let tt=0;tt<a;tt++)_e.set(et,tt,j());return _e}static randInt(s,a,$={}){if(typeof $!="object")throw new TypeError("options must be an object");const{min:j=0,max:_e=1e3,random:et=Math.random}=$;if(!Number.isInteger(j))throw new TypeError("min must be an integer");if(!Number.isInteger(_e))throw new TypeError("max must be an integer");if(j>=_e)throw new RangeError("min must be smaller than max");let tt=_e-j,rt=new Matrix$2(s,a);for(let nt=0;nt<s;nt++)for(let it=0;it<a;it++){let ot=j+Math.round(et()*tt);rt.set(nt,it,ot)}return rt}static eye(s,a,$){a===void 0&&(a=s),$===void 0&&($=1);let j=Math.min(s,a),_e=this.zeros(s,a);for(let et=0;et<j;et++)_e.set(et,et,$);return _e}static diag(s,a,$){let j=s.length;a===void 0&&(a=j),$===void 0&&($=a);let _e=Math.min(j,a,$),et=this.zeros(a,$);for(let tt=0;tt<_e;tt++)et.set(tt,tt,s[tt]);return et}static min(s,a){s=this.checkMatrix(s),a=this.checkMatrix(a);let $=s.rows,j=s.columns,_e=new Matrix$2($,j);for(let et=0;et<$;et++)for(let tt=0;tt<j;tt++)_e.set(et,tt,Math.min(s.get(et,tt),a.get(et,tt)));return _e}static max(s,a){s=this.checkMatrix(s),a=this.checkMatrix(a);let $=s.rows,j=s.columns,_e=new this($,j);for(let et=0;et<$;et++)for(let tt=0;tt<j;tt++)_e.set(et,tt,Math.max(s.get(et,tt),a.get(et,tt)));return _e}static checkMatrix(s){return AbstractMatrix.isMatrix(s)?s:new Matrix$2(s)}static isMatrix(s){return s!=null&&s.klass==="Matrix"}get size(){return this.rows*this.columns}apply(s){if(typeof s!="function")throw new TypeError("callback must be a function");for(let a=0;a<this.rows;a++)for(let $=0;$<this.columns;$++)s.call(this,a,$);return this}to1DArray(){let s=[];for(let a=0;a<this.rows;a++)for(let $=0;$<this.columns;$++)s.push(this.get(a,$));return s}to2DArray(){let s=[];for(let a=0;a<this.rows;a++){s.push([]);for(let $=0;$<this.columns;$++)s[a].push(this.get(a,$))}return s}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let s=0;s<this.rows;s++)for(let a=0;a<=s;a++)if(this.get(s,a)!==this.get(a,s))return!1;return!0}return!1}isEchelonForm(){let s=0,a=0,$=-1,j=!0,_e=!1;for(;s<this.rows&&j;){for(a=0,_e=!1;a<this.columns&&_e===!1;)this.get(s,a)===0?a++:this.get(s,a)===1&&a>$?(_e=!0,$=a):(j=!1,_e=!0);s++}return j}isReducedEchelonForm(){let s=0,a=0,$=-1,j=!0,_e=!1;for(;s<this.rows&&j;){for(a=0,_e=!1;a<this.columns&&_e===!1;)this.get(s,a)===0?a++:this.get(s,a)===1&&a>$?(_e=!0,$=a):(j=!1,_e=!0);for(let et=a+1;et<this.rows;et++)this.get(s,et)!==0&&(j=!1);s++}return j}echelonForm(){let s=this.clone(),a=0,$=0;for(;a<s.rows&&$<s.columns;){let j=a;for(let _e=a;_e<s.rows;_e++)s.get(_e,$)>s.get(j,$)&&(j=_e);if(s.get(j,$)===0)$++;else{s.swapRows(a,j);let _e=s.get(a,$);for(let et=$;et<s.columns;et++)s.set(a,et,s.get(a,et)/_e);for(let et=a+1;et<s.rows;et++){let tt=s.get(et,$)/s.get(a,$);s.set(et,$,0);for(let rt=$+1;rt<s.columns;rt++)s.set(et,rt,s.get(et,rt)-s.get(a,rt)*tt)}a++,$++}}return s}reducedEchelonForm(){let s=this.echelonForm(),a=s.columns,$=s.rows,j=$-1;for(;j>=0;)if(s.maxRow(j)===0)j--;else{let _e=0,et=!1;for(;_e<$&&et===!1;)s.get(j,_e)===1?et=!0:_e++;for(let tt=0;tt<j;tt++){let rt=s.get(tt,_e);for(let nt=_e;nt<a;nt++){let it=s.get(tt,nt)-rt*s.get(j,nt);s.set(tt,nt,it)}}j--}return s}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(s={}){if(typeof s!="object")throw new TypeError("options must be an object");const{rows:a=1,columns:$=1}=s;if(!Number.isInteger(a)||a<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger($)||$<=0)throw new TypeError("columns must be a positive integer");let j=new Matrix$2(this.rows*a,this.columns*$);for(let _e=0;_e<a;_e++)for(let et=0;et<$;et++)j.setSubMatrix(this,this.rows*_e,this.columns*et);return j}fill(s){for(let a=0;a<this.rows;a++)for(let $=0;$<this.columns;$++)this.set(a,$,s);return this}neg(){return this.mulS(-1)}getRow(s){checkRowIndex(this,s);let a=[];for(let $=0;$<this.columns;$++)a.push(this.get(s,$));return a}getRowVector(s){return Matrix$2.rowVector(this.getRow(s))}setRow(s,a){checkRowIndex(this,s),a=checkRowVector(this,a);for(let $=0;$<this.columns;$++)this.set(s,$,a[$]);return this}swapRows(s,a){checkRowIndex(this,s),checkRowIndex(this,a);for(let $=0;$<this.columns;$++){let j=this.get(s,$);this.set(s,$,this.get(a,$)),this.set(a,$,j)}return this}getColumn(s){checkColumnIndex(this,s);let a=[];for(let $=0;$<this.rows;$++)a.push(this.get($,s));return a}getColumnVector(s){return Matrix$2.columnVector(this.getColumn(s))}setColumn(s,a){checkColumnIndex(this,s),a=checkColumnVector(this,a);for(let $=0;$<this.rows;$++)this.set($,s,a[$]);return this}swapColumns(s,a){checkColumnIndex(this,s),checkColumnIndex(this,a);for(let $=0;$<this.rows;$++){let j=this.get($,s);this.set($,s,this.get($,a)),this.set($,a,j)}return this}addRowVector(s){s=checkRowVector(this,s);for(let a=0;a<this.rows;a++)for(let $=0;$<this.columns;$++)this.set(a,$,this.get(a,$)+s[$]);return this}subRowVector(s){s=checkRowVector(this,s);for(let a=0;a<this.rows;a++)for(let $=0;$<this.columns;$++)this.set(a,$,this.get(a,$)-s[$]);return this}mulRowVector(s){s=checkRowVector(this,s);for(let a=0;a<this.rows;a++)for(let $=0;$<this.columns;$++)this.set(a,$,this.get(a,$)*s[$]);return this}divRowVector(s){s=checkRowVector(this,s);for(let a=0;a<this.rows;a++)for(let $=0;$<this.columns;$++)this.set(a,$,this.get(a,$)/s[$]);return this}addColumnVector(s){s=checkColumnVector(this,s);for(let a=0;a<this.rows;a++)for(let $=0;$<this.columns;$++)this.set(a,$,this.get(a,$)+s[a]);return this}subColumnVector(s){s=checkColumnVector(this,s);for(let a=0;a<this.rows;a++)for(let $=0;$<this.columns;$++)this.set(a,$,this.get(a,$)-s[a]);return this}mulColumnVector(s){s=checkColumnVector(this,s);for(let a=0;a<this.rows;a++)for(let $=0;$<this.columns;$++)this.set(a,$,this.get(a,$)*s[a]);return this}divColumnVector(s){s=checkColumnVector(this,s);for(let a=0;a<this.rows;a++)for(let $=0;$<this.columns;$++)this.set(a,$,this.get(a,$)/s[a]);return this}mulRow(s,a){checkRowIndex(this,s);for(let $=0;$<this.columns;$++)this.set(s,$,this.get(s,$)*a);return this}mulColumn(s,a){checkColumnIndex(this,s);for(let $=0;$<this.rows;$++)this.set($,s,this.get($,s)*a);return this}max(s){if(this.isEmpty())return NaN;switch(s){case"row":{const a=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.get($,j)>a[$]&&(a[$]=this.get($,j));return a}case"column":{const a=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.get($,j)>a[j]&&(a[j]=this.get($,j));return a}case void 0:{let a=this.get(0,0);for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.get($,j)>a&&(a=this.get($,j));return a}default:throw new Error(`invalid option: ${s}`)}}maxIndex(){checkNonEmpty(this);let s=this.get(0,0),a=[0,0];for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.get($,j)>s&&(s=this.get($,j),a[0]=$,a[1]=j);return a}min(s){if(this.isEmpty())return NaN;switch(s){case"row":{const a=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.get($,j)<a[$]&&(a[$]=this.get($,j));return a}case"column":{const a=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.get($,j)<a[j]&&(a[j]=this.get($,j));return a}case void 0:{let a=this.get(0,0);for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.get($,j)<a&&(a=this.get($,j));return a}default:throw new Error(`invalid option: ${s}`)}}minIndex(){checkNonEmpty(this);let s=this.get(0,0),a=[0,0];for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)this.get($,j)<s&&(s=this.get($,j),a[0]=$,a[1]=j);return a}maxRow(s){if(checkRowIndex(this,s),this.isEmpty())return NaN;let a=this.get(s,0);for(let $=1;$<this.columns;$++)this.get(s,$)>a&&(a=this.get(s,$));return a}maxRowIndex(s){checkRowIndex(this,s),checkNonEmpty(this);let a=this.get(s,0),$=[s,0];for(let j=1;j<this.columns;j++)this.get(s,j)>a&&(a=this.get(s,j),$[1]=j);return $}minRow(s){if(checkRowIndex(this,s),this.isEmpty())return NaN;let a=this.get(s,0);for(let $=1;$<this.columns;$++)this.get(s,$)<a&&(a=this.get(s,$));return a}minRowIndex(s){checkRowIndex(this,s),checkNonEmpty(this);let a=this.get(s,0),$=[s,0];for(let j=1;j<this.columns;j++)this.get(s,j)<a&&(a=this.get(s,j),$[1]=j);return $}maxColumn(s){if(checkColumnIndex(this,s),this.isEmpty())return NaN;let a=this.get(0,s);for(let $=1;$<this.rows;$++)this.get($,s)>a&&(a=this.get($,s));return a}maxColumnIndex(s){checkColumnIndex(this,s),checkNonEmpty(this);let a=this.get(0,s),$=[0,s];for(let j=1;j<this.rows;j++)this.get(j,s)>a&&(a=this.get(j,s),$[0]=j);return $}minColumn(s){if(checkColumnIndex(this,s),this.isEmpty())return NaN;let a=this.get(0,s);for(let $=1;$<this.rows;$++)this.get($,s)<a&&(a=this.get($,s));return a}minColumnIndex(s){checkColumnIndex(this,s),checkNonEmpty(this);let a=this.get(0,s),$=[0,s];for(let j=1;j<this.rows;j++)this.get(j,s)<a&&(a=this.get(j,s),$[0]=j);return $}diag(){let s=Math.min(this.rows,this.columns),a=[];for(let $=0;$<s;$++)a.push(this.get($,$));return a}norm(s="frobenius"){let a=0;if(s==="max")return this.max();if(s==="frobenius"){for(let $=0;$<this.rows;$++)for(let j=0;j<this.columns;j++)a=a+this.get($,j)*this.get($,j);return Math.sqrt(a)}else throw new RangeError(`unknown norm type: ${s}`)}cumulativeSum(){let s=0;for(let a=0;a<this.rows;a++)for(let $=0;$<this.columns;$++)s+=this.get(a,$),this.set(a,$,s);return this}dot(s){AbstractMatrix.isMatrix(s)&&(s=s.to1DArray());let a=this.to1DArray();if(a.length!==s.length)throw new RangeError("vectors do not have the same size");let $=0;for(let j=0;j<a.length;j++)$+=a[j]*s[j];return $}mmul(s){s=Matrix$2.checkMatrix(s);let a=this.rows,$=this.columns,j=s.columns,_e=new Matrix$2(a,j),et=new Float64Array($);for(let tt=0;tt<j;tt++){for(let rt=0;rt<$;rt++)et[rt]=s.get(rt,tt);for(let rt=0;rt<a;rt++){let nt=0;for(let it=0;it<$;it++)nt+=this.get(rt,it)*et[it];_e.set(rt,tt,nt)}}return _e}strassen2x2(s){s=Matrix$2.checkMatrix(s);let a=new Matrix$2(2,2);const $=this.get(0,0),j=s.get(0,0),_e=this.get(0,1),et=s.get(0,1),tt=this.get(1,0),rt=s.get(1,0),nt=this.get(1,1),it=s.get(1,1),ot=($+nt)*(j+it),st=(tt+nt)*j,at=$*(et-it),lt=nt*(rt-j),ft=($+_e)*it,pt=(tt-$)*(j+et),ut=(_e-nt)*(rt+it),dt=ot+lt-ft+ut,ct=at+ft,ht=st+lt,mt=ot-st+at+pt;return a.set(0,0,dt),a.set(0,1,ct),a.set(1,0,ht),a.set(1,1,mt),a}strassen3x3(s){s=Matrix$2.checkMatrix(s);let a=new Matrix$2(3,3);const $=this.get(0,0),j=this.get(0,1),_e=this.get(0,2),et=this.get(1,0),tt=this.get(1,1),rt=this.get(1,2),nt=this.get(2,0),it=this.get(2,1),ot=this.get(2,2),st=s.get(0,0),at=s.get(0,1),lt=s.get(0,2),ft=s.get(1,0),pt=s.get(1,1),ut=s.get(1,2),dt=s.get(2,0),ct=s.get(2,1),ht=s.get(2,2),mt=($+j+_e-et-tt-it-ot)*pt,vt=($-et)*(-at+pt),yt=tt*(-st+at+ft-pt-ut-dt+ht),xt=(-$+et+tt)*(st-at+pt),bt=(et+tt)*(-st+at),gt=$*st,wt=(-$+nt+it)*(st-lt+ut),Et=(-$+nt)*(lt-ut),kt=(nt+it)*(-st+lt),Ct=($+j+_e-tt-rt-nt-it)*ut,Mt=it*(-st+lt+ft-pt-ut-dt+ct),Ft=(-_e+it+ot)*(pt+dt-ct),Tt=(_e-ot)*(pt-ct),$t=_e*dt,Dt=(it+ot)*(-dt+ct),It=(-_e+tt+rt)*(ut+dt-ht),Yt=(_e-rt)*(ut-ht),Ht=(tt+rt)*(-dt+ht),jt=j*ft,Bt=rt*ct,Ot=et*lt,Ut=nt*at,Gt=ot*ht,dn=gt+$t+jt,tn=mt+xt+bt+gt+Ft+$t+Dt,fn=gt+wt+kt+Ct+$t+It+Ht,nn=vt+yt+xt+gt+$t+It+Yt,Xt=vt+xt+bt+gt+Bt,an=$t+It+Yt+Ht+Ot,Kt=gt+wt+Et+Mt+Ft+Tt+$t,zt=Ft+Tt+$t+Dt+Ut,pn=gt+wt+Et+kt+Gt;return a.set(0,0,dn),a.set(0,1,tn),a.set(0,2,fn),a.set(1,0,nn),a.set(1,1,Xt),a.set(1,2,an),a.set(2,0,Kt),a.set(2,1,zt),a.set(2,2,pn),a}mmulStrassen(s){s=Matrix$2.checkMatrix(s);let a=this.clone(),$=a.rows,j=a.columns,_e=s.rows,et=s.columns;j!==_e&&console.warn(`Multiplying ${$} x ${j} and ${_e} x ${et} matrix: dimensions do not match.`);function tt(ot,st,at){let lt=ot.rows,ft=ot.columns;if(lt===st&&ft===at)return ot;{let pt=AbstractMatrix.zeros(st,at);return pt=pt.setSubMatrix(ot,0,0),pt}}let rt=Math.max($,_e),nt=Math.max(j,et);a=tt(a,rt,nt),s=tt(s,rt,nt);function it(ot,st,at,lt){if(at<=512||lt<=512)return ot.mmul(st);at%2===1&&lt%2===1?(ot=tt(ot,at+1,lt+1),st=tt(st,at+1,lt+1)):at%2===1?(ot=tt(ot,at+1,lt),st=tt(st,at+1,lt)):lt%2===1&&(ot=tt(ot,at,lt+1),st=tt(st,at,lt+1));let ft=parseInt(ot.rows/2,10),pt=parseInt(ot.columns/2,10),ut=ot.subMatrix(0,ft-1,0,pt-1),dt=st.subMatrix(0,ft-1,0,pt-1),ct=ot.subMatrix(0,ft-1,pt,ot.columns-1),ht=st.subMatrix(0,ft-1,pt,st.columns-1),mt=ot.subMatrix(ft,ot.rows-1,0,pt-1),vt=st.subMatrix(ft,st.rows-1,0,pt-1),yt=ot.subMatrix(ft,ot.rows-1,pt,ot.columns-1),xt=st.subMatrix(ft,st.rows-1,pt,st.columns-1),bt=it(AbstractMatrix.add(ut,yt),AbstractMatrix.add(dt,xt),ft,pt),gt=it(AbstractMatrix.add(mt,yt),dt,ft,pt),wt=it(ut,AbstractMatrix.sub(ht,xt),ft,pt),Et=it(yt,AbstractMatrix.sub(vt,dt),ft,pt),kt=it(AbstractMatrix.add(ut,ct),xt,ft,pt),Ct=it(AbstractMatrix.sub(mt,ut),AbstractMatrix.add(dt,ht),ft,pt),Mt=it(AbstractMatrix.sub(ct,yt),AbstractMatrix.add(vt,xt),ft,pt),Ft=AbstractMatrix.add(bt,Et);Ft.sub(kt),Ft.add(Mt);let Tt=AbstractMatrix.add(wt,kt),$t=AbstractMatrix.add(gt,Et),Dt=AbstractMatrix.sub(bt,gt);Dt.add(wt),Dt.add(Ct);let It=AbstractMatrix.zeros(2*Ft.rows,2*Ft.columns);return It=It.setSubMatrix(Ft,0,0),It=It.setSubMatrix(Tt,Ft.rows,0),It=It.setSubMatrix($t,0,Ft.columns),It=It.setSubMatrix(Dt,Ft.rows,Ft.columns),It.subMatrix(0,at-1,0,lt-1)}return it(a,s,rt,nt)}scaleRows(s={}){if(typeof s!="object")throw new TypeError("options must be an object");const{min:a=0,max:$=1}=s;if(!Number.isFinite(a))throw new TypeError("min must be a number");if(!Number.isFinite($))throw new TypeError("max must be a number");if(a>=$)throw new RangeError("min must be smaller than max");let j=new Matrix$2(this.rows,this.columns);for(let _e=0;_e<this.rows;_e++){const et=this.getRow(_e);et.length>0&&rescale(et,{min:a,max:$,output:et}),j.setRow(_e,et)}return j}scaleColumns(s={}){if(typeof s!="object")throw new TypeError("options must be an object");const{min:a=0,max:$=1}=s;if(!Number.isFinite(a))throw new TypeError("min must be a number");if(!Number.isFinite($))throw new TypeError("max must be a number");if(a>=$)throw new RangeError("min must be smaller than max");let j=new Matrix$2(this.rows,this.columns);for(let _e=0;_e<this.columns;_e++){const et=this.getColumn(_e);et.length&&rescale(et,{min:a,max:$,output:et}),j.setColumn(_e,et)}return j}flipRows(){const s=Math.ceil(this.columns/2);for(let a=0;a<this.rows;a++)for(let $=0;$<s;$++){let j=this.get(a,$),_e=this.get(a,this.columns-1-$);this.set(a,$,_e),this.set(a,this.columns-1-$,j)}return this}flipColumns(){const s=Math.ceil(this.rows/2);for(let a=0;a<this.columns;a++)for(let $=0;$<s;$++){let j=this.get($,a),_e=this.get(this.rows-1-$,a);this.set($,a,_e),this.set(this.rows-1-$,a,j)}return this}kroneckerProduct(s){s=Matrix$2.checkMatrix(s);let a=this.rows,$=this.columns,j=s.rows,_e=s.columns,et=new Matrix$2(a*j,$*_e);for(let tt=0;tt<a;tt++)for(let rt=0;rt<$;rt++)for(let nt=0;nt<j;nt++)for(let it=0;it<_e;it++)et.set(j*tt+nt,_e*rt+it,this.get(tt,rt)*s.get(nt,it));return et}kroneckerSum(s){if(s=Matrix$2.checkMatrix(s),!this.isSquare()||!s.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let a=this.rows,$=s.rows,j=this.kroneckerProduct(Matrix$2.eye($,$)),_e=Matrix$2.eye(a,a).kroneckerProduct(s);return j.add(_e)}transpose(){let s=new Matrix$2(this.columns,this.rows);for(let a=0;a<this.rows;a++)for(let $=0;$<this.columns;$++)s.set($,a,this.get(a,$));return s}sortRows(s=compareNumbers){for(let a=0;a<this.rows;a++)this.setRow(a,this.getRow(a).sort(s));return this}sortColumns(s=compareNumbers){for(let a=0;a<this.columns;a++)this.setColumn(a,this.getColumn(a).sort(s));return this}subMatrix(s,a,$,j){checkRange(this,s,a,$,j);let _e=new Matrix$2(a-s+1,j-$+1);for(let et=s;et<=a;et++)for(let tt=$;tt<=j;tt++)_e.set(et-s,tt-$,this.get(et,tt));return _e}subMatrixRow(s,a,$){if(a===void 0&&(a=0),$===void 0&&($=this.columns-1),a>$||a<0||a>=this.columns||$<0||$>=this.columns)throw new RangeError("Argument out of range");let j=new Matrix$2(s.length,$-a+1);for(let _e=0;_e<s.length;_e++)for(let et=a;et<=$;et++){if(s[_e]<0||s[_e]>=this.rows)throw new RangeError(`Row index out of range: ${s[_e]}`);j.set(_e,et-a,this.get(s[_e],et))}return j}subMatrixColumn(s,a,$){if(a===void 0&&(a=0),$===void 0&&($=this.rows-1),a>$||a<0||a>=this.rows||$<0||$>=this.rows)throw new RangeError("Argument out of range");let j=new Matrix$2($-a+1,s.length);for(let _e=0;_e<s.length;_e++)for(let et=a;et<=$;et++){if(s[_e]<0||s[_e]>=this.columns)throw new RangeError(`Column index out of range: ${s[_e]}`);j.set(et-a,_e,this.get(et,s[_e]))}return j}setSubMatrix(s,a,$){if(s=Matrix$2.checkMatrix(s),s.isEmpty())return this;let j=a+s.rows-1,_e=$+s.columns-1;checkRange(this,a,j,$,_e);for(let et=0;et<s.rows;et++)for(let tt=0;tt<s.columns;tt++)this.set(a+et,$+tt,s.get(et,tt));return this}selection(s,a){checkRowIndices(this,s),checkColumnIndices(this,a);let $=new Matrix$2(s.length,a.length);for(let j=0;j<s.length;j++){let _e=s[j];for(let et=0;et<a.length;et++){let tt=a[et];$.set(j,et,this.get(_e,tt))}}return $}trace(){let s=Math.min(this.rows,this.columns),a=0;for(let $=0;$<s;$++)a+=this.get($,$);return a}clone(){let s=new Matrix$2(this.rows,this.columns);for(let a=0;a<this.rows;a++)for(let $=0;$<this.columns;$++)s.set(a,$,this.get(a,$));return s}sum(s){switch(s){case"row":return sumByRow(this);case"column":return sumByColumn(this);case void 0:return sumAll(this);default:throw new Error(`invalid option: ${s}`)}}product(s){switch(s){case"row":return productByRow(this);case"column":return productByColumn(this);case void 0:return productAll(this);default:throw new Error(`invalid option: ${s}`)}}mean(s){const a=this.sum(s);switch(s){case"row":{for(let $=0;$<this.rows;$++)a[$]/=this.columns;return a}case"column":{for(let $=0;$<this.columns;$++)a[$]/=this.rows;return a}case void 0:return a/this.size;default:throw new Error(`invalid option: ${s}`)}}variance(s,a={}){if(typeof s=="object"&&(a=s,s=void 0),typeof a!="object")throw new TypeError("options must be an object");const{unbiased:$=!0,mean:j=this.mean(s)}=a;if(typeof $!="boolean")throw new TypeError("unbiased must be a boolean");switch(s){case"row":{if(!isAnyArray(j))throw new TypeError("mean must be an array");return varianceByRow(this,$,j)}case"column":{if(!isAnyArray(j))throw new TypeError("mean must be an array");return varianceByColumn(this,$,j)}case void 0:{if(typeof j!="number")throw new TypeError("mean must be a number");return varianceAll(this,$,j)}default:throw new Error(`invalid option: ${s}`)}}standardDeviation(s,a){typeof s=="object"&&(a=s,s=void 0);const $=this.variance(s,a);if(s===void 0)return Math.sqrt($);for(let j=0;j<$.length;j++)$[j]=Math.sqrt($[j]);return $}center(s,a={}){if(typeof s=="object"&&(a=s,s=void 0),typeof a!="object")throw new TypeError("options must be an object");const{center:$=this.mean(s)}=a;switch(s){case"row":{if(!isAnyArray($))throw new TypeError("center must be an array");return centerByRow(this,$),this}case"column":{if(!isAnyArray($))throw new TypeError("center must be an array");return centerByColumn(this,$),this}case void 0:{if(typeof $!="number")throw new TypeError("center must be a number");return centerAll(this,$),this}default:throw new Error(`invalid option: ${s}`)}}scale(s,a={}){if(typeof s=="object"&&(a=s,s=void 0),typeof a!="object")throw new TypeError("options must be an object");let $=a.scale;switch(s){case"row":{if($===void 0)$=getScaleByRow(this);else if(!isAnyArray($))throw new TypeError("scale must be an array");return scaleByRow(this,$),this}case"column":{if($===void 0)$=getScaleByColumn(this);else if(!isAnyArray($))throw new TypeError("scale must be an array");return scaleByColumn(this,$),this}case void 0:{if($===void 0)$=getScaleAll(this);else if(typeof $!="number")throw new TypeError("scale must be a number");return scaleAll(this,$),this}default:throw new Error(`invalid option: ${s}`)}}toString(s){return inspectMatrixWithOptions(this,s)}}AbstractMatrix.prototype.klass="Matrix";typeof Symbol<"u"&&(AbstractMatrix.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspectMatrix);function compareNumbers(o,s){return o-s}function isArrayOfNumbers(o){return o.every(s=>typeof s=="number")}AbstractMatrix.random=AbstractMatrix.rand;AbstractMatrix.randomInt=AbstractMatrix.randInt;AbstractMatrix.diagonal=AbstractMatrix.diag;AbstractMatrix.prototype.diagonal=AbstractMatrix.prototype.diag;AbstractMatrix.identity=AbstractMatrix.eye;AbstractMatrix.prototype.negate=AbstractMatrix.prototype.neg;AbstractMatrix.prototype.tensorProduct=AbstractMatrix.prototype.kroneckerProduct;let Matrix$2=class qn extends AbstractMatrix{constructor(s,a){if(super(),qn.isMatrix(s))return s.clone();if(Number.isInteger(s)&&s>=0)if(this.data=[],Number.isInteger(a)&&a>=0)for(let $=0;$<s;$++)this.data.push(new Float64Array(a));else throw new TypeError("nColumns must be a positive integer");else if(isAnyArray(s)){const $=s;if(s=$.length,a=s?$[0].length:0,typeof a!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let j=0;j<s;j++){if($[j].length!==a)throw new RangeError("Inconsistent array dimensions");if(!isArrayOfNumbers($[j]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from($[j]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=s,this.columns=a}set(s,a,$){return this.data[s][a]=$,this}get(s,a){return this.data[s][a]}removeRow(s){return checkRowIndex(this,s),this.data.splice(s,1),this.rows-=1,this}addRow(s,a){return a===void 0&&(a=s,s=this.rows),checkRowIndex(this,s,!0),a=Float64Array.from(checkRowVector(this,a)),this.data.splice(s,0,a),this.rows+=1,this}removeColumn(s){checkColumnIndex(this,s);for(let a=0;a<this.rows;a++){const $=new Float64Array(this.columns-1);for(let j=0;j<s;j++)$[j]=this.data[a][j];for(let j=s+1;j<this.columns;j++)$[j-1]=this.data[a][j];this.data[a]=$}return this.columns-=1,this}addColumn(s,a){typeof a>"u"&&(a=s,s=this.columns),checkColumnIndex(this,s,!0),a=checkColumnVector(this,a);for(let $=0;$<this.rows;$++){const j=new Float64Array(this.columns+1);let _e=0;for(;_e<s;_e++)j[_e]=this.data[$][_e];for(j[_e++]=a[$];_e<this.columns+1;_e++)j[_e]=this.data[$][_e-1];this.data[$]=j}return this.columns+=1,this}};installMathOperations(AbstractMatrix,Matrix$2);class BaseView extends AbstractMatrix{constructor(s,a,$){super(),this.matrix=s,this.rows=a,this.columns=$}}class MatrixColumnView extends BaseView{constructor(s,a){checkColumnIndex(s,a),super(s,s.rows,1),this.column=a}set(s,a,$){return this.matrix.set(s,this.column,$),this}get(s){return this.matrix.get(s,this.column)}}class MatrixColumnSelectionView extends BaseView{constructor(s,a){checkColumnIndices(s,a),super(s,s.rows,a.length),this.columnIndices=a}set(s,a,$){return this.matrix.set(s,this.columnIndices[a],$),this}get(s,a){return this.matrix.get(s,this.columnIndices[a])}}class MatrixFlipColumnView extends BaseView{constructor(s){super(s,s.rows,s.columns)}set(s,a,$){return this.matrix.set(s,this.columns-a-1,$),this}get(s,a){return this.matrix.get(s,this.columns-a-1)}}class MatrixFlipRowView extends BaseView{constructor(s){super(s,s.rows,s.columns)}set(s,a,$){return this.matrix.set(this.rows-s-1,a,$),this}get(s,a){return this.matrix.get(this.rows-s-1,a)}}class MatrixRowView extends BaseView{constructor(s,a){checkRowIndex(s,a),super(s,1,s.columns),this.row=a}set(s,a,$){return this.matrix.set(this.row,a,$),this}get(s,a){return this.matrix.get(this.row,a)}}class MatrixRowSelectionView extends BaseView{constructor(s,a){checkRowIndices(s,a),super(s,a.length,s.columns),this.rowIndices=a}set(s,a,$){return this.matrix.set(this.rowIndices[s],a,$),this}get(s,a){return this.matrix.get(this.rowIndices[s],a)}}class MatrixSelectionView extends BaseView{constructor(s,a,$){checkRowIndices(s,a),checkColumnIndices(s,$),super(s,a.length,$.length),this.rowIndices=a,this.columnIndices=$}set(s,a,$){return this.matrix.set(this.rowIndices[s],this.columnIndices[a],$),this}get(s,a){return this.matrix.get(this.rowIndices[s],this.columnIndices[a])}}class MatrixSubView extends BaseView{constructor(s,a,$,j,_e){checkRange(s,a,$,j,_e),super(s,$-a+1,_e-j+1),this.startRow=a,this.startColumn=j}set(s,a,$){return this.matrix.set(this.startRow+s,this.startColumn+a,$),this}get(s,a){return this.matrix.get(this.startRow+s,this.startColumn+a)}}let MatrixTransposeView$1=class extends BaseView{constructor(s){super(s,s.columns,s.rows)}set(s,a,$){return this.matrix.set(a,s,$),this}get(s,a){return this.matrix.get(a,s)}};class WrapperMatrix1D extends AbstractMatrix{constructor(s,a={}){const{rows:$=1}=a;if(s.length%$!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=$,this.columns=s.length/$,this.data=s}set(s,a,$){let j=this._calculateIndex(s,a);return this.data[j]=$,this}get(s,a){let $=this._calculateIndex(s,a);return this.data[$]}_calculateIndex(s,a){return s*this.columns+a}}class WrapperMatrix2D extends AbstractMatrix{constructor(s){super(),this.data=s,this.rows=s.length,this.columns=s[0].length}set(s,a,$){return this.data[s][a]=$,this}get(s,a){return this.data[s][a]}}function wrap(o,s){if(isAnyArray(o))return o[0]&&isAnyArray(o[0])?new WrapperMatrix2D(o):new WrapperMatrix1D(o,s);throw new Error("the argument is not an array")}class LuDecomposition{constructor(s){s=WrapperMatrix2D.checkMatrix(s);let a=s.clone(),$=a.rows,j=a.columns,_e=new Float64Array($),et=1,tt,rt,nt,it,ot,st,at,lt,ft;for(tt=0;tt<$;tt++)_e[tt]=tt;for(lt=new Float64Array($),rt=0;rt<j;rt++){for(tt=0;tt<$;tt++)lt[tt]=a.get(tt,rt);for(tt=0;tt<$;tt++){for(ft=Math.min(tt,rt),ot=0,nt=0;nt<ft;nt++)ot+=a.get(tt,nt)*lt[nt];lt[tt]-=ot,a.set(tt,rt,lt[tt])}for(it=rt,tt=rt+1;tt<$;tt++)Math.abs(lt[tt])>Math.abs(lt[it])&&(it=tt);if(it!==rt){for(nt=0;nt<j;nt++)st=a.get(it,nt),a.set(it,nt,a.get(rt,nt)),a.set(rt,nt,st);at=_e[it],_e[it]=_e[rt],_e[rt]=at,et=-et}if(rt<$&&a.get(rt,rt)!==0)for(tt=rt+1;tt<$;tt++)a.set(tt,rt,a.get(tt,rt)/a.get(rt,rt))}this.LU=a,this.pivotVector=_e,this.pivotSign=et}isSingular(){let s=this.LU,a=s.columns;for(let $=0;$<a;$++)if(s.get($,$)===0)return!0;return!1}solve(s){s=Matrix$2.checkMatrix(s);let a=this.LU;if(a.rows!==s.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let j=s.columns,_e=s.subMatrixRow(this.pivotVector,0,j-1),et=a.columns,tt,rt,nt;for(nt=0;nt<et;nt++)for(tt=nt+1;tt<et;tt++)for(rt=0;rt<j;rt++)_e.set(tt,rt,_e.get(tt,rt)-_e.get(nt,rt)*a.get(tt,nt));for(nt=et-1;nt>=0;nt--){for(rt=0;rt<j;rt++)_e.set(nt,rt,_e.get(nt,rt)/a.get(nt,nt));for(tt=0;tt<nt;tt++)for(rt=0;rt<j;rt++)_e.set(tt,rt,_e.get(tt,rt)-_e.get(nt,rt)*a.get(tt,nt))}return _e}get determinant(){let s=this.LU;if(!s.isSquare())throw new Error("Matrix must be square");let a=this.pivotSign,$=s.columns;for(let j=0;j<$;j++)a*=s.get(j,j);return a}get lowerTriangularMatrix(){let s=this.LU,a=s.rows,$=s.columns,j=new Matrix$2(a,$);for(let _e=0;_e<a;_e++)for(let et=0;et<$;et++)_e>et?j.set(_e,et,s.get(_e,et)):_e===et?j.set(_e,et,1):j.set(_e,et,0);return j}get upperTriangularMatrix(){let s=this.LU,a=s.rows,$=s.columns,j=new Matrix$2(a,$);for(let _e=0;_e<a;_e++)for(let et=0;et<$;et++)_e<=et?j.set(_e,et,s.get(_e,et)):j.set(_e,et,0);return j}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function hypotenuse$1(o,s){let a=0;return Math.abs(o)>Math.abs(s)?(a=s/o,Math.abs(o)*Math.sqrt(1+a*a)):s!==0?(a=o/s,Math.abs(s)*Math.sqrt(1+a*a)):0}class QrDecomposition{constructor(s){s=WrapperMatrix2D.checkMatrix(s);let a=s.clone(),$=s.rows,j=s.columns,_e=new Float64Array(j),et,tt,rt,nt;for(rt=0;rt<j;rt++){let it=0;for(et=rt;et<$;et++)it=hypotenuse$1(it,a.get(et,rt));if(it!==0){for(a.get(rt,rt)<0&&(it=-it),et=rt;et<$;et++)a.set(et,rt,a.get(et,rt)/it);for(a.set(rt,rt,a.get(rt,rt)+1),tt=rt+1;tt<j;tt++){for(nt=0,et=rt;et<$;et++)nt+=a.get(et,rt)*a.get(et,tt);for(nt=-nt/a.get(rt,rt),et=rt;et<$;et++)a.set(et,tt,a.get(et,tt)+nt*a.get(et,rt))}}_e[rt]=-it}this.QR=a,this.Rdiag=_e}solve(s){s=Matrix$2.checkMatrix(s);let a=this.QR,$=a.rows;if(s.rows!==$)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let j=s.columns,_e=s.clone(),et=a.columns,tt,rt,nt,it;for(nt=0;nt<et;nt++)for(rt=0;rt<j;rt++){for(it=0,tt=nt;tt<$;tt++)it+=a.get(tt,nt)*_e.get(tt,rt);for(it=-it/a.get(nt,nt),tt=nt;tt<$;tt++)_e.set(tt,rt,_e.get(tt,rt)+it*a.get(tt,nt))}for(nt=et-1;nt>=0;nt--){for(rt=0;rt<j;rt++)_e.set(nt,rt,_e.get(nt,rt)/this.Rdiag[nt]);for(tt=0;tt<nt;tt++)for(rt=0;rt<j;rt++)_e.set(tt,rt,_e.get(tt,rt)-_e.get(nt,rt)*a.get(tt,nt))}return _e.subMatrix(0,et-1,0,j-1)}isFullRank(){let s=this.QR.columns;for(let a=0;a<s;a++)if(this.Rdiag[a]===0)return!1;return!0}get upperTriangularMatrix(){let s=this.QR,a=s.columns,$=new Matrix$2(a,a),j,_e;for(j=0;j<a;j++)for(_e=0;_e<a;_e++)j<_e?$.set(j,_e,s.get(j,_e)):j===_e?$.set(j,_e,this.Rdiag[j]):$.set(j,_e,0);return $}get orthogonalMatrix(){let s=this.QR,a=s.rows,$=s.columns,j=new Matrix$2(a,$),_e,et,tt,rt;for(tt=$-1;tt>=0;tt--){for(_e=0;_e<a;_e++)j.set(_e,tt,0);for(j.set(tt,tt,1),et=tt;et<$;et++)if(s.get(tt,tt)!==0){for(rt=0,_e=tt;_e<a;_e++)rt+=s.get(_e,tt)*j.get(_e,et);for(rt=-rt/s.get(tt,tt),_e=tt;_e<a;_e++)j.set(_e,et,j.get(_e,et)+rt*s.get(_e,tt))}}return j}}class SingularValueDecomposition{constructor(s,a={}){if(s=WrapperMatrix2D.checkMatrix(s),s.isEmpty())throw new Error("Matrix must be non-empty");let $=s.rows,j=s.columns;const{computeLeftSingularVectors:_e=!0,computeRightSingularVectors:et=!0,autoTranspose:tt=!1}=a;let rt=!!_e,nt=!!et,it=!1,ot;if($<j)if(!tt)ot=s.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{ot=s.transpose(),$=ot.rows,j=ot.columns,it=!0;let gt=rt;rt=nt,nt=gt}else ot=s.clone();let st=Math.min($,j),at=Math.min($+1,j),lt=new Float64Array(at),ft=new Matrix$2($,st),pt=new Matrix$2(j,j),ut=new Float64Array(j),dt=new Float64Array($),ct=new Float64Array(at);for(let gt=0;gt<at;gt++)ct[gt]=gt;let ht=Math.min($-1,j),mt=Math.max(0,Math.min(j-2,$)),vt=Math.max(ht,mt);for(let gt=0;gt<vt;gt++){if(gt<ht){lt[gt]=0;for(let wt=gt;wt<$;wt++)lt[gt]=hypotenuse$1(lt[gt],ot.get(wt,gt));if(lt[gt]!==0){ot.get(gt,gt)<0&&(lt[gt]=-lt[gt]);for(let wt=gt;wt<$;wt++)ot.set(wt,gt,ot.get(wt,gt)/lt[gt]);ot.set(gt,gt,ot.get(gt,gt)+1)}lt[gt]=-lt[gt]}for(let wt=gt+1;wt<j;wt++){if(gt<ht&&lt[gt]!==0){let Et=0;for(let kt=gt;kt<$;kt++)Et+=ot.get(kt,gt)*ot.get(kt,wt);Et=-Et/ot.get(gt,gt);for(let kt=gt;kt<$;kt++)ot.set(kt,wt,ot.get(kt,wt)+Et*ot.get(kt,gt))}ut[wt]=ot.get(gt,wt)}if(rt&&gt<ht)for(let wt=gt;wt<$;wt++)ft.set(wt,gt,ot.get(wt,gt));if(gt<mt){ut[gt]=0;for(let wt=gt+1;wt<j;wt++)ut[gt]=hypotenuse$1(ut[gt],ut[wt]);if(ut[gt]!==0){ut[gt+1]<0&&(ut[gt]=0-ut[gt]);for(let wt=gt+1;wt<j;wt++)ut[wt]/=ut[gt];ut[gt+1]+=1}if(ut[gt]=-ut[gt],gt+1<$&&ut[gt]!==0){for(let wt=gt+1;wt<$;wt++)dt[wt]=0;for(let wt=gt+1;wt<$;wt++)for(let Et=gt+1;Et<j;Et++)dt[wt]+=ut[Et]*ot.get(wt,Et);for(let wt=gt+1;wt<j;wt++){let Et=-ut[wt]/ut[gt+1];for(let kt=gt+1;kt<$;kt++)ot.set(kt,wt,ot.get(kt,wt)+Et*dt[kt])}}if(nt)for(let wt=gt+1;wt<j;wt++)pt.set(wt,gt,ut[wt])}}let yt=Math.min(j,$+1);if(ht<j&&(lt[ht]=ot.get(ht,ht)),$<yt&&(lt[yt-1]=0),mt+1<yt&&(ut[mt]=ot.get(mt,yt-1)),ut[yt-1]=0,rt){for(let gt=ht;gt<st;gt++){for(let wt=0;wt<$;wt++)ft.set(wt,gt,0);ft.set(gt,gt,1)}for(let gt=ht-1;gt>=0;gt--)if(lt[gt]!==0){for(let wt=gt+1;wt<st;wt++){let Et=0;for(let kt=gt;kt<$;kt++)Et+=ft.get(kt,gt)*ft.get(kt,wt);Et=-Et/ft.get(gt,gt);for(let kt=gt;kt<$;kt++)ft.set(kt,wt,ft.get(kt,wt)+Et*ft.get(kt,gt))}for(let wt=gt;wt<$;wt++)ft.set(wt,gt,-ft.get(wt,gt));ft.set(gt,gt,1+ft.get(gt,gt));for(let wt=0;wt<gt-1;wt++)ft.set(wt,gt,0)}else{for(let wt=0;wt<$;wt++)ft.set(wt,gt,0);ft.set(gt,gt,1)}}if(nt)for(let gt=j-1;gt>=0;gt--){if(gt<mt&&ut[gt]!==0)for(let wt=gt+1;wt<j;wt++){let Et=0;for(let kt=gt+1;kt<j;kt++)Et+=pt.get(kt,gt)*pt.get(kt,wt);Et=-Et/pt.get(gt+1,gt);for(let kt=gt+1;kt<j;kt++)pt.set(kt,wt,pt.get(kt,wt)+Et*pt.get(kt,gt))}for(let wt=0;wt<j;wt++)pt.set(wt,gt,0);pt.set(gt,gt,1)}let xt=yt-1,bt=Number.EPSILON;for(;yt>0;){let gt,wt;for(gt=yt-2;gt>=-1&&gt!==-1;gt--){const Et=Number.MIN_VALUE+bt*Math.abs(lt[gt]+Math.abs(lt[gt+1]));if(Math.abs(ut[gt])<=Et||Number.isNaN(ut[gt])){ut[gt]=0;break}}if(gt===yt-2)wt=4;else{let Et;for(Et=yt-1;Et>=gt&&Et!==gt;Et--){let kt=(Et!==yt?Math.abs(ut[Et]):0)+(Et!==gt+1?Math.abs(ut[Et-1]):0);if(Math.abs(lt[Et])<=bt*kt){lt[Et]=0;break}}Et===gt?wt=3:Et===yt-1?wt=1:(wt=2,gt=Et)}switch(gt++,wt){case 1:{let Et=ut[yt-2];ut[yt-2]=0;for(let kt=yt-2;kt>=gt;kt--){let Ct=hypotenuse$1(lt[kt],Et),Mt=lt[kt]/Ct,Ft=Et/Ct;if(lt[kt]=Ct,kt!==gt&&(Et=-Ft*ut[kt-1],ut[kt-1]=Mt*ut[kt-1]),nt)for(let Tt=0;Tt<j;Tt++)Ct=Mt*pt.get(Tt,kt)+Ft*pt.get(Tt,yt-1),pt.set(Tt,yt-1,-Ft*pt.get(Tt,kt)+Mt*pt.get(Tt,yt-1)),pt.set(Tt,kt,Ct)}break}case 2:{let Et=ut[gt-1];ut[gt-1]=0;for(let kt=gt;kt<yt;kt++){let Ct=hypotenuse$1(lt[kt],Et),Mt=lt[kt]/Ct,Ft=Et/Ct;if(lt[kt]=Ct,Et=-Ft*ut[kt],ut[kt]=Mt*ut[kt],rt)for(let Tt=0;Tt<$;Tt++)Ct=Mt*ft.get(Tt,kt)+Ft*ft.get(Tt,gt-1),ft.set(Tt,gt-1,-Ft*ft.get(Tt,kt)+Mt*ft.get(Tt,gt-1)),ft.set(Tt,kt,Ct)}break}case 3:{const Et=Math.max(Math.abs(lt[yt-1]),Math.abs(lt[yt-2]),Math.abs(ut[yt-2]),Math.abs(lt[gt]),Math.abs(ut[gt])),kt=lt[yt-1]/Et,Ct=lt[yt-2]/Et,Mt=ut[yt-2]/Et,Ft=lt[gt]/Et,Tt=ut[gt]/Et,$t=((Ct+kt)*(Ct-kt)+Mt*Mt)/2,Dt=kt*Mt*(kt*Mt);let It=0;($t!==0||Dt!==0)&&($t<0?It=0-Math.sqrt($t*$t+Dt):It=Math.sqrt($t*$t+Dt),It=Dt/($t+It));let Yt=(Ft+kt)*(Ft-kt)+It,Ht=Ft*Tt;for(let jt=gt;jt<yt-1;jt++){let Bt=hypotenuse$1(Yt,Ht);Bt===0&&(Bt=Number.MIN_VALUE);let Ot=Yt/Bt,Ut=Ht/Bt;if(jt!==gt&&(ut[jt-1]=Bt),Yt=Ot*lt[jt]+Ut*ut[jt],ut[jt]=Ot*ut[jt]-Ut*lt[jt],Ht=Ut*lt[jt+1],lt[jt+1]=Ot*lt[jt+1],nt)for(let Gt=0;Gt<j;Gt++)Bt=Ot*pt.get(Gt,jt)+Ut*pt.get(Gt,jt+1),pt.set(Gt,jt+1,-Ut*pt.get(Gt,jt)+Ot*pt.get(Gt,jt+1)),pt.set(Gt,jt,Bt);if(Bt=hypotenuse$1(Yt,Ht),Bt===0&&(Bt=Number.MIN_VALUE),Ot=Yt/Bt,Ut=Ht/Bt,lt[jt]=Bt,Yt=Ot*ut[jt]+Ut*lt[jt+1],lt[jt+1]=-Ut*ut[jt]+Ot*lt[jt+1],Ht=Ut*ut[jt+1],ut[jt+1]=Ot*ut[jt+1],rt&&jt<$-1)for(let Gt=0;Gt<$;Gt++)Bt=Ot*ft.get(Gt,jt)+Ut*ft.get(Gt,jt+1),ft.set(Gt,jt+1,-Ut*ft.get(Gt,jt)+Ot*ft.get(Gt,jt+1)),ft.set(Gt,jt,Bt)}ut[yt-2]=Yt;break}case 4:{if(lt[gt]<=0&&(lt[gt]=lt[gt]<0?-lt[gt]:0,nt))for(let Et=0;Et<=xt;Et++)pt.set(Et,gt,-pt.get(Et,gt));for(;gt<xt&&!(lt[gt]>=lt[gt+1]);){let Et=lt[gt];if(lt[gt]=lt[gt+1],lt[gt+1]=Et,nt&&gt<j-1)for(let kt=0;kt<j;kt++)Et=pt.get(kt,gt+1),pt.set(kt,gt+1,pt.get(kt,gt)),pt.set(kt,gt,Et);if(rt&&gt<$-1)for(let kt=0;kt<$;kt++)Et=ft.get(kt,gt+1),ft.set(kt,gt+1,ft.get(kt,gt)),ft.set(kt,gt,Et);gt++}yt--;break}}}if(it){let gt=pt;pt=ft,ft=gt}this.m=$,this.n=j,this.s=lt,this.U=ft,this.V=pt}solve(s){let a=s,$=this.threshold,j=this.s.length,_e=Matrix$2.zeros(j,j);for(let st=0;st<j;st++)Math.abs(this.s[st])<=$?_e.set(st,st,0):_e.set(st,st,1/this.s[st]);let et=this.U,tt=this.rightSingularVectors,rt=tt.mmul(_e),nt=tt.rows,it=et.rows,ot=Matrix$2.zeros(nt,it);for(let st=0;st<nt;st++)for(let at=0;at<it;at++){let lt=0;for(let ft=0;ft<j;ft++)lt+=rt.get(st,ft)*et.get(at,ft);ot.set(st,at,lt)}return ot.mmul(a)}solveForDiagonal(s){return this.solve(Matrix$2.diag(s))}inverse(){let s=this.V,a=this.threshold,$=s.rows,j=s.columns,_e=new Matrix$2($,this.s.length);for(let it=0;it<$;it++)for(let ot=0;ot<j;ot++)Math.abs(this.s[ot])>a&&_e.set(it,ot,s.get(it,ot)/this.s[ot]);let et=this.U,tt=et.rows,rt=et.columns,nt=new Matrix$2($,tt);for(let it=0;it<$;it++)for(let ot=0;ot<tt;ot++){let st=0;for(let at=0;at<rt;at++)st+=_e.get(it,at)*et.get(ot,at);nt.set(it,ot,st)}return nt}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let s=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,a=0,$=this.s;for(let j=0,_e=$.length;j<_e;j++)$[j]>s&&a++;return a}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Matrix$2.diag(this.s)}}function inverse(o,s=!1){return o=WrapperMatrix2D.checkMatrix(o),s?new SingularValueDecomposition(o).inverse():solve(o,Matrix$2.eye(o.rows))}function solve(o,s,a=!1){return o=WrapperMatrix2D.checkMatrix(o),s=WrapperMatrix2D.checkMatrix(s),a?new SingularValueDecomposition(o).solve(s):o.isSquare()?new LuDecomposition(o).solve(s):new QrDecomposition(o).solve(s)}function determinant(o){if(o=Matrix$2.checkMatrix(o),o.isSquare()){if(o.columns===0)return 1;let s,a,$,j;if(o.columns===2)return s=o.get(0,0),a=o.get(0,1),$=o.get(1,0),j=o.get(1,1),s*j-a*$;if(o.columns===3){let _e,et,tt;return _e=new MatrixSelectionView(o,[1,2],[1,2]),et=new MatrixSelectionView(o,[1,2],[0,2]),tt=new MatrixSelectionView(o,[1,2],[0,1]),s=o.get(0,0),a=o.get(0,1),$=o.get(0,2),s*determinant(_e)-a*determinant(et)+$*determinant(tt)}else return new LuDecomposition(o).determinant}else throw Error("determinant can only be calculated for a square matrix")}function xrange(o,s){let a=[];for(let $=0;$<o;$++)$!==s&&a.push($);return a}function dependenciesOneRow(o,s,a,$=1e-9,j=1e-9){if(o>j)return new Array(s.rows+1).fill(0);{let _e=s.addRow(a,[0]);for(let et=0;et<_e.rows;et++)Math.abs(_e.get(et,0))<$&&_e.set(et,0,0);return _e.to1DArray()}}function linearDependencies(o,s={}){const{thresholdValue:a=1e-9,thresholdError:$=1e-9}=s;o=Matrix$2.checkMatrix(o);let j=o.rows,_e=new Matrix$2(j,j);for(let et=0;et<j;et++){let tt=Matrix$2.columnVector(o.getRow(et)),rt=o.subMatrixRow(xrange(j,et)).transpose(),it=new SingularValueDecomposition(rt).solve(tt),ot=Matrix$2.sub(tt,rt.mmul(it)).abs().max();_e.setRow(et,dependenciesOneRow(ot,it,et,a,$))}return _e}function pseudoInverse(o,s=Number.EPSILON){if(o=Matrix$2.checkMatrix(o),o.isEmpty())return o.transpose();let a=new SingularValueDecomposition(o,{autoTranspose:!0}),$=a.leftSingularVectors,j=a.rightSingularVectors,_e=a.diagonal;for(let et=0;et<_e.length;et++)Math.abs(_e[et])>s?_e[et]=1/_e[et]:_e[et]=0;return j.mmul(Matrix$2.diag(_e).mmul($.transpose()))}function covariance(o,s=o,a={}){o=new Matrix$2(o);let $=!1;if(typeof s=="object"&&!Matrix$2.isMatrix(s)&&!isAnyArray(s)?(a=s,s=o,$=!0):s=new Matrix$2(s),o.rows!==s.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:j=!0}=a;j&&(o=o.center("column"),$||(s=s.center("column")));const _e=o.transpose().mmul(s);for(let et=0;et<_e.rows;et++)for(let tt=0;tt<_e.columns;tt++)_e.set(et,tt,_e.get(et,tt)*(1/(o.rows-1)));return _e}function correlation(o,s=o,a={}){o=new Matrix$2(o);let $=!1;if(typeof s=="object"&&!Matrix$2.isMatrix(s)&&!isAnyArray(s)?(a=s,s=o,$=!0):s=new Matrix$2(s),o.rows!==s.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:j=!0,scale:_e=!0}=a;j&&(o.center("column"),$||s.center("column")),_e&&(o.scale("column"),$||s.scale("column"));const et=o.standardDeviation("column",{unbiased:!0}),tt=$?et:s.standardDeviation("column",{unbiased:!0}),rt=o.transpose().mmul(s);for(let nt=0;nt<rt.rows;nt++)for(let it=0;it<rt.columns;it++)rt.set(nt,it,rt.get(nt,it)*(1/(et[nt]*tt[it]))*(1/(o.rows-1)));return rt}class EigenvalueDecomposition{constructor(s,a={}){const{assumeSymmetric:$=!1}=a;if(s=WrapperMatrix2D.checkMatrix(s),!s.isSquare())throw new Error("Matrix is not a square matrix");if(s.isEmpty())throw new Error("Matrix must be non-empty");let j=s.columns,_e=new Matrix$2(j,j),et=new Float64Array(j),tt=new Float64Array(j),rt=s,nt,it,ot=!1;if($?ot=!0:ot=s.isSymmetric(),ot){for(nt=0;nt<j;nt++)for(it=0;it<j;it++)_e.set(nt,it,rt.get(nt,it));tred2(j,tt,et,_e),tql2(j,tt,et,_e)}else{let st=new Matrix$2(j,j),at=new Float64Array(j);for(it=0;it<j;it++)for(nt=0;nt<j;nt++)st.set(nt,it,rt.get(nt,it));orthes(j,st,at,_e),hqr2(j,tt,et,_e,st)}this.n=j,this.e=tt,this.d=et,this.V=_e}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let s=this.n,a=this.e,$=this.d,j=new Matrix$2(s,s),_e,et;for(_e=0;_e<s;_e++){for(et=0;et<s;et++)j.set(_e,et,0);j.set(_e,_e,$[_e]),a[_e]>0?j.set(_e,_e+1,a[_e]):a[_e]<0&&j.set(_e,_e-1,a[_e])}return j}}function tred2(o,s,a,$){let j,_e,et,tt,rt,nt,it,ot;for(rt=0;rt<o;rt++)a[rt]=$.get(o-1,rt);for(tt=o-1;tt>0;tt--){for(ot=0,et=0,nt=0;nt<tt;nt++)ot=ot+Math.abs(a[nt]);if(ot===0)for(s[tt]=a[tt-1],rt=0;rt<tt;rt++)a[rt]=$.get(tt-1,rt),$.set(tt,rt,0),$.set(rt,tt,0);else{for(nt=0;nt<tt;nt++)a[nt]/=ot,et+=a[nt]*a[nt];for(j=a[tt-1],_e=Math.sqrt(et),j>0&&(_e=-_e),s[tt]=ot*_e,et=et-j*_e,a[tt-1]=j-_e,rt=0;rt<tt;rt++)s[rt]=0;for(rt=0;rt<tt;rt++){for(j=a[rt],$.set(rt,tt,j),_e=s[rt]+$.get(rt,rt)*j,nt=rt+1;nt<=tt-1;nt++)_e+=$.get(nt,rt)*a[nt],s[nt]+=$.get(nt,rt)*j;s[rt]=_e}for(j=0,rt=0;rt<tt;rt++)s[rt]/=et,j+=s[rt]*a[rt];for(it=j/(et+et),rt=0;rt<tt;rt++)s[rt]-=it*a[rt];for(rt=0;rt<tt;rt++){for(j=a[rt],_e=s[rt],nt=rt;nt<=tt-1;nt++)$.set(nt,rt,$.get(nt,rt)-(j*s[nt]+_e*a[nt]));a[rt]=$.get(tt-1,rt),$.set(tt,rt,0)}}a[tt]=et}for(tt=0;tt<o-1;tt++){if($.set(o-1,tt,$.get(tt,tt)),$.set(tt,tt,1),et=a[tt+1],et!==0){for(nt=0;nt<=tt;nt++)a[nt]=$.get(nt,tt+1)/et;for(rt=0;rt<=tt;rt++){for(_e=0,nt=0;nt<=tt;nt++)_e+=$.get(nt,tt+1)*$.get(nt,rt);for(nt=0;nt<=tt;nt++)$.set(nt,rt,$.get(nt,rt)-_e*a[nt])}}for(nt=0;nt<=tt;nt++)$.set(nt,tt+1,0)}for(rt=0;rt<o;rt++)a[rt]=$.get(o-1,rt),$.set(o-1,rt,0);$.set(o-1,o-1,1),s[0]=0}function tql2(o,s,a,$){let j,_e,et,tt,rt,nt,it,ot,st,at,lt,ft,pt,ut,dt,ct;for(et=1;et<o;et++)s[et-1]=s[et];s[o-1]=0;let ht=0,mt=0,vt=Number.EPSILON;for(nt=0;nt<o;nt++){for(mt=Math.max(mt,Math.abs(a[nt])+Math.abs(s[nt])),it=nt;it<o&&!(Math.abs(s[it])<=vt*mt);)it++;if(it>nt)do{for(j=a[nt],ot=(a[nt+1]-j)/(2*s[nt]),st=hypotenuse$1(ot,1),ot<0&&(st=-st),a[nt]=s[nt]/(ot+st),a[nt+1]=s[nt]*(ot+st),at=a[nt+1],_e=j-a[nt],et=nt+2;et<o;et++)a[et]-=_e;for(ht=ht+_e,ot=a[it],lt=1,ft=lt,pt=lt,ut=s[nt+1],dt=0,ct=0,et=it-1;et>=nt;et--)for(pt=ft,ft=lt,ct=dt,j=lt*s[et],_e=lt*ot,st=hypotenuse$1(ot,s[et]),s[et+1]=dt*st,dt=s[et]/st,lt=ot/st,ot=lt*a[et]-dt*j,a[et+1]=_e+dt*(lt*j+dt*a[et]),rt=0;rt<o;rt++)_e=$.get(rt,et+1),$.set(rt,et+1,dt*$.get(rt,et)+lt*_e),$.set(rt,et,lt*$.get(rt,et)-dt*_e);ot=-dt*ct*pt*ut*s[nt]/at,s[nt]=dt*ot,a[nt]=lt*ot}while(Math.abs(s[nt])>vt*mt);a[nt]=a[nt]+ht,s[nt]=0}for(et=0;et<o-1;et++){for(rt=et,ot=a[et],tt=et+1;tt<o;tt++)a[tt]<ot&&(rt=tt,ot=a[tt]);if(rt!==et)for(a[rt]=a[et],a[et]=ot,tt=0;tt<o;tt++)ot=$.get(tt,et),$.set(tt,et,$.get(tt,rt)),$.set(tt,rt,ot)}}function orthes(o,s,a,$){let j=0,_e=o-1,et,tt,rt,nt,it,ot,st;for(ot=j+1;ot<=_e-1;ot++){for(st=0,nt=ot;nt<=_e;nt++)st=st+Math.abs(s.get(nt,ot-1));if(st!==0){for(rt=0,nt=_e;nt>=ot;nt--)a[nt]=s.get(nt,ot-1)/st,rt+=a[nt]*a[nt];for(tt=Math.sqrt(rt),a[ot]>0&&(tt=-tt),rt=rt-a[ot]*tt,a[ot]=a[ot]-tt,it=ot;it<o;it++){for(et=0,nt=_e;nt>=ot;nt--)et+=a[nt]*s.get(nt,it);for(et=et/rt,nt=ot;nt<=_e;nt++)s.set(nt,it,s.get(nt,it)-et*a[nt])}for(nt=0;nt<=_e;nt++){for(et=0,it=_e;it>=ot;it--)et+=a[it]*s.get(nt,it);for(et=et/rt,it=ot;it<=_e;it++)s.set(nt,it,s.get(nt,it)-et*a[it])}a[ot]=st*a[ot],s.set(ot,ot-1,st*tt)}}for(nt=0;nt<o;nt++)for(it=0;it<o;it++)$.set(nt,it,nt===it?1:0);for(ot=_e-1;ot>=j+1;ot--)if(s.get(ot,ot-1)!==0){for(nt=ot+1;nt<=_e;nt++)a[nt]=s.get(nt,ot-1);for(it=ot;it<=_e;it++){for(tt=0,nt=ot;nt<=_e;nt++)tt+=a[nt]*$.get(nt,it);for(tt=tt/a[ot]/s.get(ot,ot-1),nt=ot;nt<=_e;nt++)$.set(nt,it,$.get(nt,it)+tt*a[nt])}}}function hqr2(o,s,a,$,j){let _e=o-1,et=0,tt=o-1,rt=Number.EPSILON,nt=0,it=0,ot=0,st=0,at=0,lt=0,ft=0,pt=0,ut,dt,ct,ht,mt,vt,yt,xt,bt,gt,wt,Et,kt,Ct,Mt;for(ut=0;ut<o;ut++)for((ut<et||ut>tt)&&(a[ut]=j.get(ut,ut),s[ut]=0),dt=Math.max(ut-1,0);dt<o;dt++)it=it+Math.abs(j.get(ut,dt));for(;_e>=et;){for(ht=_e;ht>et&&(lt=Math.abs(j.get(ht-1,ht-1))+Math.abs(j.get(ht,ht)),lt===0&&(lt=it),!(Math.abs(j.get(ht,ht-1))<rt*lt));)ht--;if(ht===_e)j.set(_e,_e,j.get(_e,_e)+nt),a[_e]=j.get(_e,_e),s[_e]=0,_e--,pt=0;else if(ht===_e-1){if(yt=j.get(_e,_e-1)*j.get(_e-1,_e),ot=(j.get(_e-1,_e-1)-j.get(_e,_e))/2,st=ot*ot+yt,ft=Math.sqrt(Math.abs(st)),j.set(_e,_e,j.get(_e,_e)+nt),j.set(_e-1,_e-1,j.get(_e-1,_e-1)+nt),xt=j.get(_e,_e),st>=0){for(ft=ot>=0?ot+ft:ot-ft,a[_e-1]=xt+ft,a[_e]=a[_e-1],ft!==0&&(a[_e]=xt-yt/ft),s[_e-1]=0,s[_e]=0,xt=j.get(_e,_e-1),lt=Math.abs(xt)+Math.abs(ft),ot=xt/lt,st=ft/lt,at=Math.sqrt(ot*ot+st*st),ot=ot/at,st=st/at,dt=_e-1;dt<o;dt++)ft=j.get(_e-1,dt),j.set(_e-1,dt,st*ft+ot*j.get(_e,dt)),j.set(_e,dt,st*j.get(_e,dt)-ot*ft);for(ut=0;ut<=_e;ut++)ft=j.get(ut,_e-1),j.set(ut,_e-1,st*ft+ot*j.get(ut,_e)),j.set(ut,_e,st*j.get(ut,_e)-ot*ft);for(ut=et;ut<=tt;ut++)ft=$.get(ut,_e-1),$.set(ut,_e-1,st*ft+ot*$.get(ut,_e)),$.set(ut,_e,st*$.get(ut,_e)-ot*ft)}else a[_e-1]=xt+ot,a[_e]=xt+ot,s[_e-1]=ft,s[_e]=-ft;_e=_e-2,pt=0}else{if(xt=j.get(_e,_e),bt=0,yt=0,ht<_e&&(bt=j.get(_e-1,_e-1),yt=j.get(_e,_e-1)*j.get(_e-1,_e)),pt===10){for(nt+=xt,ut=et;ut<=_e;ut++)j.set(ut,ut,j.get(ut,ut)-xt);lt=Math.abs(j.get(_e,_e-1))+Math.abs(j.get(_e-1,_e-2)),xt=bt=.75*lt,yt=-.4375*lt*lt}if(pt===30&&(lt=(bt-xt)/2,lt=lt*lt+yt,lt>0)){for(lt=Math.sqrt(lt),bt<xt&&(lt=-lt),lt=xt-yt/((bt-xt)/2+lt),ut=et;ut<=_e;ut++)j.set(ut,ut,j.get(ut,ut)-lt);nt+=lt,xt=bt=yt=.964}for(pt=pt+1,mt=_e-2;mt>=ht&&(ft=j.get(mt,mt),at=xt-ft,lt=bt-ft,ot=(at*lt-yt)/j.get(mt+1,mt)+j.get(mt,mt+1),st=j.get(mt+1,mt+1)-ft-at-lt,at=j.get(mt+2,mt+1),lt=Math.abs(ot)+Math.abs(st)+Math.abs(at),ot=ot/lt,st=st/lt,at=at/lt,!(mt===ht||Math.abs(j.get(mt,mt-1))*(Math.abs(st)+Math.abs(at))<rt*(Math.abs(ot)*(Math.abs(j.get(mt-1,mt-1))+Math.abs(ft)+Math.abs(j.get(mt+1,mt+1))))));)mt--;for(ut=mt+2;ut<=_e;ut++)j.set(ut,ut-2,0),ut>mt+2&&j.set(ut,ut-3,0);for(ct=mt;ct<=_e-1&&(Ct=ct!==_e-1,ct!==mt&&(ot=j.get(ct,ct-1),st=j.get(ct+1,ct-1),at=Ct?j.get(ct+2,ct-1):0,xt=Math.abs(ot)+Math.abs(st)+Math.abs(at),xt!==0&&(ot=ot/xt,st=st/xt,at=at/xt)),xt!==0);ct++)if(lt=Math.sqrt(ot*ot+st*st+at*at),ot<0&&(lt=-lt),lt!==0){for(ct!==mt?j.set(ct,ct-1,-lt*xt):ht!==mt&&j.set(ct,ct-1,-j.get(ct,ct-1)),ot=ot+lt,xt=ot/lt,bt=st/lt,ft=at/lt,st=st/ot,at=at/ot,dt=ct;dt<o;dt++)ot=j.get(ct,dt)+st*j.get(ct+1,dt),Ct&&(ot=ot+at*j.get(ct+2,dt),j.set(ct+2,dt,j.get(ct+2,dt)-ot*ft)),j.set(ct,dt,j.get(ct,dt)-ot*xt),j.set(ct+1,dt,j.get(ct+1,dt)-ot*bt);for(ut=0;ut<=Math.min(_e,ct+3);ut++)ot=xt*j.get(ut,ct)+bt*j.get(ut,ct+1),Ct&&(ot=ot+ft*j.get(ut,ct+2),j.set(ut,ct+2,j.get(ut,ct+2)-ot*at)),j.set(ut,ct,j.get(ut,ct)-ot),j.set(ut,ct+1,j.get(ut,ct+1)-ot*st);for(ut=et;ut<=tt;ut++)ot=xt*$.get(ut,ct)+bt*$.get(ut,ct+1),Ct&&(ot=ot+ft*$.get(ut,ct+2),$.set(ut,ct+2,$.get(ut,ct+2)-ot*at)),$.set(ut,ct,$.get(ut,ct)-ot),$.set(ut,ct+1,$.get(ut,ct+1)-ot*st)}}}if(it!==0){for(_e=o-1;_e>=0;_e--)if(ot=a[_e],st=s[_e],st===0)for(ht=_e,j.set(_e,_e,1),ut=_e-1;ut>=0;ut--){for(yt=j.get(ut,ut)-ot,at=0,dt=ht;dt<=_e;dt++)at=at+j.get(ut,dt)*j.get(dt,_e);if(s[ut]<0)ft=yt,lt=at;else if(ht=ut,s[ut]===0?j.set(ut,_e,yt!==0?-at/yt:-at/(rt*it)):(xt=j.get(ut,ut+1),bt=j.get(ut+1,ut),st=(a[ut]-ot)*(a[ut]-ot)+s[ut]*s[ut],vt=(xt*lt-ft*at)/st,j.set(ut,_e,vt),j.set(ut+1,_e,Math.abs(xt)>Math.abs(ft)?(-at-yt*vt)/xt:(-lt-bt*vt)/ft)),vt=Math.abs(j.get(ut,_e)),rt*vt*vt>1)for(dt=ut;dt<=_e;dt++)j.set(dt,_e,j.get(dt,_e)/vt)}else if(st<0)for(ht=_e-1,Math.abs(j.get(_e,_e-1))>Math.abs(j.get(_e-1,_e))?(j.set(_e-1,_e-1,st/j.get(_e,_e-1)),j.set(_e-1,_e,-(j.get(_e,_e)-ot)/j.get(_e,_e-1))):(Mt=cdiv(0,-j.get(_e-1,_e),j.get(_e-1,_e-1)-ot,st),j.set(_e-1,_e-1,Mt[0]),j.set(_e-1,_e,Mt[1])),j.set(_e,_e-1,0),j.set(_e,_e,1),ut=_e-2;ut>=0;ut--){for(gt=0,wt=0,dt=ht;dt<=_e;dt++)gt=gt+j.get(ut,dt)*j.get(dt,_e-1),wt=wt+j.get(ut,dt)*j.get(dt,_e);if(yt=j.get(ut,ut)-ot,s[ut]<0)ft=yt,at=gt,lt=wt;else if(ht=ut,s[ut]===0?(Mt=cdiv(-gt,-wt,yt,st),j.set(ut,_e-1,Mt[0]),j.set(ut,_e,Mt[1])):(xt=j.get(ut,ut+1),bt=j.get(ut+1,ut),Et=(a[ut]-ot)*(a[ut]-ot)+s[ut]*s[ut]-st*st,kt=(a[ut]-ot)*2*st,Et===0&&kt===0&&(Et=rt*it*(Math.abs(yt)+Math.abs(st)+Math.abs(xt)+Math.abs(bt)+Math.abs(ft))),Mt=cdiv(xt*at-ft*gt+st*wt,xt*lt-ft*wt-st*gt,Et,kt),j.set(ut,_e-1,Mt[0]),j.set(ut,_e,Mt[1]),Math.abs(xt)>Math.abs(ft)+Math.abs(st)?(j.set(ut+1,_e-1,(-gt-yt*j.get(ut,_e-1)+st*j.get(ut,_e))/xt),j.set(ut+1,_e,(-wt-yt*j.get(ut,_e)-st*j.get(ut,_e-1))/xt)):(Mt=cdiv(-at-bt*j.get(ut,_e-1),-lt-bt*j.get(ut,_e),ft,st),j.set(ut+1,_e-1,Mt[0]),j.set(ut+1,_e,Mt[1]))),vt=Math.max(Math.abs(j.get(ut,_e-1)),Math.abs(j.get(ut,_e))),rt*vt*vt>1)for(dt=ut;dt<=_e;dt++)j.set(dt,_e-1,j.get(dt,_e-1)/vt),j.set(dt,_e,j.get(dt,_e)/vt)}for(ut=0;ut<o;ut++)if(ut<et||ut>tt)for(dt=ut;dt<o;dt++)$.set(ut,dt,j.get(ut,dt));for(dt=o-1;dt>=et;dt--)for(ut=et;ut<=tt;ut++){for(ft=0,ct=et;ct<=Math.min(dt,tt);ct++)ft=ft+$.get(ut,ct)*j.get(ct,dt);$.set(ut,dt,ft)}}}function cdiv(o,s,a,$){let j,_e;return Math.abs(a)>Math.abs($)?(j=$/a,_e=a+j*$,[(o+j*s)/_e,(s-j*o)/_e]):(j=a/$,_e=$+j*a,[(j*o+s)/_e,(j*s-o)/_e])}class CholeskyDecomposition{constructor(s){if(s=WrapperMatrix2D.checkMatrix(s),!s.isSymmetric())throw new Error("Matrix is not symmetric");let a=s,$=a.rows,j=new Matrix$2($,$),_e=!0,et,tt,rt;for(tt=0;tt<$;tt++){let nt=0;for(rt=0;rt<tt;rt++){let it=0;for(et=0;et<rt;et++)it+=j.get(rt,et)*j.get(tt,et);it=(a.get(tt,rt)-it)/j.get(rt,rt),j.set(tt,rt,it),nt=nt+it*it}for(nt=a.get(tt,tt)-nt,_e&=nt>0,j.set(tt,tt,Math.sqrt(Math.max(nt,0))),rt=tt+1;rt<$;rt++)j.set(tt,rt,0)}this.L=j,this.positiveDefinite=!!_e}isPositiveDefinite(){return this.positiveDefinite}solve(s){s=WrapperMatrix2D.checkMatrix(s);let a=this.L,$=a.rows;if(s.rows!==$)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let j=s.columns,_e=s.clone(),et,tt,rt;for(rt=0;rt<$;rt++)for(tt=0;tt<j;tt++){for(et=0;et<rt;et++)_e.set(rt,tt,_e.get(rt,tt)-_e.get(et,tt)*a.get(rt,et));_e.set(rt,tt,_e.get(rt,tt)/a.get(rt,rt))}for(rt=$-1;rt>=0;rt--)for(tt=0;tt<j;tt++){for(et=rt+1;et<$;et++)_e.set(rt,tt,_e.get(rt,tt)-_e.get(et,tt)*a.get(et,rt));_e.set(rt,tt,_e.get(rt,tt)/a.get(rt,rt))}return _e}get lowerTriangularMatrix(){return this.L}}class nipals{constructor(s,a={}){s=WrapperMatrix2D.checkMatrix(s);let{Y:$}=a;const{scaleScores:j=!1,maxIterations:_e=1e3,terminationCriteria:et=1e-10}=a;let tt;if($){if(isAnyArray($)&&typeof $[0]=="number"?$=Matrix$2.columnVector($):$=WrapperMatrix2D.checkMatrix($),$.rows!==s.rows)throw new Error("Y should have the same number of rows as X");tt=$.getColumnVector(0)}else tt=s.getColumnVector(0);let rt=1,nt,it,ot,st;for(let at=0;at<_e&&rt>et;at++)ot=s.transpose().mmul(tt).div(tt.transpose().mmul(tt).get(0,0)),ot=ot.div(ot.norm()),nt=s.mmul(ot).div(ot.transpose().mmul(ot).get(0,0)),at>0&&(rt=nt.clone().sub(st).pow(2).sum()),st=nt.clone(),$?(it=$.transpose().mmul(nt).div(nt.transpose().mmul(nt).get(0,0)),it=it.div(it.norm()),tt=$.mmul(it).div(it.transpose().mmul(it).get(0,0))):tt=nt;if($){let at=s.transpose().mmul(nt).div(nt.transpose().mmul(nt).get(0,0));at=at.div(at.norm());let lt=s.clone().sub(nt.clone().mmul(at.transpose())),ft=tt.transpose().mmul(nt).div(nt.transpose().mmul(nt).get(0,0)),pt=$.clone().sub(nt.clone().mulS(ft.get(0,0)).mmul(it.transpose()));this.t=nt,this.p=at.transpose(),this.w=ot.transpose(),this.q=it,this.u=tt,this.s=nt.transpose().mmul(nt),this.xResidual=lt,this.yResidual=pt,this.betas=ft}else this.w=ot.transpose(),this.s=nt.transpose().mmul(nt).sqrt(),j?this.t=nt.clone().div(this.s.get(0,0)):this.t=nt,this.xResidual=s.sub(nt.mmul(ot.transpose()))}}const src$1=Object.freeze(Object.defineProperty({__proto__:null,AbstractMatrix,CHO:CholeskyDecomposition,CholeskyDecomposition,EVD:EigenvalueDecomposition,EigenvalueDecomposition,LU:LuDecomposition,LuDecomposition,Matrix:Matrix$2,MatrixColumnSelectionView,MatrixColumnView,MatrixFlipColumnView,MatrixFlipRowView,MatrixRowSelectionView,MatrixRowView,MatrixSelectionView,MatrixSubView,MatrixTransposeView:MatrixTransposeView$1,NIPALS:nipals,Nipals:nipals,QR:QrDecomposition,QrDecomposition,SVD:SingularValueDecomposition,SingularValueDecomposition,WrapperMatrix1D,WrapperMatrix2D,correlation,covariance,default:Matrix$2,determinant,inverse,linearDependencies,pseudoInverse,solve,wrap},Symbol.toStringTag,{value:"Module"}));function getSeparatedKernel(o){const s=new SingularValueDecomposition(o,{autoTranspose:!0});if(s.rank!==1)return null;const a=Math.sqrt(s.s[0]),$=s.U.to2DArray().map(_e=>_e[0]*a),j=s.V.to2DArray().map(_e=>_e[0]*a);return[$,j]}function convolution(o,s={}){let{channels:a,bitDepth:$,normalize:j=!1,divisor:_e=1,border:et="copy",algorithm:tt="auto"}=s,rt={};$&&(rt.bitDepth=$);let nt=Image.createFrom(this,rt);if(a=validateArrayOfChannels(this,a),tt!=="separable")({kernel:o}=validateKernel(o));else if(!Array.isArray(o)||o.length!==2)throw new RangeError("separable convolution requires two arrays of numbers to represent the kernel");if(tt==="auto"){let ht=getSeparatedKernel(o);ht!==null?(tt="separable",o=ht):(o.length>9||o[0].length>9)&&this.width<=4096&&this.height<=4096?tt="fft":tt="direct"}let it,ot;tt==="separable"?(it=Math.floor(o[0].length/2),ot=Math.floor(o[1].length/2)):(it=Math.floor(o.length/2),ot=Math.floor(o[0].length/2));let st=nt.isClamped,at=new Array(this.height*this.width),lt,ft,pt,ut,dt,ct;for(ut=0;ut<a.length;ut++){for(dt=a[ut],pt=0;pt<this.height;pt++)for(ft=0;ft<this.width;ft++)lt=pt*this.width+ft,at[lt]=this.data[lt*this.channels+dt];if(tt==="direct")ct=src$2.direct(at,o,{rows:this.height,cols:this.width,normalize:j,divisor:_e});else if(tt==="separable"){if(ct=convolutionSeparable(at,o,this.width,this.height),j){_e=0;for(let ht=0;ht<o[0].length;ht++)for(let mt=0;mt<o[1].length;mt++)_e+=o[0][ht]*o[1][mt]}if(_e!==1)for(let ht=0;ht<ct.length;ht++)ct[ht]/=_e}else ct=src$2.fft(at,o,{rows:this.height,cols:this.width,normalize:j,divisor:_e});for(pt=0;pt<this.height;pt++)for(ft=0;ft<this.width;ft++)lt=pt*this.width+ft,st?nt.data[lt*this.channels+dt]=clamp$1(ct[lt],nt):nt.data[lt*this.channels+dt]=ct[lt]}if(this.alpha&&!a.includes(this.channels))for(ft=this.components;ft<this.data.length;ft=ft+this.channels)nt.data[ft]=this.data[ft];return et!=="periodic"&&nt.setBorder({size:[ot,it],algorithm:et}),nt}function gradientFilter(o={}){let{direction:s="xy",border:a="copy",kernelX:$,kernelY:j,channels:_e,bitDepth:et=this.bitDepth}=o;switch(this.checkProcessable("gradientFilter",{bitDepth:[8,16]}),s){case"x":if(!$)throw new Error("kernelX option is missing");return convolution.call(this,$,{channels:_e,border:a,bitDepth:et});case"y":if(!j)throw new Error("kernelY option is missing");return convolution.call(this,j,{channels:_e,border:a,bitDepth:et});case"xy":{if(!$)throw new Error("kernelX option is missing");if(!j)throw new Error("kernelY option is missing");const tt=convolution.call(this,$,{channels:_e,border:a,bitDepth:32}),rt=convolution.call(this,j,{channels:_e,border:a,bitDepth:32});return tt.hypotenuse(rt,{bitDepth:et,channels:_e})}default:throw new Error(`Unknown parameter direction: ${s}`)}}function sobelFilter(o){return gradientFilter.call(this,Object.assign({},o,{kernelX:SOBEL_X,kernelY:SOBEL_Y}))}function scharrFilter(o){return gradientFilter.call(this,Object.assign({},o,{kernelX:SCHARR_X,kernelY:SCHARR_Y}))}var newArray_1=newArray;function newArray(o,s){o=o||0;for(var a=new Array(o),$=0;$<o;$++)a[$]=s;return a}const newArray$1=getDefaultExportFromCjs(newArray_1);function level(o={}){let{algorithm:s="range",channels:a,min:$=this.min,max:j=this.max}=o;switch(this.checkProcessable("level",{bitDepth:[8,16,32]}),a=validateArrayOfChannels(this,{channels:a}),a.length!==this.channel&&(Array.isArray($)&&$.length===this.channels&&($=$.filter((_e,et)=>a.includes(et))),Array.isArray(j)&&j.length===this.channels&&(j=j.filter((_e,et)=>a.includes(et)))),s){case"range":$<0&&($=0),j>this.maxValue&&(j=this.maxValue),Array.isArray($)||($=newArray$1(a.length,$)),Array.isArray(j)||(j=newArray$1(a.length,j)),processImage(this,$,j,a);break;default:throw new Error(`level: algorithm not implement: ${s}`)}return this}function processImage(o,s,a,$){let j=1e-5,_e=new Array($.length);for(let et=0;et<$.length;et++)s[et]===0&&a[et]===o.maxValue||a[et]===s[et]?_e[et]=0:_e[et]=(o.maxValue+1-j)/(a[et]-s[et]),s[et]+=(.5-j/2)/_e[et];for(let et=0;et<$.length;et++){let tt=$[et];if(_e[et]!==0)for(let rt=0;rt<o.data.length;rt+=o.channels)o.data[rt+tt]=Math.min(Math.max(0,(o.data[rt+tt]-s[et])*_e[et]+.5|0),o.maxValue)}}var toString=Object.prototype.toString,isArrayType=function o(s){return toString.call(s).substr(-6,5)==="Array"};const isArray=getDefaultExportFromCjs(isArrayType);function checkNumberArray(o){if(isNaN(o)){if(o instanceof Image)return o.data;if(!isArray(o))throw new Error("checkNumberArray: the value should be either a number, array or Image");return o}else{if(o<=0)throw new Error("checkNumberArray: the value must be greater than 0");return o}}function add(o,s={}){let{channels:a}=s;if(this.checkProcessable("add",{bitDepth:[8,16]}),a=validateArrayOfChannels(this,{channels:a}),o=checkNumberArray(o),isNaN(o)){if(this.data.length!==o.length)throw new Error("add: the data size is different");for(let $=0;$<a.length;$++){let j=a[$];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+j]=Math.max(0,Math.min(this.maxValue,this.data[_e+j]+o[_e+j]>>0))}}else for(let $=0;$<a.length;$++){let j=a[$];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+j]=Math.min(this.maxValue,this.data[_e+j]+o>>0)}return this}function subtract(o,s={}){let{channels:a}=s;if(this.checkProcessable("subtract",{bitDepth:[8,16]}),a=validateArrayOfChannels(this,{channels:a}),o=checkNumberArray(o),isNaN(o)){if(this.data.length!==o.length)throw new Error("subtract: the data size is different");for(let $=0;$<a.length;$++){let j=a[$];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+j]=Math.max(0,Math.min(this.maxValue,this.data[_e+j]-o[_e+j]>>0))}}else for(let $=0;$<a.length;$++){let j=a[$];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+j]=Math.max(0,this.data[_e+j]-o>>0)}return this}function subtractImage(o,s={}){let{channels:a,absolute:$=!1}=s;if(this.checkProcessable("subtractImage",{bitDepth:[8,16]}),this.width!==o.width||this.height!==o.height)throw new Error("subtractImage: both images must have the same size");if(this.alpha!==o.alpha||this.bitDepth!==o.bitDepth)throw new Error("subtractImage: both images must have the same alpha and bitDepth");if(this.channels!==o.channels)throw new Error("subtractImage: both images must have the same number of channels");let j=this.clone();a=validateArrayOfChannels(this,{channels:a});for(let _e=0;_e<a.length;_e++){let et=a[_e];for(let tt=et;tt<this.data.length;tt+=this.channels){let rt=this.data[tt]-o.data[tt];$?j.data[tt]=Math.abs(rt):j.data[tt]=Math.max(rt,0)}}return j}function hypotenuse(o,s={}){let{bitDepth:a=this.bitDepth,channels:$}=s;if(this.checkProcessable("hypotenuse",{bitDepth:[8,16,32]}),this.width!==o.width||this.height!==o.height)throw new Error("hypotenuse: both images must have the same size");if(this.alpha!==o.alpha||this.bitDepth!==o.bitDepth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(this.channels!==o.channels)throw new Error("hypotenuse: both images must have the same number of channels");let j=Image.createFrom(this,{bitDepth:a});$=validateArrayOfChannels(this,{channels:$});let _e=j.isClamped;for(let et=0;et<$.length;et++){let tt=$[et];for(let rt=tt;rt<this.data.length;rt+=this.channels){let nt=Math.hypot(this.data[rt],o.data[rt]);_e?j.data[rt]=Math.min(Math.max(Math.round(nt),0),j.maxValue):j.data[rt]=nt}}return j}function multiply(o,s={}){let{channels:a}=s;if(this.checkProcessable("multiply",{bitDepth:[8,16]}),o<=0)throw new Error("multiply: the value must be greater than 0");if(a=validateArrayOfChannels(this,{channels:a}),o=checkNumberArray(o),isNaN(o)){if(this.data.length!==o.length)throw new Error("multiply: the data size is different");for(let $=0;$<a.length;$++){let j=a[$];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+j]=Math.max(0,Math.min(this.maxValue,this.data[_e+j]*o[_e+j]>>0))}}else for(let $=0;$<a.length;$++){let j=a[$];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+j]=Math.min(this.maxValue,this.data[_e+j]*o>>0)}return this}function divide(o,s={}){let{channels:a}=s;if(this.checkProcessable("divide",{bitDepth:[8,16]}),a=validateArrayOfChannels(this,{channels:a}),o=checkNumberArray(o),isNaN(o)){if(this.data.length!==o.length)throw new Error("divide: the: the data size is different");for(let $=0;$<a.length;$++){let j=a[$];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+j]=Math.max(0,Math.min(this.maxValue,this.data[_e+j]/o[_e+j]>>0))}}else for(let $=0;$<a.length;$++){let j=a[$];for(let _e=0;_e<this.data.length;_e+=this.channels)this.data[_e+j]=Math.min(this.maxValue,this.data[_e+j]/o>>0)}return this}class BaseRegression{constructor(){if(new.target===BaseRegression)throw new Error("BaseRegression must be subclassed")}predict(s){if(typeof s=="number")return this._predict(s);if(isAnyArray(s)){const a=[];for(let $=0;$<s.length;$++)a.push(this._predict(s[$]));return a}else throw new TypeError("x must be a number or array")}_predict(){throw new Error("_predict must be implemented")}train(){}toString(){return""}toLaTeX(){return""}score(s,a){if(!isAnyArray(s)||!isAnyArray(a)||s.length!==a.length)throw new Error("x and y must be arrays of the same length");const $=s.length,j=new Array($);for(let at=0;at<$;at++)j[at]=this._predict(s[at]);let _e=0,et=0,tt=0,rt=0,nt=0,it=0,ot=0;for(let at=0;at<$;at++)_e+=j[at],et+=a[at],nt+=j[at]*j[at],it+=a[at]*a[at],ot+=j[at]*a[at],a[at]!==0&&(tt+=(a[at]-j[at])*(a[at]-j[at])/a[at]),rt+=(a[at]-j[at])*(a[at]-j[at]);const st=($*ot-_e*et)/Math.sqrt(($*nt-_e*_e)*($*it-et*et));return{r:st,r2:st*st,chi2:tt,rmsd:Math.sqrt(rt/$)}}}const require$$0$2=getAugmentedNamespace(src$1);function squaredEuclidean$4(o,s){let a=0;for(let $=0;$<o.length;$++)a+=(o[$]-s[$])*(o[$]-s[$]);return a}function euclidean$2(o,s){return Math.sqrt(squaredEuclidean$4(o,s))}const euclidean$3=Object.freeze(Object.defineProperty({__proto__:null,euclidean:euclidean$2,squaredEuclidean:squaredEuclidean$4},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(euclidean$3),{squaredEuclidean:squaredEuclidean$3}=require$$0$1,defaultOptions$c={sigma:1};let GaussianKernel$1=class{constructor(s){s=Object.assign({},defaultOptions$c,s),this.sigma=s.sigma,this.divisor=2*s.sigma*s.sigma}compute(s,a){const $=squaredEuclidean$3(s,a);return Math.exp(-$/this.divisor)}};var gaussianKernel=GaussianKernel$1;const defaultOptions$b={degree:1,constant:1,scale:1};let PolynomialKernel$1=class{constructor(s){s=Object.assign({},defaultOptions$b,s),this.degree=s.degree,this.constant=s.constant,this.scale=s.scale}compute(s,a){for(var $=0,j=0;j<s.length;j++)$+=s[j]*a[j];return Math.pow(this.scale*$+this.constant,this.degree)}};var polynomialKernel=PolynomialKernel$1;const defaultOptions$a={alpha:.01,constant:-Math.E};let SigmoidKernel$1=class{constructor(s){s=Object.assign({},defaultOptions$a,s),this.alpha=s.alpha,this.constant=s.constant}compute(s,a){for(var $=0,j=0;j<s.length;j++)$+=s[j]*a[j];return Math.tanh(this.alpha*$+this.constant)}};var sigmoidKernel=SigmoidKernel$1;const defaultOptions$9={sigma:1,degree:1};let ANOVAKernel$1=class{constructor(s){s=Object.assign({},defaultOptions$9,s),this.sigma=s.sigma,this.degree=s.degree}compute(s,a){for(var $=0,j=Math.min(s.length,a.length),_e=1;_e<=j;++_e)$+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(s[_e-1],_e)-Math.pow(a[_e-1],_e),2)),this.degree);return $}};var anovaKernel=ANOVAKernel$1;const{squaredEuclidean:squaredEuclidean$2}=require$$0$1,defaultOptions$8={sigma:1};let CauchyKernel$1=class{constructor(s){s=Object.assign({},defaultOptions$8,s),this.sigma=s.sigma}compute(s,a){return 1/(1+squaredEuclidean$2(s,a)/(this.sigma*this.sigma))}};var cauchyKernel=CauchyKernel$1;const{euclidean:euclidean$1}=require$$0$1,defaultOptions$7={sigma:1};let ExponentialKernel$1=class{constructor(s){s=Object.assign({},defaultOptions$7,s),this.sigma=s.sigma,this.divisor=2*s.sigma*s.sigma}compute(s,a){const $=euclidean$1(s,a);return Math.exp(-$/this.divisor)}};var exponentialKernel=ExponentialKernel$1;class HistogramIntersectionKernel{compute(s,a){for(var $=Math.min(s.length,a.length),j=0,_e=0;_e<$;++_e)j+=Math.min(s[_e],a[_e]);return j}}var histogramIntersectionKernel=HistogramIntersectionKernel;const{euclidean}=require$$0$1,defaultOptions$6={sigma:1};let LaplacianKernel$1=class{constructor(s){s=Object.assign({},defaultOptions$6,s),this.sigma=s.sigma}compute(s,a){const $=euclidean(s,a);return Math.exp(-$/this.sigma)}};var laplacianKernel=LaplacianKernel$1;const{squaredEuclidean:squaredEuclidean$1}=require$$0$1,defaultOptions$5={constant:1};let MultiquadraticKernel$1=class{constructor(s){s=Object.assign({},defaultOptions$5,s),this.constant=s.constant}compute(s,a){return Math.sqrt(squaredEuclidean$1(s,a)+this.constant*this.constant)}};var multiquadraticKernel=MultiquadraticKernel$1;const{squaredEuclidean}=require$$0$1,defaultOptions$4={constant:1};class RationalQuadraticKernel{constructor(s){s=Object.assign({},defaultOptions$4,s),this.constant=s.constant}compute(s,a){const $=squaredEuclidean(s,a);return 1-$/($+this.constant)}}var rationalQuadraticKernel=RationalQuadraticKernel;const{Matrix:Matrix$1,MatrixTransposeView}=require$$0$2,GaussianKernel=gaussianKernel,PolynomialKernel=polynomialKernel,SigmoidKernel=sigmoidKernel,ANOVAKernel=anovaKernel,CauchyKernel=cauchyKernel,ExponentialKernel=exponentialKernel,HistogramKernel=histogramIntersectionKernel,LaplacianKernel=laplacianKernel,MultiquadraticKernel=multiquadraticKernel,RationalKernel=rationalQuadraticKernel,kernelType={gaussian:GaussianKernel,rbf:GaussianKernel,polynomial:PolynomialKernel,poly:PolynomialKernel,anova:ANOVAKernel,cauchy:CauchyKernel,exponential:ExponentialKernel,histogram:HistogramKernel,min:HistogramKernel,laplacian:LaplacianKernel,multiquadratic:MultiquadraticKernel,rational:RationalKernel,sigmoid:SigmoidKernel,mlp:SigmoidKernel};class Kernel{constructor(s,a){if(this.kernelType=s,s!=="linear")if(typeof s=="string"){s=s.toLowerCase();var $=kernelType[s];if($)this.kernelFunction=new $(a);else throw new Error(`unsupported kernel type: ${s}`)}else if(typeof s=="object"&&typeof s.compute=="function")this.kernelFunction=s;else throw new TypeError("first argument must be a valid kernel type or instance")}compute(s,a){if(s=Matrix$1.checkMatrix(s),a===void 0?a=s:a=Matrix$1.checkMatrix(a),this.kernelType==="linear")return s.mmul(new MatrixTransposeView(a));const $=new Matrix$1(s.rows,a.rows);if(s===a)for(let j=0;j<s.rows;j++)for(let _e=j;_e<s.rows;_e++){const et=this.kernelFunction.compute(s.getRow(j),s.getRow(_e));$.set(j,_e,et),$.set(_e,j,et)}else for(let j=0;j<s.rows;j++)for(let _e=0;_e<a.rows;_e++)$.set(j,_e,this.kernelFunction.compute(s.getRow(j),a.getRow(_e)));return $}}var kernel=Kernel;const Kernel$1=getDefaultExportFromCjs(kernel),defaultOptions$3={lambda:.1,kernelType:"gaussian",kernelOptions:{},computeCoefficient:!1};class KernelRidgeRegression extends BaseRegression{constructor(s,a,$){if(super(),s===!0)this.alpha=a.alpha,this.inputs=a.inputs,this.kernelType=a.kernelType,this.kernelOptions=a.kernelOptions,this.kernel=new Kernel$1(a.kernelType,a.kernelOptions);else{s=Matrix$2.checkMatrix(s),$=Object.assign({},defaultOptions$3,$);const j=new Kernel$1($.kernelType,$.kernelOptions),_e=j.compute(s),et=s.rows;_e.add(Matrix$2.eye(et,et).mul($.lambda)),this.alpha=solve(_e,a),this.inputs=s,this.kernelType=$.kernelType,this.kernelOptions=$.kernelOptions,this.kernel=j}}_predict(s){return this.kernel.compute([s],this.inputs).mmul(this.alpha).getRow(0)}toJSON(){return{name:"kernelRidgeRegression",alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}static load(s){if(s.name!=="kernelRidgeRegression")throw new TypeError("not a KRR model");return new KernelRidgeRegression(!0,s)}}function background$1(o,s,a){const $=new KernelRidgeRegression(o,s,a),j=new Array(this.size);for(let tt=0;tt<this.width;tt++)for(let rt=0;rt<this.height;rt++)j[rt*this.width+tt]=[tt,rt];const _e=$.predict(j),et=Image.createFrom(this);for(let tt=0;tt<this.size;tt++)et.data[tt]=Math.min(this.maxValue,Math.max(0,_e[tt][0]));return et}function dilate(o={}){let{kernel:s=[[1,1,1],[1,1,1],[1,1,1]],iterations:a=1}=o;if(this.checkProcessable("dilate",{bitDepth:[1,8,16],components:1,alpha:0}),s.columns%2===0||s.rows%2===0)throw new TypeError("dilate: The number of rows and columns of the kernel must be odd");let $=!0;e:for(const _e of s)for(const et of _e)if(et!==1){$=!1;break e}let j=this;for(let _e=0;_e<a;_e++)if(this.bitDepth===1)if($){const et=j.clone();j=dilateOnceBinaryOnlyOnes(j,et,s.length,s[0].length)}else{const et=Image.createFrom(j);j=dilateOnceBinary(j,et,s)}else if($){const et=Image.createFrom(j);j=dilateOnceGreyOnlyOnes(j,et,s.length,s[0].length)}else{const et=Image.createFrom(j);j=dilateOnceGrey(j,et,s)}return j}function dilateOnceGrey(o,s,a){const $=a.length,j=a[0].length;let _e=($-1)/2,et=(j-1)/2;for(let tt=0;tt<o.height;tt++)for(let rt=0;rt<o.width;rt++){let nt=0;for(let it=0;it<j;it++)for(let ot=0;ot<$;ot++){if(a[ot][it]!==1)continue;let st=ot-_e+rt,at=it-et+tt;if(st<0||at<0||st>=o.width||at>=o.height)continue;const lt=o.getValueXY(st,at,0);lt>nt&&(nt=lt)}s.setValueXY(rt,tt,0,nt)}return s}function dilateOnceGreyOnlyOnes(o,s,a,$){const j=(a-1)/2,_e=($-1)/2,et=[];for(let tt=0;tt<o.width;tt++)et.push(0);for(let tt=0;tt<o.height;tt++){for(let rt=0;rt<o.width;rt++){let nt=0;for(let it=Math.max(0,tt-_e);it<Math.min(o.height,tt+_e+1);it++){const ot=o.getValueXY(rt,it,0);ot>nt&&(nt=ot)}et[rt]=nt}for(let rt=0;rt<o.width;rt++){let nt=0;for(let it=Math.max(0,rt-j);it<Math.min(o.width,rt+j+1);it++)et[it]>nt&&(nt=et[it]);s.setValueXY(rt,tt,0,nt)}}return s}function dilateOnceBinary(o,s,a){const $=a.length,j=a[0].length;let _e=($-1)/2,et=(j-1)/2;for(let tt=0;tt<o.height;tt++)for(let rt=0;rt<o.width;rt++){let nt=0;e:for(let it=0;it<j;it++)for(let ot=0;ot<$;ot++){if(a[ot][it]!==1)continue;let st=ot-_e+rt,at=it-et+tt;if(at<0||st<0||st>=o.width||at>=o.height)continue;if(o.getBitXY(st,at)===1){nt=1;break e}}nt===1&&s.setBitXY(rt,tt)}return s}function dilateOnceBinaryOnlyOnes(o,s,a,$){const j=(a-1)/2,_e=($-1)/2,et=[];for(let tt=0;tt<o.width;tt++)et.push(1);for(let tt=0;tt<o.height;tt++){for(let rt=0;rt<o.width;rt++){et[rt]=0;for(let nt=Math.max(0,tt-_e);nt<Math.min(o.height,tt+_e+1);nt++)if(o.getBitXY(rt,nt)===1){et[rt]=1;break}}for(let rt=0;rt<o.width;rt++)if(s.getBitXY(rt,tt)!==1){for(let nt=Math.max(0,rt-j);nt<Math.min(o.width,rt+j+1);nt++)if(et[nt]===1){s.setBitXY(rt,tt);break}}}return s}function erode(o={}){let{kernel:s=[[1,1,1],[1,1,1],[1,1,1]],iterations:a=1}=o;if(this.checkProcessable("erode",{bitDepth:[1,8,16],components:1,alpha:0}),s.columns%2===0||s.rows%2===0)throw new TypeError("erode: The number of rows and columns of the kernel must be odd");let $=!0;e:for(const _e of s)for(const et of _e)if(et!==1){$=!1;break e}let j=this;for(let _e=0;_e<a;_e++)if(this.bitDepth===1)if($){const et=j.clone();j=erodeOnceBinaryOnlyOnes(j,et,s.length,s[0].length)}else{const et=Image.createFrom(j);j=erodeOnceBinary(j,et,s)}else if($){const et=Image.createFrom(j);j=erodeOnceGreyOnlyOnes(j,et,s.length,s[0].length)}else{const et=Image.createFrom(j);j=erodeOnceGrey(j,et,s)}return j}function erodeOnceGrey(o,s,a){const $=a.length,j=a[0].length;let _e=($-1)/2,et=(j-1)/2;for(let tt=0;tt<o.height;tt++)for(let rt=0;rt<o.width;rt++){let nt=o.maxValue;for(let it=0;it<j;it++)for(let ot=0;ot<$;ot++){if(a[ot][it]!==1)continue;let st=ot-_e+rt,at=it-et+tt;if(st<0||at<0||st>=o.width||at>=o.height)continue;const lt=o.getValueXY(st,at,0);lt<nt&&(nt=lt)}s.setValueXY(rt,tt,0,nt)}return s}function erodeOnceGreyOnlyOnes(o,s,a,$){const j=(a-1)/2,_e=($-1)/2,et=[];for(let tt=0;tt<o.width;tt++)et.push(0);for(let tt=0;tt<o.height;tt++){for(let rt=0;rt<o.width;rt++){let nt=o.maxValue;for(let it=Math.max(0,tt-_e);it<Math.min(o.height,tt+_e+1);it++){const ot=o.getValueXY(rt,it,0);ot<nt&&(nt=ot)}et[rt]=nt}for(let rt=0;rt<o.width;rt++){let nt=o.maxValue;for(let it=Math.max(0,rt-j);it<Math.min(o.width,rt+j+1);it++)et[it]<nt&&(nt=et[it]);s.setValueXY(rt,tt,0,nt)}}return s}function erodeOnceBinary(o,s,a){const $=a.length,j=a[0].length;let _e=($-1)/2,et=(j-1)/2;for(let tt=0;tt<o.height;tt++)for(let rt=0;rt<o.width;rt++){let nt=1;e:for(let it=0;it<j;it++)for(let ot=0;ot<$;ot++){if(a[ot][it]!==1)continue;let st=ot-_e+rt,at=it-et+tt;if(at<0||st<0||st>=o.width||at>=o.height)continue;if(o.getBitXY(st,at)===0){nt=0;break e}}nt===1&&s.setBitXY(rt,tt)}return s}function erodeOnceBinaryOnlyOnes(o,s,a,$){const j=(a-1)/2,_e=($-1)/2,et=[];for(let tt=0;tt<o.width;tt++)et.push(0);for(let tt=0;tt<o.height;tt++){for(let rt=0;rt<o.width;rt++){et[rt]=1;for(let nt=Math.max(0,tt-_e);nt<Math.min(o.height,tt+_e+1);nt++)if(o.getBitXY(rt,nt)===0){et[rt]=0;break}}for(let rt=0;rt<o.width;rt++)if(s.getBitXY(rt,tt)!==0){for(let nt=Math.max(0,rt-j);nt<Math.min(o.width,rt+j+1);nt++)if(et[nt]===0){s.clearBitXY(rt,tt);break}}}return s}function open(o={}){let{kernel:s=[[1,1,1],[1,1,1],[1,1,1]],iterations:a=1}=o;if(this.checkProcessable("open",{bitDepth:[8,16],components:1,alpha:0}),s.columns%2===0||s.rows%2===0)throw new TypeError("open: The number of rows and columns of the kernel must be odd");let $=this;for(let j=0;j<a;j++)$=$.erode({kernel:s}),$=$.dilate({kernel:s});return $}function close(o={}){let{kernel:s=[[1,1,1],[1,1,1],[1,1,1]],iterations:a=1}=o;if(this.checkProcessable("close",{bitDepth:[1,8,16],components:1,alpha:0}),s.columns%2===0||s.rows%2===0)throw new TypeError("close: The number of rows and columns of the kernel must be odd");let $=this;for(let j=0;j<a;j++)$=$.dilate({kernel:s}).erode({kernel:s});return $}function topHat(o={}){let{kernel:s=[[1,1,1],[1,1,1],[1,1,1]],iterations:a=1}=o;if(this.checkProcessable("topHat",{bitDepth:[8,16],components:1,alpha:0}),s.length%2===0||s[0].length%2===0)throw new TypeError("topHat: The number of rows and columns of the kernel must be odd");let $=this;for(let j=0;j<a;j++)$=$.open({kernel:s}).subtractImage($,{absolute:!0});return $}function blackHat(o={}){let{kernel:s=[[1,1,1],[1,1,1],[1,1,1]],iterations:a=1}=o;if(this.checkProcessable("blackHat",{bitDepth:[8,16],components:1,alpha:0}),s.columns%2===0||s.rows%2===0)throw new TypeError("blackHat: The number of rows and columns of the kernel must be odd");let $=this;for(let j=0;j<a;j++)$=$.close({kernel:s}).subtractImage($,{absolute:!0});return $}function morphologicalGradient(o={}){let{kernel:s=[[1,1,1],[1,1,1],[1,1,1]],iterations:a=1}=o;if(this.checkProcessable("morphologicalGradient",{bitDepth:[8,16],components:1,alpha:0}),s.columns%2===0||s.rows%2===0)throw new TypeError("morphologicalGradient: The number of rows and columns of the kernel must be odd");let $=this;for(let j=0;j<a;j++){let _e=$.dilate({kernel:s}),et=$.erode({kernel:s});$=_e.subtractImage(et,{absolute:!0})}return $}function order4Points(o){let s=0,a=0,$=0,j=0,_e=o[0][0],et=0;for(let nt=1;nt<o.length;nt++)o[nt][0]<_e&&(_e=o[nt][0],et=nt);let tt=o[(et+1)%o.length][0],rt=(et+1)%o.length;for(let nt=1;nt<o.length;nt++)o[nt][0]<tt&&nt!==et&&(tt=o[nt][0],rt=nt);return o[rt][1]<o[et][1]?(s=o[rt],j=o[et],et!==(rt+1)%4?(a=o[(rt+1)%4],$=o[(rt+2)%4]):(a=o[(rt+2)%4],$=o[(rt+3)%4])):(j=o[rt],s=o[et],rt!==(et+1)%4?(a=o[(et+1)%4],$=o[(et+2)%4]):(a=o[(et+2)%4],$=o[(et+3)%4])),[s,a,$,j]}function distance2Points(o,s){return Math.sqrt(Math.pow(o[0]-s[0],2)+Math.pow(o[1]-s[1],2))}function crossVect(o,s){return[o[1]*s[2]-o[2]*s[1],o[2]*s[0]-o[0]*s[2],o[0]*s[1]-o[1]*s[0]]}function dotVect(o,s){return o[0]*s[0]+o[1]*s[1]+o[2]*s[2]}function computeWidthAndHeigth(o,s,a,$,j,_e){let et=Math.max(distance2Points(o,s),distance2Points($,a)),tt=Math.max(distance2Points(o,$),distance2Points(s,a)),rt=0,nt=0,it=Math.ceil(j/2),ot=Math.ceil(_e/2),st=et/tt,at=[o[0],o[1],1],lt=[s[0],s[1],1],ft=[$[0],$[1],1],pt=[a[0],a[1],1],ut=dotVect(crossVect(at,pt),ft)/dotVect(crossVect(lt,pt),ft),dt=dotVect(crossVect(at,pt),lt)/dotVect(crossVect(ft,pt),lt),ct=[ut*lt[0]-at[0],ut*lt[1]-at[1],ut*lt[2]-at[2]],ht=[dt*ft[0]-at[0],dt*ft[1]-at[1],dt*ft[2]-at[2]],mt=ct[0],vt=ct[1],yt=ct[2],xt=ht[0],bt=ht[1],gt=ht[2],wt=1/(yt*gt)*(mt*xt-(mt*gt+yt*xt)*it+yt*gt*it*it+(vt*bt-(vt*gt+yt*bt)*ot+yt*gt*ot*ot));wt>=0?wt=Math.sqrt(wt):wt=Math.sqrt(-wt);let Et=new Matrix$2([[wt,0,it],[0,wt,ot],[0,0,1]]),kt=Et.transpose(),Ct=inverse(kt),Mt=inverse(Et),Ft=Matrix$2.rowVector(ct),Tt=Matrix$2.rowVector(ht),$t=Math.sqrt(dotVect(Ft.mmul(Ct).mmul(Mt).to1DArray(),ct)/dotVect(Tt.mmul(Ct).mmul(Mt).to1DArray(),ht));return $t===0||st===0?(rt=Math.ceil(et),nt=Math.ceil(tt)):$t<st?(rt=Math.ceil(et),nt=Math.ceil(rt/$t)):(nt=Math.ceil(tt),rt=Math.ceil($t*nt)),[rt,nt]}function projectionPoint(o,s,a,$,j,_e,et,tt,rt,nt,it,ot){let[st,at]=[(a*o+$*s+j)/(rt*o+nt*s+1),(_e*o+et*s+tt)/(rt*o+nt*s+1)];return it.getValueXY(Math.floor(st),Math.floor(at),ot)}function warpingFourPoints(o,s={}){let{calculateRatio:a=!0}=s;if(o.length!==4)throw new Error(`The array pts must have four elements, which are the four corners. Currently, pts have ${o.length} elements`);let[$,j,_e,et]=o,tt=[$,j,_e,et],[rt,nt,it,ot]=order4Points(tt),st,at;a?[st,at]=computeWidthAndHeigth(rt,nt,it,ot,this.width,this.height):(st=Math.ceil(Math.max(distance2Points(rt,nt),distance2Points(ot,it))),at=Math.ceil(Math.max(distance2Points(rt,ot),distance2Points(nt,it))));let lt=Image.createFrom(this,{width:st,height:at}),[ft,pt]=rt,[ut,dt]=nt,[ct,ht]=it,[mt,vt]=ot,[yt,xt]=[0,0],[bt,gt]=[0,st-1],[wt,Et]=[at-1,st-1],[kt,Ct]=[at-1,0],Mt=new Matrix$2([[yt,xt,1,0,0,0,-yt*ft,-xt*ft],[bt,gt,1,0,0,0,-bt*ut,-gt*ut],[wt,Et,1,0,0,0,-wt*ct,-xt*ct],[kt,Ct,1,0,0,0,-kt*mt,-Ct*mt],[0,0,0,yt,xt,1,-yt*pt,-xt*pt],[0,0,0,bt,gt,1,-bt*dt,-gt*dt],[0,0,0,wt,Et,1,-wt*ht,-Et*ht],[0,0,0,kt,Ct,1,-kt*vt,-Ct*vt]]),Ft=Matrix$2.columnVector([ft,ut,ct,mt,pt,dt,ht,vt]),$t=new SingularValueDecomposition(Mt).solve(Ft),[Dt,It,Yt,Ht,jt,Bt,Ot,Ut]=$t.to1DArray(),Gt=new Matrix$2(at,st);for(let dn=0;dn<this.channels;dn++){for(let tn=0;tn<at;tn++)for(let fn=0;fn<st;fn++)Gt.set(tn,fn,projectionPoint(tn,fn,Dt,It,Yt,Ht,jt,Bt,Ot,Ut,this,dn));lt.setMatrix(Gt,{channel:dn})}return lt}function crop(o={}){let{x:s=0,y:a=0,width:$=this.width-s,height:j=this.height-a}=o;if(this.checkProcessable("crop",{bitDepth:[1,8,16]}),s=Math.round(s),a=Math.round(a),$=Math.round($),j=Math.round(j),s>this.width-1||a>this.height-1)throw new RangeError(`crop: origin (x:${s}, y:${a}) out of range (${this.width-1}; ${this.height-1})`);if($<=0||j<=0)throw new RangeError(`crop: width and height (width:${$}; height:${j}) must be positive numbers`);if(s<0||a<0)throw new RangeError(`crop: x and y (x:${s}, y:${a}) must be positive numbers`);if($>this.width-s||j>this.height-a)throw new RangeError(`crop: (x: ${s}, y:${a}, width:${$}, height:${j}) size is out of range`);let _e=this;if(this.bitDepth===1){const et=new Image($,j,{kind:"BINARY",parent:this});_e=cropBinary(this,et,s,a,$,j)}else{const et=Image.createFrom(this,{width:$,height:j,position:[s,a]});_e=cropDefault(this,et,s,a,$,j)}return _e}function cropDefault(o,s,a,$,j,_e){let et=j*o.channels,tt=$+_e,rt=0,nt=a*o.channels;for(let it=$;it<tt;it++){let ot=it*o.width*o.channels+nt,st=ot+et;for(;ot<st;ot++)s.data[rt++]=o.data[ot]}return s}function cropBinary(o,s,a,$,j,_e){let et=j*o.channels,tt=$+_e,rt=0,nt=a*o.channels;for(let it=$;it<tt;it++){let ot=it*o.width*o.channels+nt,st=ot+et;for(;ot<st;ot++)o.getBit(ot)&&s.setBit(rt),++rt}return s}function cropAlpha(o={}){this.checkProcessable("cropAlpha",{alpha:1});const{threshold:s=this.maxValue}=o;let a=findLeft(this,s,this.components);if(a===-1)throw new Error("Could not find new dimensions. Threshold may be too high.");let $=findTop(this,s,this.components,a),j=findBottom(this,s,this.components,a),_e=findRight(this,s,this.components,a,$,j);return this.crop({x:a,y:$,width:_e-a+1,height:j-$+1})}function findLeft(o,s,a){for(let $=0;$<o.width;$++)for(let j=0;j<o.height;j++)if(o.getValueXY($,j,a)>=s)return $;return-1}function findTop(o,s,a,$){for(let j=0;j<o.height;j++)for(let _e=$;_e<o.width;_e++)if(o.getValueXY(_e,j,a)>=s)return j;return-1}function findBottom(o,s,a,$){for(let j=o.height-1;j>=0;j--)for(let _e=$;_e<o.width;_e++)if(o.getValueXY(_e,j,a)>=s)return j;return-1}function findRight(o,s,a,$,j,_e){for(let et=o.width-1;et>=$;et--)for(let tt=j;tt<=_e;tt++)if(o.getValueXY(et,tt,a)>=s)return et;return-1}function getFactor(o){if(typeof o=="string"){const s=o[o.length-1];o=parseFloat(o),s==="%"&&(o/=100)}return o}function getThreshold$1(o,s){if(!s)throw Error("getThreshold : the maxValue should be specified");if(typeof o=="string"){if(o[o.length-1]!=="%")throw Error("getThreshold : if the value is a string it must finish by %");return parseFloat(o)/100*s}else{if(typeof o=="number")return o<1?o*s:o;throw Error("getThreshold : the value is not valid")}}function factorDimensions(o,s,a){o=getFactor(o);let $=Math.round(o*s),j=Math.round(o*a);return $<=0&&($=1),j<=0&&(j=1),{width:$,height:j}}function checkRow(o,s){if(s<0||s>=o.height)throw new RangeError(`row must be included between 0 and ${o.height-1}. Current value: ${s}`)}function checkColumn(o,s){if(s<0||s>=o.width)throw new RangeError(`column must be included between 0 and ${o.width-1}. Current value: ${s}`)}function checkChannel(o,s){if(s<0||s>=o.channels)throw new RangeError(`channel must be included between 0 and ${o.channels-1}. Current value: ${s}`)}const validInterpolations={nearestneighbor:"nearestNeighbor",nearestneighbour:"nearestNeighbor",bilinear:"bilinear"};function checkInterpolation(o){if(typeof o!="string")throw new TypeError("interpolation must be a string");if(o=o.toLowerCase(),!validInterpolations[o])throw new RangeError(`invalid interpolation algorithm: ${o}`);return validInterpolations[o]}function nearestNeighbor(o,s,a){const $=this.width/s,j=this.height/a;if(this.bitDepth>1)for(let _e=0;_e<s;_e++){const et=Math.floor((_e+.5)*$);for(let tt=0;tt<a;tt++){const rt=Math.floor((tt+.5)*j);for(let nt=0;nt<this.channels;nt++)o.setValueXY(_e,tt,nt,this.getValueXY(et,rt,nt))}}else for(let _e=0;_e<s;_e++){const et=Math.floor((_e+.5)*$);for(let tt=0;tt<a;tt++){const rt=Math.floor((tt+.5)*j);this.getBitXY(et,rt)&&o.setBitXY(_e,tt)}}}function resize(o={}){const{factor:s=1,interpolation:a=validInterpolations.nearestneighbor,preserveAspectRatio:$=!0}=o,j=checkInterpolation(a);let _e=o.width,et=o.height;if(_e||(et&&$?_e=Math.round(et*(this.width/this.height)):_e=this.width),et||($?et=Math.round(_e*(this.height/this.width)):et=this.height),{width:_e,height:et}=factorDimensions(s,_e,et),_e===this.width&&et===this.height){const it=this.clone();return it.position=[0,0],it}let tt=Math.round((this.width-_e)/2),rt=Math.round((this.height-et)/2);const nt=Image.createFrom(this,{width:_e,height:et,position:[tt,rt]});switch(j){case validInterpolations.nearestneighbor:nearestNeighbor.call(this,nt,_e,et);break;default:throw new Error(`unsupported resize interpolation: ${j}`)}return nt}function hsv(){this.checkProcessable("hsv",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let o=Image.createFrom(this,{colorModel:HSV}),s=0,a=this.data;for(let $=0;$<a.length;$+=this.channels){let j=a[$],_e=a[$+1],et=a[$+2],tt=Math.min(j,_e,et),rt=Math.max(j,_e,et),nt=rt-tt,it=0,ot=rt===0?0:nt/rt,st=rt;if(rt!==tt){switch(rt){case j:it=(_e-et)/nt+(_e<et?6:0);break;case _e:it=(et-j)/nt+2;break;case et:it=(j-_e)/nt+4;break;default:throw new Error("unreachable")}it/=6}o.data[s++]=it*this.maxValue,o.data[s++]=ot*this.maxValue,o.data[s++]=st,this.alpha&&(o.data[s++]=a[$+3])}return o}function hsl$1(){this.checkProcessable("hsl",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let o=Image.createFrom(this,{colorModel:HSL}),s=Math.floor(this.maxValue/2),a=0,$=this.data;for(let j=0;j<$.length;j+=this.channels){let _e=$[j],et=$[j+1],tt=$[j+2],rt=Math.max(_e,et,tt),nt=Math.min(_e,et,tt),it=0,ot=0,st=(rt+nt)/2;if(rt!==nt){let at=rt-nt;switch(ot=st>s?at/(2-rt-nt):at/(rt+nt),rt){case _e:it=(et-tt)/at+(et<tt?6:0);break;case et:it=(tt-_e)/at+2;break;case tt:it=(_e-et)/at+4;break;default:throw new Error("unreachable")}it/=6}o.data[a++]=it*this.maxValue,o.data[a++]=ot*this.maxValue,o.data[a++]=st,this.alpha&&(o.data[a++]=$[j+3])}return o}function cmyk(){this.checkProcessable("cmyk",{bitDepth:[8,16],alpha:[0,1],colorModel:[RGB$1]});let o=Image.createFrom(this,{components:4,colorModel:CMYK$1}),s=0,a=this.data;for(let $=0;$<a.length;$+=this.channels){let j=a[$],_e=a[$+1],et=a[$+2],tt=Math.min(this.maxValue-j,this.maxValue-_e,this.maxValue-et),rt=(this.maxValue-j-tt)/(1-tt/this.maxValue),nt=(this.maxValue-_e-tt)/(1-tt/this.maxValue),it=(this.maxValue-et-tt)/(1-tt/this.maxValue);o.data[s++]=Math.round(rt),o.data[s++]=Math.round(nt),o.data[s++]=Math.round(it),o.data[s++]=Math.round(tt),this.alpha&&(o.data[s++]=a[$+3])}return o}function rgba8(){return new Image(this.width,this.height,this.getRGBAData(),{kind:"RGBA",parent:this})}const methods$1={luma709(o,s,a){return o*6966+s*23436+a*2366>>15},luma601(o,s,a){return o*9798+s*19235+a*3735>>15},maximum(o,s,a){return Math.max(o,s,a)},minimum(o,s,a){return Math.min(o,s,a)},average(o,s,a){return(o+s+a)/3>>0},minmax(o,s,a){return(Math.max(o,s,a)+Math.min(o,s,a))/2},red(o){return o},green(o,s){return s},blue(o,s,a){return a},cyan(o,s,a,$){let j=methods$1.black(o,s,a,$);return($.maxValue-o-j)/(1-j/$.maxValue)>>0},magenta(o,s,a,$){let j=methods$1.black(o,s,a,$);return($.maxValue-s-j)/(1-j/$.maxValue)>>0},yellow(o,s,a,$){let j=methods$1.black(o,s,a,$);return($.maxValue-a-j)/(1-j/$.maxValue)>>0},black(o,s,a,$){return Math.min($.maxValue-o,$.maxValue-s,$.maxValue-a)},hue(o,s,a,$){let j=methods$1.min(o,s,a),_e=methods$1.max(o,s,a);if(_e===j)return 0;let et=0,tt=_e-j;switch(_e){case o:et=(s-a)/tt+(s<a?6:0);break;case s:et=(a-o)/tt+2;break;case a:et=(o-s)/tt+4;break;default:throw new Error("unreachable")}return et/6*$.maxValue>>0},saturation(o,s,a,$){let j=methods$1.min(o,s,a),_e=methods$1.max(o,s,a),et=_e-j;return _e===0?0:et/_e*$.maxValue},lightness(o,s,a){let $=methods$1.min(o,s,a);return(methods$1.max(o,s,a)+$)/2}};Object.defineProperty(methods$1,"luminosity",{enumerable:!1,value:methods$1.lightness});Object.defineProperty(methods$1,"luminance",{enumerable:!1,value:methods$1.lightness});Object.defineProperty(methods$1,"min",{enumerable:!1,value:methods$1.minimum});Object.defineProperty(methods$1,"max",{enumerable:!1,value:methods$1.maximum});Object.defineProperty(methods$1,"brightness",{enumerable:!1,value:methods$1.maximum});Object.keys(methods$1).forEach(o=>{});function grey$2(o={}){let{algorithm:s="luma709",keepAlpha:a=!1,mergeAlpha:$=!0}=o;if(typeof s!="string"&&typeof s!="function")throw new TypeError("algorithm must be a string or a function");this.checkProcessable("grey",{bitDepth:[8,16],alpha:[0,1]}),this.components===1&&(s="red"),a&=this.alpha,$&=this.alpha,a&&($=!1);let j=getOutputImage(this,o,{components:1,alpha:a,colorModel:GREY$1}),_e;if(typeof s=="function")_e=s;else if(_e=methods$1[s.toLowerCase()],!_e)throw new Error(`unsupported grey algorithm: ${s}`);let et=0;for(let tt=0;tt<this.data.length;tt+=this.channels)$?j.data[et++]=clamp$1(_e(this.data[tt],this.data[tt+1],this.data[tt+2],this)*this.data[tt+this.components]/this.maxValue,this):(j.data[et++]=clamp$1(_e(this.data[tt],this.data[tt+1],this.data[tt+2],this),this),j.alpha&&(j.data[et++]=this.data[tt+this.components]));return j}function huang(o){let s=0;for(let it=0;it<o.length;it++)if(o[it]!==0){s=it;break}let a=o.length-1;for(let it=o.length-1;it>=s;it--)if(o[it]!==0){a=it;break}let $=1/(a-s),j=new Array(o.length),_e=0,et=0;for(let it=s;it<o.length;it++)_e+=it*o[it],et+=o[it],j[it]=_e/et;let tt=new Array(o.length);_e=et=0;for(let it=a;it>0;it--)_e+=it*o[it],et+=o[it],tt[it-1]=_e/et;let rt=-1,nt=Number.MAX_VALUE;for(let it=0;it<o.length;it++){let ot=0,st;for(let at=0;at<=it;at++)st=1/(1+$*Math.abs(at-j[it])),st<1e-6||st>.999999||(ot+=o[at]*(-st*Math.log(st)-(1-st)*Math.log(1-st)));for(let at=it+1;at<o.length;at++)st=1/(1+$*Math.abs(at-tt[it])),st<1e-6||st>.999999||(ot+=o[at]*(-st*Math.log(st)-(1-st)*Math.log(1-st)));ot<nt&&(nt=ot,rt=it)}return rt}function intermodes(o){let s=o.slice(),a=0;for(;!bimodalTest$1(s);){let j=0,_e=0,et=s[0];for(let tt=0;tt<o.length-1;tt++)j=_e,_e=et,et=s[tt+1],s[tt]=(j+_e+et)/3;if(s[o.length-1]=(_e+et)/3,a++,a>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}let $=0;for(let j=1;j<o.length-1;j++)s[j-1]<s[j]&&s[j+1]<s[j]&&($+=j);return Math.floor($/2)}function bimodalTest$1(o){let s=!1,a=0;for(let $=1;$<o.length-1;$++)if(o[$-1]<o[$]&&o[$+1]<o[$]&&(a++,a>2))return!1;return a===2&&(s=!0),s}function isodata(o){let s,a,$,j,_e=0;for(let et=1;et<o.length;et++)if(o[et]>0){_e=et+1;break}for(;;){s=0,$=0;for(let et=0;et<_e;et++)$=$+o[et],s=s+o[et]*et;j=0,a=0;for(let et=_e+1;et<o.length;et++)a+=o[et],j+=o[et]*et;if($>0&&a>0&&(s/=$,j/=a,_e===Math.round((s+j)/2)))break;if(_e++,_e>o.length-2)throw new Error("Threshold not found")}return _e}function li$1(o,s){let a,$,j,_e,et,tt,rt,nt,it,ot,st,at;st=.5,ot=0;for(let lt=0;lt<o.length;lt++)ot+=lt*o[lt];ot/=s,rt=ot;do{tt=rt,a=tt+.5|0,$=0,_e=0;for(let lt=0;lt<=a;lt++)$+=lt*o[lt],_e+=o[lt];nt=_e===0?0:$/_e,j=0,et=0;for(let lt=a+1;lt<o.length;lt++)j+=lt*o[lt],et+=o[lt];it=et===0?0:j/et,at=(nt-it)/(Math.log(nt)-Math.log(it)),at<-Number.EPSILON?rt=at-.5|0:rt=at+.5|0}while(Math.abs(rt-tt)>st);return a}function maxEntropy(o,s){let a=new Array(o.length);for(let st=0;st<o.length;st++)a[st]=o[st]/s;let $=new Array(o.length),j=new Array(o.length);$[0]=a[0],j[0]=1-$[0];for(let st=1;st<o.length;st++)$[st]=$[st-1]+a[st],j[st]=1-$[st];let _e=0;for(let st=0;st<o.length;st++)if(Math.abs($[st])>=Number.EPSILON){_e=st;break}let et=o.length-1;for(let st=o.length-1;st>=_e;st--)if(Math.abs(j[st])>=Number.EPSILON){et=st;break}let tt=-1,rt,nt=Number.MIN_VALUE,it,ot;for(let st=_e;st<=et;st++){it=0;for(let at=0;at<=st;at++)o[at]!==0&&(it-=a[at]/$[st]*Math.log(a[at]/$[st]));ot=0;for(let at=st+1;at<o.length;at++)o[at]!==0&&(ot-=a[at]/j[st]*Math.log(a[at]/j[st]));rt=it+ot,nt<rt&&(nt=rt,tt=st)}return tt}function mean$1(o,s){let a=0;for(let $=0;$<o.length;$++)a+=$*o[$];return Math.floor(a/s)}function minError(o,s){let a,$=-2,j,_e,et,tt,rt,nt,it,ot,st,at,lt,ft=0;for(let pt=0;pt<o.length;pt++)ft+=pt*o[pt];for(ft/=s,a=ft;a!==$;){let pt=sumA(o,a),ut=sumA(o,o.length-1),dt=sumB(o,a),ct=sumB(o,o.length-1),ht=sumC(o,a),mt=sumC(o,o.length-1);if(j=dt/pt,_e=(ct-dt)/(ut-pt),et=pt/ut,tt=(ut-pt)/ut,rt=ht/pt-j*j,nt=(mt-ht)/(ut-pt)-_e*_e,it=1/rt-1/nt,ot=j/rt-_e/nt,st=j*j/rt-_e*_e/nt+Math.log10(rt*(tt*tt)/(nt*(et*et))),at=ot*ot-it*st,at<0)return a;$=a,lt=(ot+Math.sqrt(at))/it,isNaN(lt)?a=$:a=Math.floor(lt)}return a}function sumA(o,s){let a=0;for(let $=0;$<=s;$++)a+=o[$];return a}function sumB(o,s){let a=0;for(let $=0;$<=s;$++)a+=$*o[$];return a}function sumC(o,s){let a=0;for(let $=0;$<=s;$++)a+=$*$*o[$];return a}function minimum(o){if(o.length<2)return 0;let s=0,a=-1,$=-1,j=new Array(o.length);for(let _e=0;_e<o.length;_e++)j[_e]=o[_e],o[_e]>0&&($=_e);for(;!bimodalTest(j);)if(j=smoothed(j),s++,s>1e4)return a;return a=minimumBetweenPeeks(j,$),a}function smoothed(o){let s=new Array(o.length);for(let a=1;a<o.length-1;a++)s[a]=(o[a-1]+o[a]+o[a+1])/3;return s[0]=(o[0]+o[1])/3,s[o.length-1]=(o[o.length-2]+o[o.length-1])/3,s}function minimumBetweenPeeks(o,s){let a;for(let $=1;$<s;$++)if(o[$-1]>o[$]&&o[$+1]>=o[$]){a=$;break}return a}function bimodalTest(o){let s=o.length,a=!1,$=0;for(let j=1;j<s-1;j++)if(o[j-1]<o[j]&&o[j+1]<o[j]&&($++,$>2))return!1;return $===2&&(a=!0),a}function moments(o,s){let a=1,$=0,j=0,_e=0,et=0,tt,rt,nt,it,ot,st,at=-1,lt=o.length,ft=new Array(lt);for(let pt=0;pt<lt;pt++)ft[pt]=o[pt]/s;for(let pt=0;pt<lt;pt++)$+=pt*ft[pt],j+=pt*pt*ft[pt],_e+=pt*pt*pt*ft[pt];rt=a*j-$*$,nt=(-j*j+$*_e)/rt,it=(a*-_e+j*$)/rt,ot=.5*(-it-Math.sqrt(it*it-4*nt)),st=.5*(-it+Math.sqrt(it*it-4*nt)),tt=(st-$)/(st-ot);for(let pt=0;pt<lt;pt++)if(et+=ft[pt],et>tt){at=pt;break}return at}function otsu(o,s){let a=0,$=0,j=0,_e=0,et=0;for(let tt=0;tt<o.length;tt++)et+=tt*o[tt];for(let tt=0;tt<o.length;tt++){$=$+o[tt];const rt=s-$;if($===0||rt===0)continue;a=a+tt*o[tt];const nt=(et-a)/rt,it=$*rt*(a/$-nt)*(a/$-nt);it>=j&&(_e=tt,j=it)}return _e}function percentile(o){let s=-1,a=.5,$=new Array(o.length),j=partialSum(o,o.length-1),_e=1;for(let et=0;et<o.length;et++)$[et]=Math.abs(partialSum(o,et)/j-a),$[et]<_e&&(_e=$[et],s=et);return s}function partialSum(o,s){let a=0;for(let $=0;$<=s;$++)a+=o[$];return a}function renyiEntropy(o,s){let a,$,j,_e=new Array(o.length),et=new Array(o.length),tt=new Array(o.length),rt=0,nt=0,it=0,ot=0,st=0,at=0,ft=1/(1-.5),ut=1/(1-2);for(let mt=0;mt<o.length;mt++)_e[mt]=o[mt]/s;et[0]=_e[0],tt[0]=1-et[0];for(let mt=1;mt<o.length;mt++)et[mt]=et[mt-1]+_e[mt],tt[mt]=1-et[mt];$=0;for(let mt=0;mt<o.length;mt++)if(Math.abs(et[mt])>=Number.EPSILON){$=mt;break}j=o.length-1;for(let mt=o.length-1;mt>=$;mt--)if(Math.abs(tt[mt])>=Number.EPSILON){j=mt;break}for(let mt=$;mt<=j;mt++){let vt=0,yt=0,xt=0;for(let Mt=0;Mt<=mt;Mt++)o[Mt]!==0&&(vt-=_e[Mt]/et[mt]*Math.log(_e[Mt]/et[mt])),yt+=Math.sqrt(_e[Mt]/et[mt]),xt+=_e[Mt]*_e[Mt]/(et[mt]*et[mt]);let bt=0,gt=0,wt=0;for(let Mt=mt+1;Mt<o.length;Mt++)o[Mt]!==0&&(bt-=_e[Mt]/tt[mt]*Math.log(_e[Mt]/tt[mt])),gt+=Math.sqrt(_e[Mt]/tt[mt]),wt+=_e[Mt]*_e[Mt]/(tt[mt]*tt[mt]);let Et=vt+bt,kt=ft*(yt*gt>0?Math.log(yt*gt):0),Ct=ut*(xt*wt>0?Math.log(xt*wt):0);Et>ot&&(ot=Et,rt=mt),kt>st&&(st=kt,nt=mt),Ct>at&&(at=Ct,it=mt)}let dt=[rt,nt,it];dt.sort((mt,vt)=>mt-vt);let ct;Math.abs(dt[0]-dt[1])<=5?Math.abs(dt[1]-dt[2])<=5?ct=[1,2,1]:ct=[0,1,3]:Math.abs(dt[1]-dt[2])<=5?ct=[3,1,0]:ct=[1,2,1];let ht=et[dt[2]]-et[dt[0]];return a=Math.round(dt[0]*(et[dt[0]]+.25*ht*ct[0])+.25*dt[1]*ht*ct[1]+dt[2]*(tt[dt[2]]+.25*ht*ct[2])),a}function shanbhag(o,s){let a=new Array(o.length);for(let at=0;at<o.length;at++)a[at]=o[at]/s;let $=new Array(o.length),j=new Array(o.length);$[0]=a[0],j[0]=1-$[0];for(let at=1;at<o.length;at++)$[at]=$[at-1]+a[at],j[at]=1-$[at];let _e=0;for(let at=0;at<o.length;at++)if(Math.abs($[at])>=Number.EPSILON){_e=at;break}let et=o.length-1;for(let at=o.length-1;at>=_e;at--)if(Math.abs(j[at])>=Number.EPSILON){et=at;break}let tt=-1,rt=Number.MAX_VALUE,nt,it,ot,st;for(let at=_e;at<=et;at++){ot=0,nt=.5/$[at];for(let lt=1;lt<=at;lt++)ot-=a[lt]*Math.log(1-nt*$[lt-1]);ot*=nt,st=0,nt=.5/j[at];for(let lt=at+1;lt<o.length;lt++)st-=a[lt]*Math.log(1-nt*j[lt]);st*=nt,it=Math.abs(ot-st),it<rt&&(rt=it,tt=at)}return tt}function triangle$1(o){let s=0,a=0,$=0,j=0;for(let ot=0;ot<o.length;ot++)if(o[ot]>0){s=ot;break}s>0&&s--;for(let ot=o.length-1;ot>0;ot--)if(o[ot]>0){j=ot;break}j<o.length-1&&j++;for(let ot=0;ot<o.length;ot++)o[ot]>a&&($=ot,a=o[ot]);let _e=!1;if($-s<j-$){_e=!0;let ot=0,st=o.length-1;for(;ot<st;){let at=o[ot];o[ot]=o[st],o[st]=at,ot++,st--}s=o.length-1-j,$=o.length-1-$}if(s===$)return s;let et,tt,rt;et=o[$],tt=s-$,rt=Math.sqrt(et*et+tt*tt),et/=rt,tt/=rt,rt=et*s+tt*o[s];let nt=s,it=0;for(let ot=s+1;ot<=$;ot++){let st=et*ot+tt*o[ot]-rt;st>it&&(nt=ot,it=st)}if(nt--,_e){let ot=0,st=o.length-1;for(;ot<st;){let at=o[ot];o[ot]=o[st],o[st]=at,ot++,st--}return o.length-1-nt}else return nt}function yen(o,s){let a=new Array(o.length);for(let nt=0;nt<o.length;nt++)a[nt]=o[nt]/s;let $=new Array(o.length);$[0]=a[0];for(let nt=1;nt<o.length;nt++)$[nt]=$[nt-1]+a[nt];let j=new Array(o.length);j[0]=a[0]*a[0];for(let nt=1;nt<o.length;nt++)j[nt]=j[nt-1]+a[nt]*a[nt];let _e=new Array(o.length);_e[o.length-1]=0;for(let nt=o.length-2;nt>=0;nt--)_e[nt]=_e[nt+1]+a[nt+1]*a[nt+1];let et=-1,tt=Number.MIN_VALUE,rt;for(let nt=0;nt<o.length;nt++)rt=-1*(j[nt]*_e[nt]>0?Math.log(j[nt]*_e[nt]):0)+2*($[nt]*(1-$[nt])>0?Math.log($[nt]*(1-$[nt])):0),rt>tt&&(tt=rt,et=nt);return et}const methods={huang,intermodes,isodata,li:li$1,maxentropy:maxEntropy,mean:mean$1,minerror:minError,minimum,moments,otsu,percentile,renyientropy:renyiEntropy,shanbhag,triangle:triangle$1,yen},names={};Object.keys(methods).forEach(o=>{names[o]=o});function getThreshold(o={}){let{algorithm:s=names.otsu}=o;this.checkProcessable("getThreshold",{components:1,bitDepth:[8,16]});let a=methods[s.toLowerCase()];if(a){let $=this.getHistogram();return a($,this.size)}else throw new Error(`unknown thresholding algorithm: ${s}`)}const THRESHOLD="threshold";function mask(o={}){let{algorithm:s=THRESHOLD,threshold:a=.5,useAlpha:$=!0,invert:j=!1}=o;this.checkProcessable("mask",{components:1,bitDepth:[8,16]}),s===THRESHOLD?a=getThreshold$1(a,this.maxValue):a=getThreshold.call(this,o);let _e=new Image(this.width,this.height,{kind:"BINARY",parent:this}),et=0;if(this.alpha&&$)for(let tt=0;tt<this.data.length;tt+=this.channels){let rt=this.data[tt]+(this.maxValue-this.data[tt])*(this.maxValue-this.data[tt+1])/this.maxValue;(j&&rt<=a||!j&&rt>=a)&&_e.setBit(et),et++}else for(let tt=0;tt<this.data.length;tt+=this.channels)(j&&this.data[tt]<=a||!j&&this.data[tt]>=a)&&_e.setBit(et),et++;return _e}function copyImage(o,s,a,$){let j=o.width,_e=o.height,et=s.width,tt=o.channels;for(let rt=0;rt<j;rt++)for(let nt=0;nt<_e;nt++)for(let it=0;it<tt;it++){let ot=(nt*j+rt)*tt+it,st=(($+nt)*et+a+rt)*tt+it;s.data[st]=o.data[ot]}}function pad(o={}){let{size:s=0,algorithm:a="copy",color:$}=o;if(this.checkProcessable("pad",{bitDepth:[8,16]}),a==="set"){if($.length!==this.channels)throw new Error(`pad: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let rt=0;rt<$.length;rt++)$[rt]===0&&($[rt]=.001)}else $=newArray$1(this.channels,null);Array.isArray(s)||(s=[s,s]);let j=this.width+s[0]*2,_e=this.height+s[1]*2,et=this.channels,tt=Image.createFrom(this,{width:j,height:_e});copyImage(this,tt,s[0],s[1]);for(let rt=s[0];rt<j-s[0];rt++)for(let nt=0;nt<et;nt++){let it=$[nt]||tt.data[(s[1]*j+rt)*et+nt];for(let ot=0;ot<s[1];ot++)tt.data[(ot*j+rt)*et+nt]=it;it=$[nt]||tt.data[((_e-s[1]-1)*j+rt)*et+nt];for(let ot=_e-s[1];ot<_e;ot++)tt.data[(ot*j+rt)*et+nt]=it}for(let rt=0;rt<_e;rt++)for(let nt=0;nt<et;nt++){let it=$[nt]||tt.data[(rt*j+s[0])*et+nt];for(let ot=0;ot<s[0];ot++)tt.data[(rt*j+ot)*et+nt]=it;it=$[nt]||tt.data[(rt*j+j-s[0]-1)*et+nt];for(let ot=j-s[0];ot<j;ot++)tt.data[(rt*j+ot)*et+nt]=it}return tt}function colorDepth(o=8){if(this.checkProcessable("colorDepth",{bitDepth:[1,8,16]}),![8,16].includes(o))throw Error("You need to specify the new colorDepth as 8 or 16");if(this.bitDepth===o)return this.clone();let s=Image.createFrom(this,{bitDepth:o});switch(o){case 8:if(this.bitDepth===1)for(let a=0;a<this.size;a++)this.getBit(a)&&(s.data[a]=255);else for(let a=0;a<this.data.length;a++)s.data[a]=this.data[a]>>8;break;case 16:if(this.bitDepth===1)for(let a=0;a<this.size;a++)this.getBit(a)&&(s.data[a]=65535);else for(let a=0;a<this.data.length;a++)s.data[a]=this.data[a]<<8|this.data[a];break;default:throw new Error("colorDepth conversion unexpected case")}return s}function rotateFree(o,s={}){const{interpolation:a=validInterpolations.nearestneighbor,width:$=this.width,height:j=this.height}=s;if(typeof o!="number")throw new TypeError("degrees must be a number");const _e=checkInterpolation(a),et=o*Math.PI/180,tt=Math.floor(Math.abs($*Math.cos(et))+Math.abs(j*Math.sin(et))),rt=Math.floor(Math.abs(j*Math.cos(et))+Math.abs($*Math.sin(et))),nt=Math.cos(-et),it=Math.sin(-et);let ot=tt/2,st=rt/2;tt%2===0?(ot=ot-.5,rt%2===0?st=st-.5:st=Math.floor(st)):(ot=Math.floor(ot),rt%2===0?st=st-.5:st=Math.floor(st));const at=Math.floor($/2-ot),lt=Math.floor(j/2-st);if(this.bitDepth===1){const ft=new Image(tt,rt,{kind:"BINARY",parent:this});switch(_e){case validInterpolations.nearestneighbor:return rotateBinaryNearestNeighbor(this,ft,at,lt,ot,st,nt,it);case validInterpolations.bilinear:return rotateBinaryBilinear(this,ft,at,lt,ot,st,nt,it);default:throw new Error(`unsupported rotate interpolation: ${_e}`)}}else{const ft=Image.createFrom(this,{width:tt,height:rt});switch(_e){case validInterpolations.nearestneighbor:return rotateNearestNeighbor(this,ft,at,lt,ot,st,nt,it);case validInterpolations.bilinear:return rotateBilinear(this,ft,at,lt,ot,st,nt,it);default:throw new Error(`unsupported rotate interpolation: ${_e}`)}}}function rotateNearestNeighbor(o,s,a,$,j,_e,et,tt){for(let rt=0;rt<s.width;rt+=1)for(let nt=0;nt<s.height;nt+=1)for(let it=0;it<o.channels;it++){let ot=Math.round((rt-j)*et-(nt-_e)*tt+j)+a,st=Math.round((nt-_e)*et+(rt-j)*tt+_e)+$;ot<0||ot>=o.width||st<0||st>=o.height?o.alpha===1&&it===o.channels-1?s.setValueXY(rt,nt,it,0):s.setValueXY(rt,nt,it,o.maxValue):s.setValueXY(rt,nt,it,o.getValueXY(ot,st,it))}return s}function rotateBinaryNearestNeighbor(o,s,a,$,j,_e,et,tt){for(let rt=0;rt<s.width;rt+=1)for(let nt=0;nt<s.height;nt+=1){let it=Math.round((rt-j)*et-(nt-_e)*tt+j)+a,ot=Math.round((nt-_e)*et+(rt-j)*tt+_e)+$;(it<0||it>=o.width||ot<0||ot>=o.height||o.getBitXY(it,ot))&&s.setBitXY(rt,nt)}return s}function rotateBilinear(o,s,a,$,j,_e,et,tt){let rt=o.width*o.channels;for(let nt=0;nt<s.height;nt++)for(let it=0;it<s.width;it++){let ot=(it-j)*et-(nt-_e)*tt+j+a,st=(nt-_e)*et+(it-j)*tt+_e+$,at=ot|0,lt=st|0,ft=ot-at,pt=st-lt;for(let ut=0;ut<o.channels;ut++)if(ot<0||ot>=o.width||st<0||st>=o.height)o.alpha===1&&ut===o.channels-1?s.setValueXY(it,nt,ut,0):s.setValueXY(it,nt,ut,o.maxValue);else{let dt=(lt*o.width+at)*o.channels+ut,ct=o.data[dt],ht=o.data[dt+o.channels],mt=o.data[dt+rt],vt=o.data[dt+rt+o.channels],yt=ct+ft*(ht-ct)+pt*(mt-ct)+ft*pt*(ct-ht-mt+vt)|0;s.setValueXY(it,nt,ut,yt)}}return s}function rotateBinaryBilinear(o,s,a,$,j,_e,et,tt){let rt=o.width;for(let nt=0;nt<s.height;nt++)for(let it=0;it<s.width;it++){let ot=(it-j)*et-(nt-_e)*tt+j+a,st=(nt-_e)*et+(it-j)*tt+_e+$,at=ot|0,lt=st|0,ft=ot-at,pt=st-lt;if(ot<0||ot>=o.width||st<0||st>=o.height)s.setBitXY(it,nt);else{let ut=lt*o.width+at,dt=o.getBit(ut),ct=o.getBit(ut+1),ht=o.getBit(ut+rt),mt=o.getBit(ut+1+rt);(dt|ft&ct-dt|pt&ht-dt|ft&pt&dt-ct-ht+mt)>0&&s.setBitXY(it,nt)}}return s}function rotate$1(o,s){if(this.checkProcessable("rotate",{bitDepth:[1,8,16]}),typeof o!="number")throw new TypeError("angle must be a number");switch(o<0&&(o=Math.ceil(-o/360)*360+o),o%360){case 0:return this.clone();case 90:return rotateRight.call(this);case 180:return rotate180.call(this);case 270:return rotateLeft.call(this);default:return rotateFree.call(this,o,s)}}function rotateLeft(){if(this.bitDepth===1){const o=new Image(this.height,this.width,{kind:"BINARY",parent:this}),s=o.height-1;for(let a=0;a<this.height;a++)for(let $=0;$<this.width;$++)this.getBitXY($,a)&&o.setBitXY(a,s-$);return o}else{const o=Image.createFrom(this,{width:this.height,height:this.width}),s=o.height-1;for(let a=0;a<this.height;a++)for(let $=0;$<this.width;$++)for(let j=0;j<this.channels;j++)o.setValueXY(a,s-$,j,this.getValueXY($,a,j));return o}}function rotateRight(){if(this.bitDepth===1){const o=new Image(this.height,this.width,{kind:"BINARY",parent:this}),s=o.width-1;for(let a=0;a<this.height;a++)for(let $=0;$<this.width;$++)this.getBitXY($,a)&&o.setBitXY(s-a,$);return o}else{const o=Image.createFrom(this,{width:this.height,height:this.width}),s=o.width-1;for(let a=0;a<this.height;a++)for(let $=0;$<this.width;$++)for(let j=0;j<this.channels;j++)o.setValueXY(s-a,$,j,this.getValueXY($,a,j));return o}}function rotate180(){if(this.bitDepth===1){const o=new Image(this.width,this.height,{kind:"BINARY",parent:this}),s=o.width-1,a=o.height-1;for(let $=0;$<this.height;$++)for(let j=0;j<this.width;j++)this.getBitXY(j,$)&&o.setBitXY(s-j,a-$);return o}else{const o=Image.createFrom(this),s=o.width-1,a=o.height-1;for(let $=0;$<this.height;$++)for(let j=0;j<this.width;j++)for(let _e=0;_e<this.channels;_e++)o.setValueXY(s-j,a-$,_e,this.getValueXY(j,$,_e));return o}}function insert(o,s={}){const a=getImageParameters(o);this.checkProcessable("insert",a);let{x:$=0,y:j=0}=s;const _e=getOutputImageOrInPlace(this,s,{copy:!0}),et=Math.min(_e.height,j+o.height),tt=Math.min(_e.width,$+o.width);if(_e.bitDepth===1)for(let rt=j;rt<et;rt++)for(let nt=$;nt<tt;nt++)o.getBitXY(nt-$,rt-j)?_e.setBitXY(nt,rt):_e.clearBitXY(nt,rt);else for(let rt=j;rt<et;rt++)for(let nt=$;nt<tt;nt++)_e.setPixelXY(nt,rt,o.getPixelXY(nt-$,rt-j));return _e}function setBorder(o={}){let{size:s=0,algorithm:a="copy",color:$}=o;if(this.checkProcessable("setBorder",{bitDepth:[8,16,32,64]}),a==="set"){if($.length!==this.channels)throw new Error(`setBorder: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let tt=0;tt<$.length;tt++)$[tt]===0&&($[tt]=.001)}else $=newArray$1(this.channels,null);Array.isArray(s)||(s=[s,s]);let j=s[0],_e=s[1],et=this.channels;for(let tt=j;tt<this.width-j;tt++)for(let rt=0;rt<et;rt++){let nt=$[rt]||this.data[(tt+this.width*_e)*et+rt];for(let it=0;it<_e;it++)this.data[(it*this.width+tt)*et+rt]=nt;nt=$[rt]||this.data[(tt+this.width*(this.height-_e-1))*et+rt];for(let it=this.height-_e;it<this.height;it++)this.data[(it*this.width+tt)*et+rt]=nt}for(let tt=0;tt<this.height;tt++)for(let rt=0;rt<et;rt++){let nt=$[rt]||this.data[(tt*this.width+j)*et+rt];for(let it=0;it<j;it++)this.data[(tt*this.width+it)*et+rt]=nt;nt=$[rt]||this.data[(tt*this.width+this.width-j-1)*et+rt];for(let it=this.width-j;it<this.width;it++)this.data[(tt*this.width+it)*et+rt]=nt}return this}function split(o={}){let{preserveAlpha:s=!0}=o;if(this.checkProcessable("split",{bitDepth:[8,16]}),this.components===1)return new Stack([this.clone()]);let a=new Stack,$=this.data;if(this.alpha&&s)for(let j=0;j<this.components;j++){let _e=Image.createFrom(this,{components:1,alpha:!0,colorModel:GREY$1}),et=0;for(let tt=0;tt<$.length;tt+=this.channels)_e.data[et++]=$[tt+j],_e.data[et++]=$[tt+this.components];a.push(_e)}else for(let j=0;j<this.channels;j++){let _e=Image.createFrom(this,{components:1,alpha:!1,colorModel:GREY$1}),et=0;for(let tt=0;tt<$.length;tt+=this.channels)_e.data[et++]=$[tt+j];a.push(_e)}return a}function getChannel(o,s={}){let{keepAlpha:a=!1,mergeAlpha:$=!1}=s;a&=this.alpha,$&=this.alpha,this.checkProcessable("getChannel",{bitDepth:[8,16]}),o=validateChannel(this,o);let j=Image.createFrom(this,{components:1,alpha:a,colorModel:GREY$1}),_e=0;for(let et=0;et<this.data.length;et+=this.channels)$?j.data[_e++]=this.data[et+o]*this.data[et+this.components]/this.maxValue:(j.data[_e++]=this.data[et+o],a&&(j.data[_e++]=this.data[et+this.components]));return j}function combineChannels(o=defaultCombineMethod,s={}){let{mergeAlpha:a=!1,keepAlpha:$=!1}=s;a&=this.alpha,$&=this.alpha,this.checkProcessable("combineChannels",{bitDepth:[8,16]});let j=Image.createFrom(this,{components:1,alpha:$,colorModel:GREY$1}),_e=0;for(let et=0;et<this.size;et++){let tt=o(this.getPixel(et));a?j.data[_e++]=tt*this.data[et*this.channels+this.components]/this.maxValue:(j.data[_e++]=tt,$&&(j.data[_e++]=this.data[et*this.channels+this.components]))}return j}function defaultCombineMethod(o){return(o[0]+o[1]+o[2])/3}function setChannel(o,s){if(this.checkProcessable("setChannel",{bitDepth:[8,16]}),s.checkProcessable("setChannel (image parameter check)",{bitDepth:[this.bitDepth],alpha:[0],components:[1]}),s.width!==this.width||s.height!==this.height)throw new Error("Images must have exactly the same width and height");o=validateChannel(this,o);let a=o;for(let $=0;$<s.data.length;$++)this.data[a]=s.data[$],a+=this.channels;return this}function getSimilarity(o,s={}){let{shift:a=[0,0],average:$,channels:j,defaultAlpha:_e,normalize:et,border:tt=[0,0]}=s;if(this.checkProcessable("getSimilarity",{bitDepth:[8,16]}),Array.isArray(tt)||(tt=[tt,tt]),j=validateArrayOfChannels(this,{channels:j,defaultAlpha:_e}),this.bitDepth!==o.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==o.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==o.colorModel)throw new Error("Both images must have the same colorModel");typeof $>"u"&&($=!0);let rt=Math.max(tt[0],-a[0]),nt=Math.min(this.width-tt[0],this.width-a[0]),it=Math.max(tt[1],-a[1]),ot=Math.min(this.height-tt[1],this.height-a[1]),st=newArray$1(j.length,0);for(let at=0;at<j.length;at++){let lt=j[at],ft=et?this.sum[lt]:Math.max(this.sum[lt],o.sum[lt]),pt=et?o.sum[lt]:Math.max(this.sum[lt],o.sum[lt]);if(ft!==0&&pt!==0)for(let ut=rt;ut<nt;ut++)for(let dt=it;dt<ot;dt++){let ct=ut*this.multiplierX+dt*this.multiplierY+lt,ht=ct+a[0]*this.multiplierX+a[1]*this.multiplierY;st[at]+=Math.min(this.data[ct]/ft,o.data[ht]/pt)}}return $?st.reduce((at,lt)=>at+lt)/st.length:st}function getPixelsGrid(o={}){let{sampling:s=[10,10],painted:a=!1,mask:$}=o;this.checkProcessable("getPixelsGrid",{bitDepth:[8,16],channels:1}),Array.isArray(s)||(s=[s,s]);const j=s[0],_e=s[1],et=[],tt=[],rt=this.width/j,nt=this.height/_e;let it=Math.floor(rt/2);for(let st=0;st<j;st++){let at=Math.floor(nt/2);for(let lt=0;lt<_e;lt++){let ft=Math.round(it),pt=Math.round(at);(!$||$.getBitXY(ft,pt))&&(et.push([ft,pt]),tt.push(this.getPixelXY(ft,pt))),at+=nt}it+=rt}const ot={xyS:et,zS:tt};return a&&(ot.painted=this.rgba8().paintPoints(et)),ot}function Matrix(o,s,a){const $=new Array(o);for(let j=0;j<o;j++)$[j]=new Array(s);if(a)for(let j=0;j<o;j++)for(let _e=0;_e<s;_e++)$[j][_e]=a;return $.width=o,$.height=s,Object.setPrototypeOf($,Matrix.prototype),$}Matrix.prototype.localMin=function(o,s){let a=this[o][s],$=[o,s];for(let j=Math.max(0,o-1);j<Math.min(this.length,o+2);j++)for(let _e=Math.max(0,s-1);_e<Math.min(this[0].length,s+2);_e++)this[j][_e]<a&&(a=this[j][_e],$=[j,_e]);return{position:$,value:a}};Matrix.prototype.localMax=function(o,s){let a=this[o][s],$=[o,s];for(let j=Math.max(0,o-1);j<Math.min(this.length,o+2);j++)for(let _e=Math.max(0,s-1);_e<Math.min(this[0].length,s+2);_e++)this[j][_e]>a&&(a=this[j][_e],$=[j,_e]);return{position:$,value:a}};Matrix.prototype.localSearch=function(o,s,a){let $=[];for(let j=Math.max(0,o-1);j<Math.min(this.length,o+2);j++)for(let _e=Math.max(0,s-1);_e<Math.min(this[0].length,s+2);_e++)this[j][_e]===a&&$.push([j,_e]);return $};function getBestMatch(o,s={}){let{border:a}=s;if(this.checkProcessable("getChannel",{bitDepth:[8,16]}),this.bitDepth!==o.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==o.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==o.colorModel)throw new Error("Both images must have the same colorModel");let $=new Matrix(o.width,o.height,-1/0),j=Math.floor(o.width/2),_e=Math.floor(o.height/2),et=j,tt=_e,rt=!1;for(;!rt;){let nt=$.localSearch(j,_e,-1/0);for(let ot=0;ot<nt.length;ot++){let st=nt[ot],at=this.getSimilarity(o,{border:a,shift:[et-st[0],tt-st[1]]});$[st[0]][st[1]]=at}let it=$.localMax(j,_e);it.position[0]!==j||it.position[1]!==_e?(j=it.position[0],_e=it.position[1]):rt=!0}return[j-et,_e-tt]}function getRow(o,s=0){this.checkProcessable("getRow",{bitDepth:[8,16]}),checkRow(this,o),checkChannel(this,s);let a=new Array(this.width),$=0,j=o*this.width*this.channels+s,_e=j+this.width*this.channels;for(let et=j;et<_e;et+=this.channels)a[$++]=this.data[et];return a}function getColumn(o,s=0){this.checkProcessable("getColumn",{bitDepth:[8,16]}),checkColumn(this,o),checkChannel(this,s);let a=new Array(this.height),$=0,j=this.width*this.channels;for(let _e=s+o*this.channels;_e<this.data.length;_e+=j)a[$++]=this.data[_e];return a}function getMatrix(o={}){let{channel:s}=o;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),s===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");s=0}let a=new Matrix$2(this.height,this.width);for(let $=0;$<this.height;$++)for(let j=0;j<this.width;j++)a.set($,j,this.getValueXY(j,$,s));return a}function setMatrix(o,s={}){o=new Matrix$2(o);let{channel:a}=s;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),a===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");a=0}if(this.width!==o.columns||this.height!==o.rows)throw new RangeError("The size of the matrix must be equal to the size of the image");for(let $=0;$<this.height;$++)for(let j=0;j<this.width;j++)this.setValueXY(j,$,a,o.get($,j));return this}function getPixelsArray(){this.checkProcessable("getPixelsArray",{bitDepth:[8,16,32]});let o=new Array(this.size),s=0;for(let a=0;a<this.data.length;a+=this.channels){let $=new Array(this.components);for(let j=0;j<this.components;j++)$[j]=this.data[a+j];o[s++]=$}return o}function getIntersection(o){let s=this,a=s.getClosestCommonParent(o),$=s.getRelativePosition(a,{defaultFurther:!0}),j=getRelativePositionForAllPixels(s,$),_e=o.getRelativePosition(a,{defaultFurther:!0}),et=getRelativePositionForAllPixels(o,_e),tt=getCommonSurface(j,et),rt={whitePixelsMask1:[],whitePixelsMask2:[],commonWhitePixels:[]};for(let nt=0;nt<tt.length;nt++){let it=tt[nt],ot=[it[0]-$[0],it[1]-$[1]],st=[it[0]-_e[0],it[1]-_e[1]],at=s.getBitXY(ot[0],ot[1]),lt=o.getBitXY(st[0],st[1]);at===1&&lt===1&&rt.commonWhitePixels.push(it)}for(let nt=0;nt<j.length;nt++){let it,ot;nt!==0&&(it=Math.floor(nt/s.width),ot=nt%s.width),s.getBitXY(it,ot)===1&&rt.whitePixelsMask1.push(j[nt])}for(let nt=0;nt<et.length;nt++){let it=0,ot=0;nt!==0&&(it=Math.floor(nt/o.width),ot=nt%o.width),o.getBitXY(it,ot)===1&&rt.whitePixelsMask2.push(et[nt])}return rt}function getRelativePositionForAllPixels(o,s){let a=[];for(let $=0;$<o.height;$++)for(let j=0;j<o.width;j++){let _e=[$,j];a.push([_e[0]+s[0],_e[1]+s[1]])}return a}function getCommonSurface(o,s){let a=0,$=0,j=[];for(;a<o.length&&$<s.length;)o[a][0]===s[$][0]&&o[a][1]===s[$][1]?(j.push(o[a]),a++,$++):o[a][0]<s[$][0]||o[a][0]===s[$][0]&&o[a][1]<s[$][1]?a++:$++;return j}function getClosestCommonParent(o){let s=getDepth(this),a=getDepth(o),$;if(s>=a?$=getFurthestParent(this,s):$=getFurthestParent(o,a),s===0||a===0)return $;let j=this,_e=o;for(;s!==a;)if(s>a){if(j=j.parent,j===null)return $;s=s-1}else{if(_e=_e.parent,_e===null)return $;a=a-1}for(;j!==_e&&j!==null&&_e!==null;)if(j=j.parent,_e=_e.parent,j===null||_e===null)return $;return j!==_e?$:j}function getDepth(o){let s=0,a=o;for(;a.parent!=null;)a=a.parent,s++;return s}function getFurthestParent(o,s){let a=o;for(;s>0;)a=a.parent,s=s-1;return a}const defaultOptions$2={lowThreshold:10,highThreshold:30,gaussianBlur:1.1},Gx=[[-1,0,1],[-2,0,2],[-1,0,1]],Gy=[[-1,-2,-1],[0,0,0],[1,2,1]],convOptions={bitDepth:32,mode:"periodic"};function cannyEdgeDetector(o,s){o.checkProcessable("Canny edge detector",{bitDepth:8,channels:1,components:1}),s=Object.assign({},defaultOptions$2,s);const a=o.width,$=o.height,j=o.maxValue,_e={sigma:s.gaussianBlur,radius:3},et=o.gaussianFilter(_e),tt=et.convolution(Gy,convOptions),rt=et.convolution(Gx,convOptions),nt=rt.hypotenuse(tt),it=o.constructor,ot=new it(a,$,{kind:"GREY",bitDepth:32}),st=new it(a,$,{kind:"GREY",bitDepth:32}),at=new it(a,$,{kind:"GREY"});for(var lt=1;lt<a-1;lt++)for(var ft=1;ft<$-1;ft++){var pt=(Math.round(Math.atan2(rt.getValueXY(lt,ft,0),tt.getValueXY(lt,ft,0))*(5/Math.PI))+5)%5;pt===0&&(nt.getValueXY(lt,ft,0)<=nt.getValueXY(lt,ft-1,0)||nt.getValueXY(lt,ft,0)<=nt.getValueXY(lt,ft+1,0))||pt===1&&(nt.getValueXY(lt,ft,0)<=nt.getValueXY(lt-1,ft+1,0)||nt.getValueXY(lt,ft,0)<=nt.getValueXY(lt+1,ft-1,0))||pt===2&&(nt.getValueXY(lt,ft,0)<=nt.getValueXY(lt-1,ft,0)||nt.getValueXY(lt,ft,0)<=nt.getValueXY(lt+1,ft,0))||pt===3&&(nt.getValueXY(lt,ft,0)<=nt.getValueXY(lt-1,ft-1,0)||nt.getValueXY(lt,ft,0)<=nt.getValueXY(lt+1,ft+1,0))||ot.setValueXY(lt,ft,0,nt.getValueXY(lt,ft,0))}for(lt=0;lt<a*$;++lt){var ut=ot.data[lt],dt=0;ut>s.highThreshold&&(dt++,at.data[lt]=j),ut>s.lowThreshold&&dt++,st.data[lt]=dt}var ct=[];for(lt=1;lt<a-1;++lt)for(ft=1;ft<$-1;++ft)if(st.getValueXY(lt,ft,0)===1){e:for(var ht=lt-1;ht<lt+2;++ht)for(var mt=ft-1;mt<ft+2;++mt)if(st.getValueXY(ht,mt,0)===2){ct.push([lt,ft]),at.setValueXY(lt,ft,0,j);break e}}for(;ct.length>0;){var vt=[];for(lt=0;lt<ct.length;++lt)for(ft=-1;ft<2;++ft)for(ht=-1;ht<2;++ht)if(!(ft===0&&ht===0)){var yt=ct[lt][0]+ft,xt=ct[lt][1]+ht;st.getValueXY(yt,xt,0)===1&&at.getValueXY(yt,xt,0)===0&&(vt.push([yt,xt]),at.setValueXY(yt,xt,0,j))}ct=vt}return at}function cannyEdge(o){return cannyEdgeDetector(this,o)}function extract(o,s={}){let{position:a}=s;if(this.checkProcessable("extract",{bitDepth:[1,8,16]}),!a&&(a=o.getRelativePosition(this),!a))throw new Error("extract : can not extract an image because the relative position can not be determined, try to specify manually the position as an array of 2 elements [x,y].");if(this.bitDepth>1){let $=Image.createFrom(this,{width:o.width,height:o.height,alpha:1,position:a,parent:this});for(let j=0;j<o.width;j++)for(let _e=0;_e<o.height;_e++){for(let et=0;et<this.channels;et++){let tt=this.getValueXY(j+a[0],_e+a[1],et);$.setValueXY(j,_e,et,tt)}o.getBitXY(j,_e)||$.setValueXY(j,_e,this.components,0)}return $}else{let $=Image.createFrom(this,{width:o.width,height:o.height,position:a,parent:this});for(let j=0;j<o.height;j++)for(let _e=0;_e<o.width;_e++)o.getBitXY(_e,j)&&this.getBitXY(_e+a[0],j+a[1])&&$.setBitXY(_e,j);return $}}var fastList={exports:{}};(function(o,s){(function(){function a(j,_e,et){this.next=et,et&&(et.prev=this),this.prev=_e,_e&&(_e.next=this),this.data=j}function $(){if(!(this instanceof $))return new $;this._head=null,this._tail=null,this.length=0}$.prototype={push:function(j){this._tail=new a(j,this._tail,null),this._head||(this._head=this._tail),this.length++},pop:function(){if(this.length!==0){var j=this._tail;return this._tail=j.prev,j.prev&&(j.prev=this._tail.next=null),this.length--,this.length===1?this._head=this._tail:this.length===0&&(this._head=this._tail=null),j.data}},unshift:function(j){this._head=new a(j,null,this._head),this._tail||(this._tail=this._head),this.length++},shift:function(){if(this.length!==0){var j=this._head;return this._head=j.next,j.next&&(j.next=this._head.prev=null),this.length--,this.length===1?this._tail=this._head:this.length===0&&(this._head=this._tail=null),j.data}},item:function(j){j<0&&(j=this.length+j);for(var _e=this._head;j-- >0&&_e;)_e=_e.next;return _e?_e.data:void 0},slice:function(j,_e){if(j||(j=0),_e||(_e=this.length),_e<0&&(_e=this.length+_e),j<0&&(j=this.length+j),_e===j)return[];if(_e<j)throw new Error("invalid offset: "+j+","+_e+" (length="+this.length+")");for(var et=_e-j,tt=new Array(et),rt=0,nt=this._head;j-- >0&&nt;)nt=nt.next;for(;rt<et&&nt;)tt[rt++]=nt.data,nt=nt.next;return tt},drop:function(){$.call(this)},forEach:function(j,_e){for(var et=this._head,tt=0,rt=this.length;tt<rt&&et;)j.call(_e||this,et.data,tt,this),et=et.next,tt++},map:function(j,_e){var et=new $;return this.forEach(function(tt,rt,nt){et.push(j.call(_e||nt,tt,rt,nt))}),et},filter:function(j,_e){var et=new $;return this.forEach(function(tt,rt,nt){j.call(_e||nt,tt,rt,nt)&&et.push(tt)}),et},reduce:function(j,_e,et){var tt=0,rt=this._head,nt=this.length;for(_e||(tt=1,_e=rt&&rt.data,rt=rt&&rt.next);tt<nt&&rt;)_e=j.call(et||this,_e,rt.data,this),tt++,rt=rt.next;return _e}},o.exports=$})()})(fastList);var fastListExports=fastList.exports;const LinkedList=getDefaultExportFromCjs(fastListExports);function floodFill(o={}){const{x:s=0,y:a=0,inPlace:$=!0}=o,j=$?this:Image.createFrom(this);if(this.checkProcessable("floodFill",{bitDepth:1}),this.getBitXY(s,a))return j;const et=new LinkedList;for(et.push(new Node(s,a));et.length>0;){const tt=et.shift();j.setBitXY(tt.x,tt.y);for(let rt=tt.x+1;rt<this.width&&(!j.getBitXY(rt,tt.y)&&!this.getBitXY(rt,tt.y));rt++)j.setBitXY(rt,tt.y),tt.y+1<this.height&&!this.getBitXY(rt,tt.y+1)&&et.push(new Node(rt,tt.y+1)),tt.y-1>=0&&!this.getBitXY(rt,tt.y-1)&&et.push(new Node(rt,tt.y-1));for(let rt=tt.x-1;rt>=0&&(!j.getBitXY(rt,tt.y)&&!this.getBitXY(rt,tt.y));rt++)j.setBitXY(rt,tt.y),tt.y+1<this.height&&!this.getBitXY(rt,tt.y+1)&&et.push(new Node(rt,tt.y+1)),tt.y-1>=0&&!this.getBitXY(rt,tt.y-1)&&et.push(new Node(rt,tt.y-1))}return j}function Node(o,s){this.x=o,this.y=s}function _extends(){return _extends=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var $ in a)Object.prototype.hasOwnProperty.call(a,$)&&(o[$]=a[$])}return o},_extends.apply(this,arguments)}function hsv2rgb(o,s,a){s=s/100,a=a/100;var $=[],j=a*s,_e=o/60,et=j*(1-Math.abs(_e%2-1)),tt=a-j;return _e>=0&&_e<1?$=[j,et,0]:_e>=1&&_e<2?$=[et,j,0]:_e>=2&&_e<3?$=[0,j,et]:o>=3&&_e<4?$=[0,et,j]:o>=4&&_e<5?$=[et,0,j]:o>=5&&_e<=6?$=[j,0,et]:$=[0,0,0],{r:Math.round(255*($[0]+tt)),g:Math.round(255*($[1]+tt)),b:Math.round(255*($[2]+tt))}}function hsl2hsv(o,s,a){return s*=(a<50?a:100-a)/100,{h:o,s:2*s/(a+s)*100,v:a+s}}function hsl2rgb$1(o,s,a){var $=hsl2hsv(o,s,a);return hsv2rgb($.h,$.s,$.v)}var colors={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]};function parse$1(o){return named(o)||hex3(o)||hex6(o)||rgb(o)||rgba$1(o)||hsl(o)||hsla(o)}function named(o){var s=colors[o.toLowerCase()];if(s)return{r:s[0],g:s[1],b:s[2],a:100}}function rgb(o){var s=o.match(/rgb\(([^)]+)\)/);if(s){var a=s[1].split(/ *, */).map(Number);return{r:a[0],g:a[1],b:a[2],a:100}}}function rgba$1(o){var s=o.match(/rgba\(([^)]+)\)/);if(s){var a=s[1].split(/ *, */).map(Number);return{r:a[0],g:a[1],b:a[2],a:a[3]*100}}}function hex6(o){if(o[0]==="#"&&o.length===7)return{r:parseInt(o.slice(1,3),16),g:parseInt(o.slice(3,5),16),b:parseInt(o.slice(5,7),16),a:100}}function hex3(o){if(o[0]==="#"&&o.length===4)return{r:parseInt(o[1]+o[1],16),g:parseInt(o[2]+o[2],16),b:parseInt(o[3]+o[3],16),a:100}}function hsl(o){var s=o.match(/hsl\(([^)]+)\)/);if(s){var a=s[1].split(/ *, */),$=parseInt(a[0],10),j=parseInt(a[1],10),_e=parseInt(a[2],10),et=hsl2rgb$1($,j,_e);return _extends({},et,{a:100})}}function hsla(o){var s=o.match(/hsla\(([^)]+)\)/);if(s){var a=s[1].split(/ *, */),$=parseInt(a[0],10),j=parseInt(a[1],10),_e=parseInt(a[2],10),et=parseInt(parseFloat(a[3])*100,10),tt=hsl2rgb$1($,j,_e);return _extends({},tt,{a:et})}}function css2array(o){let s=parse$1(o);return[s.r,s.g,s.b,Math.round(s.a*255/100)]}function hue2rgb(o,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?o+(s-o)*6*a:a<1/2?s:a<2/3?o+(s-o)*(2/3-a)*6:o}function hsl2rgb(o,s,a){let $,j,_e,et,tt,rt;return s/=100,a/=100,s===0?et=tt=rt=a*255:(a<=.5?j=a*(s+1):j=a+s-a*s,$=a*2-j,_e=o/360,et=hue2rgb($,j,_e+1/3),tt=hue2rgb($,j,_e),rt=hue2rgb($,j,_e-1/3)),{r:et,g:tt,b:rt}}function getDistinctColors(o){let s=new Array(o),a=0;for(let $=0;$<360;$+=360/o){a++;let j=hsl2rgb($,100,30+a%4*15);s[a-1]=[Math.round(j.r*255),Math.round(j.g*255),Math.round(j.b*255)]}return s}function getRandomColor(){return[Math.floor(Math.random()*256),Math.floor(Math.random()*256),Math.floor(Math.random()*256)]}function getColors(o){let{color:s,colors:a,randomColors:$,numberColors:j=50}=o;if(s&&!Array.isArray(s)&&(s=css2array(s)),s)return[s];if(a)return a=a.map(function(_e){return Array.isArray(_e)?_e:css2array(_e)}),a;if($){a=new Array(j);for(let _e=0;_e<j;_e++)a[_e]=getRandomColor()}return getDistinctColors(j)}function paintLabels(o,s,a={}){let{color:$="blue",colors:j,font:_e="12px Helvetica",rotate:et=0}=a;if(this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:RGB$1}),!Array.isArray(o))throw Error("paintLabels: labels must be an array");if(!Array.isArray(s))throw Error("paintLabels: positions must be an array");if($&&!Array.isArray($)&&($=css2array($)),j?j=j.map(function(nt){return Array.isArray(nt)?nt:css2array(nt)}):j=[$],o.length!==s.length)throw Error("paintLabels: positions and labels must be arrays from the same size");Array.isArray(_e)||(_e=[_e]),Array.isArray(et)||(et=[et]);let rt=this.getCanvas().getContext("2d");for(let nt=0;nt<o.length;nt++){rt.save();let it=j[nt%j.length];rt.fillStyle=`rgba(${it[0]},${it[1]},${it[2]},${it[3]/this.maxValue})`,rt.font=_e[nt%_e.length];let ot=s[nt];rt.translate(ot[0],ot[1]),rt.rotate(et[nt%et.length]/180*Math.PI),rt.fillText(o[nt],0,0),rt.restore()}return this.data=Uint8Array.from(rt.getImageData(0,0,this.width,this.height).data),this}function paintMasks(o,s={}){let{alpha:a=255,labels:$=[],labelsPosition:j=[],labelColor:_e="blue",labelFont:et="12px Helvetica"}=s;this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:RGB$1});let tt=getColors(Object.assign({},s,{numberColors:o.length}));Array.isArray(o)||(o=[o]);for(let rt=0;rt<o.length;rt++){let nt=o[rt],it=tt[rt%tt.length];for(let ot=0;ot<nt.width;ot++)for(let st=0;st<nt.height;st++)if(nt.getBitXY(ot,st))for(let at=0;at<Math.min(this.components,it.length);at++)if(a===255)this.setValueXY(ot+nt.position[0],st+nt.position[1],at,it[at]);else{let lt=this.getValueXY(ot+nt.position[0],st+nt.position[1],at);lt=Math.round((lt*(255-a)+it[at]*a)/255),this.setValueXY(ot+nt.position[0],st+nt.position[1],at,lt)}}if(Array.isArray($)&&$.length>0){let nt=this.getCanvas().getContext("2d");nt.fillStyle=_e,nt.font=et;for(let it=0;it<Math.min(o.length,$.length);it++){let ot=j[it]?j[it]:o[it].position;nt.fillText($[it],ot[0],ot[1])}this.data=Uint8Array.from(nt.getImageData(0,0,this.width,this.height).data)}return this}function zerosMatrix(o,s){let a=new Array(o);for(let $=0;$<o;$++)a[$]=new Array(s).fill(0);return a}const cross=[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0]],smallCross=[[0,1,0],[1,1,1],[0,1,0]];class Shape{constructor(s={}){let{kind:a="cross",shape:$,size:j,width:_e,height:et,filled:tt=!0}=s;if(j&&(_e=j,et=j),$)switch($.toLowerCase()){case"square":case"rectangle":this.matrix=rectangle(_e,et,{filled:tt});break;case"circle":case"ellipse":this.matrix=ellipse(_e,et,{filled:tt});break;case"triangle":this.matrix=triangle(_e,et,{filled:tt});break;default:throw new Error(`Shape: unexpected shape: ${$}`)}else if(a)switch(a.toLowerCase()){case"cross":this.matrix=cross;break;case"smallcross":this.matrix=smallCross;break;default:throw new Error(`Shape: unexpected kind: ${a}`)}else throw new Error("Shape: expected a kind or a shape option");this.height=this.matrix.length,this.width=this.matrix[0].length,this.halfHeight=this.height/2>>0,this.halfWidth=this.width/2>>0}getPoints(){let s=this.matrix,a=[];for(let $=0;$<s.length;$++)for(let j=0;j<s[0].length;j++)s[$][j]&&a.push([j-this.halfWidth,$-this.halfHeight]);return a}getMask(){let s=new Image(this.width,this.height,{kind:BINARY});for(let a=0;a<this.matrix.length;a++)for(let $=0;$<this.matrix[0].length;$++)this.matrix[a][$]&&s.setBitXY($,a);return s}}function rectangle(o,s,a){const $=zerosMatrix(s,o);if(a.filled)for(let j=0;j<s;j++)for(let _e=0;_e<o;_e++)$[j][_e]=1;else{for(let j of[0,s-1])for(let _e=0;_e<o;_e++)$[j][_e]=1;for(let j=0;j<s;j++)for(let _e of[0,o-1])$[j][_e]=1}return $}function ellipse(o,s,a){const $=zerosMatrix(s,o);let j=1-s%2,_e=1-o%2,et=Math.floor((o-1)/2),tt=Math.floor((s-1)/2),rt=et*et,nt=tt*tt;if(a.filled)for(let it=0;it<=tt;it++){let ot=Math.floor(Math.sqrt(rt-rt*it*it/nt));for(let st=et-ot;st<=et;st++)$[tt-it][st]=1,$[tt+it+j][st]=1,$[tt-it][o-st-1]=1,$[tt+it+j][o-st-1]=1}else{for(let it=0;it<=tt;it++){let ot=Math.floor(Math.sqrt(rt-rt*it*it/nt)),st=et-ot;$[tt-it][st]=1,$[tt+it+j][st]=1,$[tt-it][o-st-1]=1,$[tt+it+j][o-st-1]=1}for(let it=0;it<=et;it++){let ot=Math.floor(Math.sqrt(nt-nt*it*it/rt)),st=tt-ot;$[st][et-it]=1,$[st][et+it+_e]=1,$[s-st-1][et-it]=1,$[s-st-1][et+it+_e]=1}}return $}function triangle(o,s,a){if(!a.filled)throw new Error("Non filled triangle is not implemented");const $=zerosMatrix(s,o);for(let j=0;j<s;j++){let _e=Math.floor((1-j/s)*o/2);for(let et=_e;et<o-_e;et++)$[j][et]=1}return $}function paintPoints(o,s={}){let{shape:a}=s;this.checkProcessable("paintPoints",{bitDepth:[8,16]});let $=getColors(Object.assign({},s,{numberColors:o.length})),j=new Shape(a).getPoints(),_e=Math.min(this.channels,$[0].length);for(let et=0;et<o.length;et++){let tt=$[et%$.length],rt=o[et][0],nt=o[et][1];for(let it=0;it<j.length;it++){let ot=j[it][0],st=j[it][1];if(rt+ot>=0&&nt+st>=0&&rt+ot<this.width&&nt+st<this.height){let at=(rt+ot+(nt+st)*this.width)*this.channels;for(let lt=0;lt<_e;lt++)this.data[at+lt]=tt[lt]}}}return this}function paintPolyline(o,s={}){let{color:a=[this.maxValue,0,0],closed:$=!1}=s;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]});let j=Math.min(this.channels,a.length);for(let _e=0;_e<o.length-1+$;_e++){let et=o[_e],tt=o[(_e+1)%o.length],rt=tt[0]-et[0],nt=tt[1]-et[1],it=Math.max(Math.abs(rt),Math.abs(nt)),ot=rt/it,st=nt/it,at=et[0],lt=et[1];for(let ft=0;ft<=it;ft++){let pt=Math.round(at),ut=Math.round(lt);if(pt>=0&&ut>=0&&pt<this.width&&ut<this.height)if(this.bitDepth===1)this.setBitXY(pt,ut);else{let dt=(pt+ut*this.width)*this.channels;for(let ct=0;ct<j;ct++)this.data[dt+ct]=a[ct]}at=at+ot,lt=lt+st}}return this}function paintPolylines(o,s={}){let a=Object.assign({},s);this.checkProcessable("paintPolylines",{bitDepth:[8,16]});let $=getColors(Object.assign({},s,{numberColors:o.length}));for(let j=0;j<o.length;j++)a.color=$[j%$.length],this.paintPolyline(o[j],a);return this}function paintPolygon(o,s={}){let{color:a=[this.maxValue,0,0],filled:$=!1}=s;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]}),s.closed=!0;let j=deleteDouble(o);if($===!1)return this.paintPolyline(o,s);{let _e=Array(this.height);for(let et=0;et<this.height;et++){_e[et]=[];for(let tt=0;tt<this.width;tt++)_e[et].push(0)}for(let et=0;et<j.length;et++){const tt=lineBetweenTwoPoints(j[et],j[(et+1)%j.length]);for(let rt=0;rt<this.height;rt++)for(let nt=0;nt<this.width;nt++)isAtTheRightOfTheLine(nt,rt,tt,this.height)&&(_e[rt][nt]=_e[rt][nt]===0?1:0)}for(let et=0;et<this.height;et++)for(let tt=0;tt<this.width;tt++)if(_e[et][tt]===1)if(this.bitDepth===1)this.setBitXY(tt,et);else{let rt=Math.min(this.channels,a.length),nt=(tt+et*this.width)*this.channels;for(let it=0;it<rt;it++)this.data[nt+it]=a[it]}return this.paintPolyline(o,s)}}function deleteDouble(o){let s=[];for(let a=0;a<o.length;a++)if(!(o[a][0]===o[(a+1)%o.length][0]&&o[a][1]===o[(a+1)%o.length][1])){if(o[a][0]===o[(a-1+o.length)%o.length][0]&&o[a][1]===o[(a-1+o.length)%o.length][1])continue;if(o[(a+1)%o.length][0]===o[(a-1+o.length)%o.length][0]&&o[(a-1+o.length)%o.length][1]===o[(a+1)%o.length][1])continue;s.push(o[a])}return s}function lineBetweenTwoPoints(o,s){if(o[0]===s[0])return{a:0,b:o[0],vertical:!0};{const a=(s[1]-o[1])/(s[0]-o[0]),$=o[1]-a*o[0];return{a,b:$,vertical:!1}}}function isAtTheRightOfTheLine(o,s,a,$){if(a.vertical===!0)return a.b<=o;if(a.a===0)return!1;{const j=(s-a.b)/a.a;return j<o&&j>=0&&j<=$}}function paintPolygons(o,s={}){let a=Object.assign({},s);this.checkProcessable("paintPolygons",{bitDepth:[8,16]});let $=getColors(Object.assign({},s,{numberColors:o.length}));for(let j=0;j<o.length;j++)a.color=$[j%$.length],this.paintPolygon(o[j],a);return this}function getHistogram(o={}){let{maxSlots:s=256,channel:a,useAlpha:$=!0}=o;if(this.checkProcessable("getHistogram",{bitDepth:[1,8,16]}),a===void 0){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");a=0}return getChannelHistogram.call(this,a,{useAlpha:$,maxSlots:s})}function getHistograms(o={}){const{maxSlots:s=256,useAlpha:a=!0}=o;this.checkProcessable("getHistograms",{bitDepth:[8,16]});let $=new Array(a?this.components:this.channels);for(let j=0;j<$.length;j++)$[j]=getChannelHistogram.call(this,j,{useAlpha:a,maxSlots:s});return $}function getChannelHistogram(o,s){let{useAlpha:a,maxSlots:$}=s;if(this.bitDepth===1){let rt=[0,0];for(let nt=0;nt<this.height;nt++)for(let it=0;it<this.width;it++){let ot=this.getBitXY(nt,it);ot===0?rt[0]+=1:ot===1&&(rt[1]+=1)}return rt}let j=Math.log2($);if(!isInteger$1(j))throw new RangeError("maxSlots must be a power of 2, for example: 64, 256, 1024");let _e=0;this.bitDepth>j&&(_e=this.bitDepth-j);let et=this.data,tt=newArray$1(Math.pow(2,Math.min(this.bitDepth,j)),0);if(a&&this.alpha){let rt=this.channels-o-1;for(let nt=o;nt<et.length;nt+=this.channels)tt[et[nt]>>_e]+=et[nt+rt]/this.maxValue}else for(let rt=o;rt<et.length;rt+=this.channels)tt[et[rt]>>_e]++;return tt}function getColorHistogram(o={}){let{useAlpha:s=!0,nbSlots:a=512}=o;this.checkProcessable("getColorHistogram",{bitDepth:[8,16],components:[3]});let $=Math.log(a)/Math.log(8);if($!==Math.floor($))throw new RangeError("nbSlots must be a power of 8. Usually 8, 64, 512 or 4096");let j=this.bitDepth-$,_e=this.data,et=newArray$1(Math.pow(8,$),0),tt=Math.pow(2,$*2),rt=Math.pow(2,$);for(let nt=0;nt<_e.length;nt+=this.channels){let it=(_e[nt]>>j)*tt+(_e[nt+1]>>j)*rt+(_e[nt+2]>>j);s&&this.alpha?et[it]+=_e[nt+this.channels-1]/this.maxValue:et[it]++}return et}function min(){this.checkProcessable("min",{bitDepth:[8,16,32]});let o=newArray$1(this.channels,1/0);for(let s=0;s<this.data.length;s+=this.channels)for(let a=0;a<this.channels;a++)this.data[s+a]<o[a]&&(o[a]=this.data[s+a]);return o}function max(){this.checkProcessable("max",{bitDepth:[8,16,32]});let o=newArray$1(this.channels,-1/0);for(let s=0;s<this.data.length;s+=this.channels)for(let a=0;a<this.channels;a++)this.data[s+a]>o[a]&&(o[a]=this.data[s+a]);return o}function sum(){this.checkProcessable("sum",{bitDepth:[8,16]});let o=newArray$1(this.channels,0);for(let s=0;s<this.data.length;s+=this.channels)for(let a=0;a<this.channels;a++)o[a]+=this.data[s+a];return o}function getMoment(o=0,s=0){this.checkProcessable("getMoment",{bitDepth:[1]});let a=0;for(let $=0;$<this.width;$++)for(let j=0;j<this.height;j++)this.getBitXY($,j)===1&&(a+=$**o*j**s);return a}function localMaxima(o={}){let{mask:s,region:a=3,removeClosePoints:$=0,invert:j=!1,maxEquals:_e=2}=o,et=this;this.checkProcessable("localMaxima",{bitDepth:[8,16],components:1}),a*=4;let tt=j?0:1,rt=[1,0,-1,0,1,1,-1,-1,2,0,-2,0,2,2,-2,-2],nt=[0,1,0,-1,1,-1,1,-1,0,2,0,-2,2,-2,2,-2],it=a<=8?1:2,ot=[];for(let st=it;st<et.height-it;st++)for(let at=it;at<et.width-it;at++){if(s&&s.getBitXY(at,st)!==tt)continue;let lt=0,ft=0,pt=et.data[at+st*et.width];for(let ut=0;ut<a;ut++)j?et.data[at+rt[ut]+(st+nt[ut])*et.width]>pt&&lt++:et.data[at+rt[ut]+(st+nt[ut])*et.width]<pt&&lt++,et.data[at+rt[ut]+(st+nt[ut])*et.width]===pt&&ft++;lt+ft===a&&ft<=_e&&ot.push([at,st])}if($>0)for(let st=0;st<ot.length;st++)for(let at=st+1;at<ot.length;at++)Math.sqrt(Math.pow(ot[st][0]-ot[at][0],2)+Math.pow(ot[st][1]-ot[at][1],2))<$&&(ot[st][0]=ot[st][0]+ot[at][0]>>1,ot[st][1]=ot[st][1]+ot[at][1]>>1,ot.splice(at,1),at--);return ot}function mean(){let o=this.getHistograms({maxSlots:this.maxValue+1}),s=new Array(o.length);for(let a=0;a<o.length;a++){let $=o[a];s[a]=mean$2($)}return s}function median(){let o=this.getHistograms({maxSlots:this.maxValue+1}),s=new Array(o.length);for(let a=0;a<o.length;a++){let $=o[a];s[a]=median$2($)}return s}function points(){this.checkProcessable("points",{bitDepth:[1]});const o=[];for(let s=0;s<this.width;s++)for(let a=0;a<this.height;a++)this.getBitXY(s,a)===1&&o.push([s,a]);return o}function extendedPoints(){this.checkProcessable("extendedPoints",{bitDepth:[1]});const o=[];for(let s=0;s<this.height;s++)for(let a=0;a<this.width;a++)if(this.getBitXY(a,s)===1)for(o.push([a,s]),this.getBitXY(a+1,s)!==1?(o.push([a+1,s]),o.push([a+1,s+1]),this.getBitXY(a,s+1)!==1&&o.push([a,s+1])):this.getBitXY(a,s+1)!==1&&(o.push([a,s+1]),o.push([a+1,s+1]));a<this.width-2&&this.getBitXY(a+1,s)===1&&this.getBitXY(a+2,s)===1;)a++;return o}function getRelativePosition(o,s={}){if(this===o)return[0,0];let a=[0,0],$=this;for(;$;){if($===o)return a;$.position&&(a[0]+=$.position[0],a[1]+=$.position[1]),$=$.parent}return s.defaultFurther?a:!1}function countAlphaPixels(o={}){let{alpha:s=1}=o;this.checkProcessable("countAlphaPixels",{bitDepth:[8,16],alpha:1});let a=0;if(s!==void 0){for(let $=this.components;$<this.data.length;$+=this.channels)this.data[$]===s&&a++;return a}else return this.size}function monotoneChainConvexHull$1(o,s={}){const{sorted:a}=s;a||(o=o.slice().sort(byXThenY));const $=o.length,j=new Array($*2);let _e=0;for(let tt=0;tt<$;tt++){const rt=o[tt];for(;_e>=2&&cw(j[_e-2],j[_e-1],rt)<=0;)_e--;j[_e++]=rt}const et=_e+1;for(let tt=$-2;tt>=0;tt--){const rt=o[tt];for(;_e>=et&&cw(j[_e-2],j[_e-1],rt)<=0;)_e--;j[_e++]=rt}return j.slice(0,_e-1)}function cw(o,s,a){return(s[1]-o[1])*(a[0]-o[0])-(s[0]-o[0])*(a[1]-o[1])}function byXThenY(o,s){return o[0]===s[0]?o[1]-s[1]:o[0]-s[0]}function monotoneChainConvexHull(){return monotoneChainConvexHull$1(this.extendedPoints,{sorted:!1})}function round$1(o){for(let s=0;s<o.length;s++)o[s][0]=Math.round(o[s][0]),o[s][1]=Math.round(o[s][1]);return o}function difference(o,s){return[o[0]-s[0],o[1]-s[1]]}function normalize(o){let s=Math.sqrt(o[0]**2+o[1]**2);return[o[0]/s,o[1]/s]}function rotate(o,s,a){a===void 0&&(a=new Array(s.length));let $=Math.cos(o),j=Math.sin(o);for(let _e=0;_e<a.length;++_e)a[_e]=[$*s[_e][0]-j*s[_e][1],j*s[_e][0]+$*s[_e][1]];return a}function perimeter(o){let s=0;for(let a=0;a<o.length;a++){let $=o[a][0],j=o[a][1],_e=o[a===o.length-1?0:a+1][0],et=o[a===o.length-1?0:a+1][1];s+=Math.sqrt((_e-$)**2+(et-j)**2)}return s}function surface(o){let s=0;for(let a=0;a<o.length;a++){let $=o[a][0],j=o[a===o.length-1?0:a+1][1],_e=o[a===o.length-1?0:a+1][0],et=o[a][1];s+=$*j*.5,s-=_e*et*.5}return Math.abs(s)}function minMax(o){let s=1/0,a=1/0,$=-1/0,j=-1/0;for(let _e=0;_e<o.length;_e++)o[_e][0]<s&&(s=o[_e][0]),o[_e][0]>$&&($=o[_e][0]),o[_e][1]<a&&(a=o[_e][1]),o[_e][1]>j&&(j=o[_e][1]);return[[s,a],[$,j]]}function moveToZeroZero(o,s){s===void 0&&(s=new Array(o.length).fill(0).map(()=>[]));let a=minMax(o),$=a[0][0],j=a[0][1];for(let _e=0;_e<o.length;_e++)s[_e][0]=o[_e][0]-$,s[_e][1]=o[_e][1]-j;return s}function minimalBoundingRectangle(o={}){const{originalPoints:s=monotoneChainConvexHull.call(this)}=o;if(s.length===0)return[];if(s.length===1)return[s[0],s[0],s[0],s[0]];const a=new Array(s.length);let $=1/0,j=0,_e;for(let et=0;et<a.length;et++){let tt=getAngle$1(s[et],s[(et+1)%a.length]);rotate(-tt,s,a);let rt=a[et][0],nt=a[et][1],it=a[(et+1)%a.length][0],ot=a[(et+1)%a.length][1],st=!0,at=0,lt=0,ft=0;for(let ct=0;ct<a.length;ct++){let ht=a[ct][0],mt=a[ct][1],vt=(ht-rt)/(it-rt);st===!0?(st=!1,at=vt,lt=vt):(vt<at&&(at=vt),vt>lt&&(lt=vt));let yt=(-(it-rt)*mt+it*nt-ot*rt)/(it-rt);Math.abs(yt)>Math.abs(ft)&&(ft=yt)}let pt=[rt+at*(it-rt),nt],ut=[rt+lt*(it-rt),nt],dt=Math.abs(ft*(at-lt)*(it-rt));dt<$&&(j=tt,$=dt,_e=[pt,ut,[ut[0],ut[1]-ft],[pt[0],pt[1]-ft]])}return rotate(j,_e,_e),_e}function getAngle$1(o,s){let a=difference(s,o),$=normalize(a),j=Math.acos($[0]);return $[1]<0?-j:j}function extend$1(o){let s={inPlace:!0};o.extendMethod("invert",invert),o.extendMethod("abs",abs$1),o.extendMethod("level",level,s),o.extendMethod("add",add,s),o.extendMethod("subtract",subtract,s),o.extendMethod("subtractImage",subtractImage),o.extendMethod("multiply",multiply,s),o.extendMethod("divide",divide,s),o.extendMethod("hypotenuse",hypotenuse),o.extendMethod("background",background$1),o.extendMethod("flipX",flipX),o.extendMethod("flipY",flipY),o.extendMethod("blurFilter",blurFilter),o.extendMethod("medianFilter",medianFilter),o.extendMethod("gaussianFilter",gaussianFilter),o.extendMethod("sobelFilter",sobelFilter),o.extendMethod("gradientFilter",gradientFilter),o.extendMethod("scharrFilter",scharrFilter),o.extendMethod("dilate",dilate),o.extendMethod("erode",erode),o.extendMethod("open",open),o.extendMethod("close",close),o.extendMethod("topHat",topHat),o.extendMethod("blackHat",blackHat),o.extendMethod("morphologicalGradient",morphologicalGradient),o.extendMethod("warpingFourPoints",warpingFourPoints),o.extendMethod("crop",crop),o.extendMethod("cropAlpha",cropAlpha),o.extendMethod("resize",resize).extendMethod("scale",resize),o.extendMethod("hsv",hsv),o.extendMethod("hsl",hsl$1),o.extendMethod("cmyk",cmyk),o.extendMethod("rgba8",rgba8),o.extendMethod("grey",grey$2).extendMethod("gray",grey$2),o.extendMethod("mask",mask),o.extendMethod("pad",pad),o.extendMethod("colorDepth",colorDepth),o.extendMethod("setBorder",setBorder,s),o.extendMethod("rotate",rotate$1),o.extendMethod("rotateLeft",rotateLeft),o.extendMethod("rotateRight",rotateRight),o.extendMethod("insert",insert),o.extendMethod("getRow",getRow),o.extendMethod("getColumn",getColumn),o.extendMethod("getMatrix",getMatrix),o.extendMethod("setMatrix",setMatrix),o.extendMethod("getPixelsArray",getPixelsArray),o.extendMethod("getIntersection",getIntersection),o.extendMethod("getClosestCommonParent",getClosestCommonParent),o.extendMethod("getThreshold",getThreshold),o.extendMethod("split",split),o.extendMethod("getChannel",getChannel),o.extendMethod("combineChannels",combineChannels),o.extendMethod("setChannel",setChannel),o.extendMethod("getSimilarity",getSimilarity),o.extendMethod("getPixelsGrid",getPixelsGrid),o.extendMethod("getBestMatch",getBestMatch),o.extendMethod("cannyEdge",cannyEdge),o.extendMethod("convolution",convolution),o.extendMethod("extract",extract),o.extendMethod("floodFill",floodFill),o.extendMethod("paintLabels",paintLabels,s),o.extendMethod("paintMasks",paintMasks,s),o.extendMethod("paintPoints",paintPoints,s),o.extendMethod("paintPolyline",paintPolyline,s),o.extendMethod("paintPolylines",paintPolylines,s),o.extendMethod("paintPolygon",paintPolygon,s),o.extendMethod("paintPolygons",paintPolygons,s),o.extendMethod("countAlphaPixels",countAlphaPixels),o.extendMethod("monotoneChainConvexHull",monotoneChainConvexHull),o.extendMethod("minimalBoundingRectangle",minimalBoundingRectangle),o.extendMethod("getHistogram",getHistogram).extendProperty("histogram",getHistogram),o.extendMethod("getHistograms",getHistograms).extendProperty("histograms",getHistograms),o.extendMethod("getColorHistogram",getColorHistogram).extendProperty("colorHistogram",getColorHistogram),o.extendMethod("getMin",min).extendProperty("min",min),o.extendMethod("getMax",max).extendProperty("max",max),o.extendMethod("getSum",sum).extendProperty("sum",sum),o.extendMethod("getMoment",getMoment).extendProperty("moment",getMoment),o.extendMethod("getLocalMaxima",localMaxima),o.extendMethod("getMedian",median).extendProperty("median",median),o.extendMethod("getMean",mean).extendProperty("mean",mean),o.extendMethod("getPoints",points).extendProperty("points",points),o.extendMethod("getExtendedPoints",extendedPoints).extendProperty("extendedPoints",extendedPoints),o.extendMethod("getRelativePosition",getRelativePosition)}var quantities={exports:{}};(function(o,s){(function(a,$){o.exports=$()})(commonjsGlobal,function(){function a(St){return typeof St=="string"||St instanceof String}var $=Number.isFinite||window.isFinite;function j(St){return $(St)}function _e(St){return St}function et(St){var Rt={};return St.filter(function(Pt){return Rt.hasOwnProperty(Pt)?!1:Rt[Pt]=!0})}function tt(St,Rt){if(Rt.length!==St.length)return!1;for(var Pt=0;Pt<St.length;Pt++)if(Rt[Pt].compareArray&&!Rt[Pt].compareArray(St[Pt])||Rt[Pt]!==St[Pt])return!1;return!0}function rt(St,Rt){Object.keys(Rt).forEach(function(Pt){St[Pt]=Rt[Pt]})}function nt(){for(var St=1,Rt=0,Pt=0;Pt<arguments.length;Pt++){var Vt=arguments[Pt];Rt=Rt+st(Vt),St*=Vt}return Rt!==0?ot(St,Rt):St}function it(St,Rt){if(Rt===0)throw new Error("Divide by zero");var Pt=Math.pow(10,st(Rt)),Vt=Pt/(Pt*Rt);return nt(St,Vt)}function ot(St,Rt){return Math.round(St*Math.pow(10,Rt))/Math.pow(10,Rt)}function st(St){if(!isFinite(St))return 0;for(var Rt=0;St%1!==0;)St*=10,Rt++;return Rt}function at(){var St;if(!this)return St=Object.create(at.prototype),at.apply(St,arguments),St;St=Error.apply(this,arguments),this.name="QtyError",this.message=St.message,this.stack=St.stack}at.prototype=Object.create(Error.prototype,{constructor:{value:at}});function lt(St,Rt){throw new at("Incompatible units: "+St+" and "+Rt)}var ft={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","μ","µ","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1302773e20,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1660538921e-36,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1660538921e-36,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oilbarrel","oilbarrels","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beerbarrel","beerbarrels","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beerbarrel-imp","beerbarrels-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<Gal>":[["Gal"],.01,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],3600*24,"time",["<second>"]],"<week>":[["wk","week","weeks"],7*3600*24,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],16667e-19,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","Ω","Ω"],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-9,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},pt=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],ut="<1>",dt=[ut];function ct(St,Rt){var Pt=Rt[1],Vt=Rt[3]||[],sn=Rt[4]||[];if(!j(Pt))throw new at(St+": Invalid unit definition. 'scalar' must be a number");Vt.forEach(function(cn){if(ft[cn]===void 0)throw new at(St+": Invalid unit definition. Unit "+cn+" in 'numerator' is not recognized")}),sn.forEach(function(cn){if(ft[cn]===void 0)throw new at(St+": Invalid unit definition. Unit "+cn+" in 'denominator' is not recognized")})}var ht={},mt={},vt={},yt={},xt={};for(var bt in ft)if(ft.hasOwnProperty(bt)){var gt=ft[bt];if(gt[2]==="prefix"){ht[bt]=gt[1];for(var wt=0;wt<gt[0].length;wt++)mt[gt[0][wt]]=bt}else{ct(bt,gt),vt[bt]={scalar:gt[1],numerator:gt[3],denominator:gt[4]};for(var Et=0;Et<gt[0].length;Et++)yt[gt[0][Et]]=bt}xt[bt]=gt[0][0]}function kt(St){var Rt,Pt=[],Vt=Object.keys(ft);if(typeof St>"u")for(Rt=0;Rt<Vt.length;Rt++)["","prefix"].indexOf(ft[Vt[Rt]][2])===-1&&Pt.push(Vt[Rt].substr(1,Vt[Rt].length-2));else{if(this.getKinds().indexOf(St)===-1)throw new at("Kind not recognized");for(Rt=0;Rt<Vt.length;Rt++)ft[Vt[Rt]][2]===St&&Pt.push(Vt[Rt].substr(1,Vt[Rt].length-2))}return Pt.sort(function(sn,cn){return sn.toLowerCase()<cn.toLowerCase()?-1:sn.toLowerCase()>cn.toLowerCase()?1:0})}function Ct(St){if(!yt[St])throw new at("Unit not recognized");return ft[yt[St]][0]}var Mt=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function Ft(){if(this.signature)return this.signature;for(var St=Tt.call(this),Rt=0;Rt<St.length;Rt++)St[Rt]*=Math.pow(20,Rt);return St.reduce(function(Pt,Vt){return Pt+Vt},0)}function Tt(){if(!this.isBase())return Tt.call(this.toBase());for(var St=new Array(Mt.length),Rt=0;Rt<St.length;Rt++)St[Rt]=0;for(var Pt,Vt,sn=0;sn<this.numerator.length;sn++)(Pt=ft[this.numerator[sn]])&&(Vt=Mt.indexOf(Pt[2]),Vt>=0&&(St[Vt]=St[Vt]+1));for(var cn=0;cn<this.denominator.length;cn++)(Pt=ft[this.denominator[cn]])&&(Vt=Mt.indexOf(Pt[2]),Vt>=0&&(St[Vt]=St[Vt]-1));return St}var $t="[+-]",Dt="\\d+",It=$t+"?"+Dt,Yt="\\."+Dt,Ht="(?:"+Dt+"(?:"+Yt+")?)|(?:"+Yt+")",jt="[Ee]"+It,Bt="(?:"+Ht+")(?:"+jt+")?",Ot=$t+"?\\s*"+Bt,Ut="("+Ot+")?\\s*([^/]*)(?:/(.+))?",Gt=new RegExp("^"+Ut+"$"),dn="\\^|\\*{2}",tn="[01234]",fn=new RegExp("([^ \\*\\d]+?)(?:"+dn+")?(-?"+tn+"(?![a-zA-Z]))"),nn=new RegExp("([^ \\*\\d]+?)(?:"+dn+")?("+tn+"(?![a-zA-Z]))");function Xt(St){a(St)||(St=St.toString()),St=St.trim();var Rt=Gt.exec(St);if(!Rt)throw new at(St+": Quantity not recognized");var Pt=Rt[1];Pt?(Pt=Pt.replace(/\s/g,""),this.scalar=parseFloat(Pt)):this.scalar=1;for(var Vt=Rt[2],sn=Rt[3],cn,_n,wn;Rt=fn.exec(Vt);){if(cn=parseFloat(Rt[2]),isNaN(cn))throw new at("Unit exponent is not a number");if(cn===0&&!qt.test(Rt[1]))throw new at("Unit not recognized");_n=Rt[1]+" ",wn="";for(var Sn=0;Sn<Math.abs(cn);Sn++)wn+=_n;cn>=0?Vt=Vt.replace(Rt[0],wn):(sn=sn?sn+wn:wn,Vt=Vt.replace(Rt[0],""))}for(;Rt=nn.exec(sn);){if(cn=parseFloat(Rt[2]),isNaN(cn))throw new at("Unit exponent is not a number");if(cn===0&&!qt.test(Rt[1]))throw new at("Unit not recognized");_n=Rt[1]+" ",wn="";for(var Mn=0;Mn<cn;Mn++)wn+=_n;sn=sn.replace(Rt[0],wn)}Vt&&(this.numerator=Qt(Vt.trim())),sn&&(this.denominator=Qt(sn.trim()))}var an=Object.keys(mt).sort(function(St,Rt){return Rt.length-St.length}).join("|"),Kt=Object.keys(yt).sort(function(St,Rt){return Rt.length-St.length}).join("|"),zt="\\b|$",pn="("+an+")??("+Kt+")(?:"+zt+")",qt=new RegExp("^\\s*("+pn+"[\\s\\*]*)+$"),hn=new RegExp(pn,"g"),At={};function Qt(St){var Rt=At[St];if(Rt)return Rt;var Pt,Vt=[];if(!qt.test(St))throw new at("Unit not recognized");for(;Pt=hn.exec(St);)Vt.push(Pt.slice(1));return Vt=Vt.map(function(sn){return mt[sn[0]]?[mt[sn[0]],yt[sn[1]]]:[yt[sn[1]]]}),Vt=Vt.reduce(function(sn,cn){return sn.concat(cn)},[]),Vt=Vt.filter(function(sn){return sn}),At[St]=Vt,Vt}function Jt(St){if(!a(St))throw new at("Argument should be a string");try{return this(St)}catch{return null}}function ln(St){return St instanceof Nt}function Nt(St,Rt){if(mn.apply(null,arguments),!ln(this))return new Nt(St,Rt);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=dt,this.denominator=dt,gn(St)?(this.scalar=St.scalar,this.numerator=St.numerator&&St.numerator.length!==0?St.numerator:dt,this.denominator=St.denominator&&St.denominator.length!==0?St.denominator:dt):Rt?(Xt.call(this,Rt),this.scalar=St):Xt.call(this,St),this.denominator.join("*").indexOf("temp")>=0)throw new at("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new at("Cannot multiply by temperatures");if(!tt(this.denominator,dt))throw new at("Cannot divide with temperatures")}if(this.initValue=St,en.call(this),this.isTemperature()&&this.baseScalar<0)throw new at("Temperatures must not be less than absolute zero")}Nt.prototype={constructor:Nt};function mn(St,Rt){if(Rt){if(!(j(St)&&a(Rt)))throw new at("Only number accepted as initialization value when units are explicitly provided")}else if(!(a(St)||j(St)||ln(St)||gn(St)))throw new at("Only string, number or quantity accepted as single initialization value")}function gn(St){return St&&typeof St=="object"&&St.hasOwnProperty("scalar")}function en(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=Ft.call(this);else{var St=this.toBase();this.baseScalar=St.scalar,this.signature=St.signature}}var rn={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8e3:"mass",152020:"radiation_exposure",159999:"magnetism",16e4:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",32e5:"substance",63999998:"illuminance",64e6:"luminous_power",128e7:"currency","25599999980":"information_rate","25600000000":"information","511999999980":"angular_velocity","512000000000":"angle"};function Zt(){return et(Object.keys(rn).map(function(St){return rn[St]}))}Nt.prototype.kind=function(){return rn[this.signature.toString()]},rt(Nt.prototype,{isDegrees:function(){return(this.signature===null||this.signature===400)&&this.numerator.length===1&&tt(this.denominator,dt)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}});function Lt(St,Rt){var Pt=St.units(),Vt=Rt.to(Pt),sn=Nt(on(Pt));return Nt({scalar:St.scalar-Vt.scalar,numerator:sn.numerator,denominator:sn.denominator})}function Wt(St,Rt){var Pt=Rt.to(on(St.units()));return Nt({scalar:St.scalar-Pt.scalar,numerator:St.numerator,denominator:St.denominator})}function un(St,Rt){var Pt=Rt.to(on(St.units()));return Nt({scalar:St.scalar+Pt.scalar,numerator:St.numerator,denominator:St.denominator})}function on(St){if(St==="tempK")return"degK";if(St==="tempC")return"degC";if(St==="tempF")return"degF";if(St==="tempR")return"degR";throw new at("Unknown type for temp conversion from: "+St)}function xn(St,Rt){var Pt=yn(St),Vt=Rt.units(),sn;if(Vt==="degK")sn=Pt.scalar;else if(Vt==="degC")sn=Pt.scalar;else if(Vt==="degF")sn=Pt.scalar*9/5;else if(Vt==="degR")sn=Pt.scalar*9/5;else throw new at("Unknown type for degree conversion to: "+Vt);return Nt({scalar:sn,numerator:Rt.numerator,denominator:Rt.denominator})}function yn(St){var Rt=St.units(),Pt;if(Rt.match(/(deg)[CFRK]/))Pt=St.baseScalar;else if(Rt==="tempK")Pt=St.scalar;else if(Rt==="tempC")Pt=St.scalar;else if(Rt==="tempF")Pt=St.scalar*5/9;else if(Rt==="tempR")Pt=St.scalar*5/9;else throw new at("Unknown type for temp conversion from: "+Rt);return Nt({scalar:Pt,numerator:["<kelvin>"],denominator:dt})}function vn(St,Rt){var Pt=Rt.units(),Vt;if(Pt==="tempK")Vt=St.baseScalar;else if(Pt==="tempC")Vt=St.baseScalar-273.15;else if(Pt==="tempF")Vt=St.baseScalar*9/5-459.67;else if(Pt==="tempR")Vt=St.baseScalar*9/5;else throw new at("Unknown type for temp conversion to: "+Pt);return Nt({scalar:Vt,numerator:Rt.numerator,denominator:Rt.denominator})}function En(St){var Rt=St.units(),Pt;if(Rt.match(/(deg)[CFRK]/))Pt=St.baseScalar;else if(Rt==="tempK")Pt=St.scalar;else if(Rt==="tempC")Pt=St.scalar+273.15;else if(Rt==="tempF")Pt=(St.scalar+459.67)*5/9;else if(Rt==="tempR")Pt=St.scalar*5/9;else throw new at("Unknown type for temp conversion from: "+Rt);return Nt({scalar:Pt,numerator:["<temp-K>"],denominator:dt})}rt(Nt.prototype,{to:function(St){var Rt,Pt;if(St==null)return this;if(!a(St))return this.to(St.units());if(Rt=this._conversionCache[St],Rt)return Rt;if(Pt=Nt(St),Pt.units()===this.units())return this;if(!this.isCompatible(Pt))this.isInverse(Pt)?Pt=this.inverse().to(St):lt(this.units(),Pt.units());else if(Pt.isTemperature())Pt=vn(this,Pt);else if(Pt.isDegrees())Pt=xn(this,Pt);else{var Vt=it(this.baseScalar,Pt.baseScalar);Pt=Nt({scalar:Vt,numerator:Pt.numerator,denominator:Pt.denominator})}return this._conversionCache[St]=Pt,Pt},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return En(this);var St=Rn[this.units()];return St||(St=jn(this.numerator,this.denominator),Rn[this.units()]=St),St.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new at("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(St){if(a(St)&&(St=Nt(St)),j(St)&&(St=Nt(St+" "+this.units())),this.isUnitless()?St.isUnitless()||lt(this.units(),St.units()):St=St.to(this.units()),St.scalar===0)throw new at("Divide by zero");var Rt=nt(Math.round(this.scalar/St.scalar),St.scalar);return Nt(Rt+this.units())}});function bn(St,Rt){var Pt=Nt(St),Vt=Nt(Rt);if(Pt.eq(Vt))return _e;var sn;return Pt.isTemperature()?sn=function(cn){return Pt.mul(cn).to(Vt).scalar}:sn=function(cn){return cn*Pt.baseScalar/Vt.baseScalar},function(_n){var wn,Sn,Mn;if(Array.isArray(_n)){for(Sn=_n.length,Mn=[],wn=0;wn<Sn;wn++)Mn.push(sn(_n[wn]));return Mn}else return sn(_n)}}var Rn={};function jn(St,Rt){for(var Pt=[],Vt=[],sn=1,cn,_n=0;_n<St.length;_n++)cn=St[_n],ht[cn]?sn=nt(sn,ht[cn]):vt[cn]&&(sn*=vt[cn].scalar,vt[cn].numerator&&Pt.push(vt[cn].numerator),vt[cn].denominator&&Vt.push(vt[cn].denominator));for(var wn=0;wn<Rt.length;wn++)cn=Rt[wn],ht[cn]?sn/=ht[cn]:vt[cn]&&(sn/=vt[cn].scalar,vt[cn].numerator&&Vt.push(vt[cn].numerator),vt[cn].denominator&&Pt.push(vt[cn].denominator));return Pt=Pt.reduce(function(Sn,Mn){return Sn.concat(Mn)},[]),Vt=Vt.reduce(function(Sn,Mn){return Sn.concat(Mn)},[]),Nt({scalar:sn,numerator:Pt,denominator:Vt})}Nt.parse=Jt,Nt.getUnits=kt,Nt.getAliases=Ct,Nt.mulSafe=nt,Nt.divSafe=it,Nt.getKinds=Zt,Nt.swiftConverter=bn,Nt.Error=at,rt(Nt.prototype,{add:function(St){if(a(St)&&(St=Nt(St)),this.isCompatible(St)||lt(this.units(),St.units()),this.isTemperature()&&St.isTemperature())throw new at("Cannot add two temperatures");return this.isTemperature()?un(this,St):St.isTemperature()?un(St,this):Nt({scalar:this.scalar+St.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(St){if(a(St)&&(St=Nt(St)),this.isCompatible(St)||lt(this.units(),St.units()),this.isTemperature()&&St.isTemperature())return Lt(this,St);if(this.isTemperature())return Wt(this,St);if(St.isTemperature())throw new at("Cannot subtract a temperature from a differential degree unit");return Nt({scalar:this.scalar-St.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(St){if(j(St))return Nt({scalar:nt(this.scalar,St),numerator:this.numerator,denominator:this.denominator});if(a(St)&&(St=Nt(St)),(this.isTemperature()||St.isTemperature())&&!(this.isUnitless()||St.isUnitless()))throw new at("Cannot multiply by temperatures");var Rt=this,Pt=St;Rt.isCompatible(Pt)&&Rt.signature!==400&&(Pt=Pt.to(Rt));var Vt=Un(Rt.numerator,Rt.denominator,Pt.numerator,Pt.denominator);return Nt({scalar:nt(Rt.scalar,Pt.scalar,Vt[2]),numerator:Vt[0],denominator:Vt[1]})},div:function(St){if(j(St)){if(St===0)throw new at("Divide by zero");return Nt({scalar:this.scalar/St,numerator:this.numerator,denominator:this.denominator})}else a(St)&&(St=Nt(St));if(St.scalar===0)throw new at("Divide by zero");if(St.isTemperature())throw new at("Cannot divide with temperatures");if(this.isTemperature()&&!St.isUnitless())throw new at("Cannot divide with temperatures");var Rt=this,Pt=St;Rt.isCompatible(Pt)&&Rt.signature!==400&&(Pt=Pt.to(Rt));var Vt=Un(Rt.numerator,Rt.denominator,Pt.denominator,Pt.numerator);return Nt({scalar:nt(Rt.scalar,Vt[2])/Pt.scalar,numerator:Vt[0],denominator:Vt[1]})},inverse:function(){if(this.isTemperature())throw new at("Cannot divide with temperatures");if(this.scalar===0)throw new at("Divide by zero");return Nt({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}});function Un(St,Rt,Pt,Vt){function sn(Cn){return Cn!==ut}St=St.filter(sn),Pt=Pt.filter(sn),Rt=Rt.filter(sn),Vt=Vt.filter(sn);var cn={};function _n(Cn,In){for(var $n,Fn,zn,An=0;An<Cn.length;An++)if(ht[Cn[An]]?($n=Cn[An+1],Fn=Cn[An],zn=ht[Fn],An++):($n=Cn[An],Fn=null,zn=1),$n&&$n!==ut)if(cn[$n]){cn[$n][0]+=In;var Hn=cn[$n][2]?ht[cn[$n][2]]:1;cn[$n][In===1?3:4]*=it(zn,Hn)}else cn[$n]=[In,$n,Fn,1,1]}_n(St,1),_n(Rt,-1),_n(Pt,1),_n(Vt,-1);var wn=[],Sn=[],Mn=1;for(var Vn in cn)if(cn.hasOwnProperty(Vn)){var kn=cn[Vn],Bn;if(kn[0]>0)for(Bn=0;Bn<kn[0];Bn++)wn.push(kn[2]===null?kn[1]:[kn[2],kn[1]]);else if(kn[0]<0)for(Bn=0;Bn<-kn[0];Bn++)Sn.push(kn[2]===null?kn[1]:[kn[2],kn[1]]);Mn*=it(kn[3],kn[4])}return wn.length===0&&(wn=dt),Sn.length===0&&(Sn=dt),wn=wn.reduce(function(Cn,In){return Cn.concat(In)},[]),Sn=Sn.reduce(function(Cn,In){return Cn.concat(In)},[]),[wn,Sn,Mn]}rt(Nt.prototype,{eq:function(St){return this.compareTo(St)===0},lt:function(St){return this.compareTo(St)===-1},lte:function(St){return this.eq(St)||this.lt(St)},gt:function(St){return this.compareTo(St)===1},gte:function(St){return this.eq(St)||this.gt(St)},compareTo:function(St){if(a(St))return this.compareTo(Nt(St));if(this.isCompatible(St)||lt(this.units(),St.units()),this.baseScalar<St.baseScalar)return-1;if(this.baseScalar===St.baseScalar)return 0;if(this.baseScalar>St.baseScalar)return 1},same:function(St){return this.scalar===St.scalar&&this.units()===St.units()}}),rt(Nt.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every(function(St){return tt(St,dt)})},isCompatible:function(St){return a(St)?this.isCompatible(Nt(St)):ln(St)&&St.signature!==void 0?this.signature===St.signature:!1},isInverse:function(St){return this.inverse().isCompatible(St)},isBase:function(){return this._isBase!==void 0?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach(function(St){St!==ut&&pt.indexOf(St)===-1&&(this._isBase=!1)},this),this._isBase===!1?this._isBase:(this._isBase=!0,this._isBase))}});function Tn(){}Tn.prototype.get=function(St){return arguments.length>1&&(St=Array.apply(null,arguments)),St.reduce(function(Rt,Pt,Vt){if(Rt){var sn=Rt[Pt];return Vt===St.length-1?sn?sn.data:void 0:sn}},this)},Tn.prototype.set=function(St,Rt){return arguments.length>2&&(St=Array.prototype.slice.call(arguments,0,-1),Rt=arguments[arguments.length-1]),St.reduce(function(Pt,Vt,sn){var cn=Pt[Vt];return cn===void 0&&(cn=Pt[Vt]={}),sn===St.length-1?(cn.data=Rt,Rt):cn},this)};function On(St,Rt){return(St+" "+Rt).trim()}Nt.formatter=On,rt(Nt.prototype,{units:function(){if(this._units!==void 0)return this._units;var St=tt(this.numerator,dt),Rt=tt(this.denominator,dt);if(St&&Rt)return this._units="",this._units;var Pt=Pn(this.numerator),Vt=Pn(this.denominator);return this._units=Pt+(Rt?"":"/"+Vt),this._units},toString:function(St,Rt){var Pt;if(j(St))Pt=this.units(),Rt=St;else if(a(St))Pt=St;else if(ln(St))return this.toPrec(St).toString(Rt);var Vt=this.to(Pt),sn=Rt!==void 0?ot(Vt.scalar,Rt):Vt.scalar;return Vt=(sn+" "+Vt.units()).trim(),Vt},format:function(St,Rt){arguments.length===1&&typeof St=="function"&&(Rt=St,St=void 0),Rt=Rt||Nt.formatter;var Pt=this.to(St);return Rt.call(this,Pt.scalar,Pt.units())}});var Dn=new Tn;function Pn(St){var Rt=Dn.get(St);if(Rt)return Rt;var Pt=tt(St,dt);return Pt?Rt="1":Rt=Ln(Nn(St)).join("*"),Dn.set(St,Rt),Rt}function Nn(St){for(var Rt=[],Pt,Vt,sn=0;sn<St.length;sn++)Pt=St[sn],Vt=St[sn+1],ht[Pt]?(Rt.push(xt[Pt]+xt[Vt]),sn++):Rt.push(xt[Pt]);return Rt}function Ln(St){var Rt=St.reduce(function(Pt,Vt){var sn=Pt[Vt];return sn||Pt.push(sn=Pt[Vt]=[Vt,0]),sn[1]++,Pt},[]);return Rt.map(function(Pt){return Pt[0]+(Pt[1]>1?Pt[1]:"")})}return Nt.version="1.7.6",Nt})})(quantities);var quantitiesExports=quantities.exports;const Qty=getDefaultExportFromCjs(quantitiesExports);function deepValue(o,s=""){let a=s.split(".");for(let $ of a){if(o[$]===void 0)return;o=o[$]}return o}var orientation={exports:{}},twoProduct_1=twoProduct$1,SPLITTER=+(Math.pow(2,27)+1);function twoProduct$1(o,s,a){var $=o*s,j=SPLITTER*o,_e=j-o,et=j-_e,tt=o-et,rt=SPLITTER*s,nt=rt-s,it=rt-nt,ot=s-it,st=$-et*it,at=st-tt*it,lt=at-et*ot,ft=tt*ot-lt;return a?(a[0]=ft,a[1]=$,a):[ft,$]}var robustSum=linearExpansionSum;function scalarScalar$1(o,s){var a=o+s,$=a-o,j=a-$,_e=s-$,et=o-j,tt=et+_e;return tt?[tt,a]:[a]}function linearExpansionSum(o,s){var a=o.length|0,$=s.length|0;if(a===1&&$===1)return scalarScalar$1(o[0],s[0]);var j=a+$,_e=new Array(j),et=0,tt=0,rt=0,nt=Math.abs,it=o[tt],ot=nt(it),st=s[rt],at=nt(st),lt,ft;ot<at?(ft=it,tt+=1,tt<a&&(it=o[tt],ot=nt(it))):(ft=st,rt+=1,rt<$&&(st=s[rt],at=nt(st))),tt<a&&ot<at||rt>=$?(lt=it,tt+=1,tt<a&&(it=o[tt],ot=nt(it))):(lt=st,rt+=1,rt<$&&(st=s[rt],at=nt(st)));for(var pt=lt+ft,ut=pt-lt,dt=ft-ut,ct=dt,ht=pt,mt,vt,yt,xt,bt;tt<a&&rt<$;)ot<at?(lt=it,tt+=1,tt<a&&(it=o[tt],ot=nt(it))):(lt=st,rt+=1,rt<$&&(st=s[rt],at=nt(st))),ft=ct,pt=lt+ft,ut=pt-lt,dt=ft-ut,dt&&(_e[et++]=dt),mt=ht+pt,vt=mt-ht,yt=mt-vt,xt=pt-vt,bt=ht-yt,ct=bt+xt,ht=mt;for(;tt<a;)lt=it,ft=ct,pt=lt+ft,ut=pt-lt,dt=ft-ut,dt&&(_e[et++]=dt),mt=ht+pt,vt=mt-ht,yt=mt-vt,xt=pt-vt,bt=ht-yt,ct=bt+xt,ht=mt,tt+=1,tt<a&&(it=o[tt]);for(;rt<$;)lt=st,ft=ct,pt=lt+ft,ut=pt-lt,dt=ft-ut,dt&&(_e[et++]=dt),mt=ht+pt,vt=mt-ht,yt=mt-vt,xt=pt-vt,bt=ht-yt,ct=bt+xt,ht=mt,rt+=1,rt<$&&(st=s[rt]);return ct&&(_e[et++]=ct),ht&&(_e[et++]=ht),et||(_e[et++]=0),_e.length=et,_e}var twoSum$1=fastTwoSum;function fastTwoSum(o,s,a){var $=o+s,j=$-o,_e=$-j,et=s-j,tt=o-_e;return a?(a[0]=tt+et,a[1]=$,a):[tt+et,$]}var twoProduct=twoProduct_1,twoSum=twoSum$1,robustScale=scaleLinearExpansion;function scaleLinearExpansion(o,s){var a=o.length;if(a===1){var $=twoProduct(o[0],s);return $[0]?$:[$[1]]}var j=new Array(2*a),_e=[.1,.1],et=[.1,.1],tt=0;twoProduct(o[0],s,_e),_e[0]&&(j[tt++]=_e[0]);for(var rt=1;rt<a;++rt){twoProduct(o[rt],s,et);var nt=_e[1];twoSum(nt,et[0],_e),_e[0]&&(j[tt++]=_e[0]);var it=et[1],ot=_e[1],st=it+ot,at=st-it,lt=ot-at;_e[1]=st,lt&&(j[tt++]=lt)}return _e[1]&&(j[tt++]=_e[1]),tt===0&&(j[tt++]=0),j.length=tt,j}var robustDiff=robustSubtract;function scalarScalar(o,s){var a=o+s,$=a-o,j=a-$,_e=s-$,et=o-j,tt=et+_e;return tt?[tt,a]:[a]}function robustSubtract(o,s){var a=o.length|0,$=s.length|0;if(a===1&&$===1)return scalarScalar(o[0],-s[0]);var j=a+$,_e=new Array(j),et=0,tt=0,rt=0,nt=Math.abs,it=o[tt],ot=nt(it),st=-s[rt],at=nt(st),lt,ft;ot<at?(ft=it,tt+=1,tt<a&&(it=o[tt],ot=nt(it))):(ft=st,rt+=1,rt<$&&(st=-s[rt],at=nt(st))),tt<a&&ot<at||rt>=$?(lt=it,tt+=1,tt<a&&(it=o[tt],ot=nt(it))):(lt=st,rt+=1,rt<$&&(st=-s[rt],at=nt(st)));for(var pt=lt+ft,ut=pt-lt,dt=ft-ut,ct=dt,ht=pt,mt,vt,yt,xt,bt;tt<a&&rt<$;)ot<at?(lt=it,tt+=1,tt<a&&(it=o[tt],ot=nt(it))):(lt=st,rt+=1,rt<$&&(st=-s[rt],at=nt(st))),ft=ct,pt=lt+ft,ut=pt-lt,dt=ft-ut,dt&&(_e[et++]=dt),mt=ht+pt,vt=mt-ht,yt=mt-vt,xt=pt-vt,bt=ht-yt,ct=bt+xt,ht=mt;for(;tt<a;)lt=it,ft=ct,pt=lt+ft,ut=pt-lt,dt=ft-ut,dt&&(_e[et++]=dt),mt=ht+pt,vt=mt-ht,yt=mt-vt,xt=pt-vt,bt=ht-yt,ct=bt+xt,ht=mt,tt+=1,tt<a&&(it=o[tt]);for(;rt<$;)lt=st,ft=ct,pt=lt+ft,ut=pt-lt,dt=ft-ut,dt&&(_e[et++]=dt),mt=ht+pt,vt=mt-ht,yt=mt-vt,xt=pt-vt,bt=ht-yt,ct=bt+xt,ht=mt,rt+=1,rt<$&&(st=-s[rt]);return ct&&(_e[et++]=ct),ht&&(_e[et++]=ht),et||(_e[et++]=0),_e.length=et,_e}(function(o){var s=twoProduct_1,a=robustSum,$=robustScale,j=robustDiff,_e=5,et=11102230246251565e-32,tt=(3+16*et)*et,rt=(7+56*et)*et;function nt(ct,ht,mt,vt){return function(xt,bt,gt){var wt=ct(ct(ht(bt[1],gt[0]),ht(-gt[1],bt[0])),ct(ht(xt[1],bt[0]),ht(-bt[1],xt[0]))),Et=ct(ht(xt[1],gt[0]),ht(-gt[1],xt[0])),kt=vt(wt,Et);return kt[kt.length-1]}}function it(ct,ht,mt,vt){return function(xt,bt,gt,wt){var Et=ct(ct(mt(ct(ht(gt[1],wt[0]),ht(-wt[1],gt[0])),bt[2]),ct(mt(ct(ht(bt[1],wt[0]),ht(-wt[1],bt[0])),-gt[2]),mt(ct(ht(bt[1],gt[0]),ht(-gt[1],bt[0])),wt[2]))),ct(mt(ct(ht(bt[1],wt[0]),ht(-wt[1],bt[0])),xt[2]),ct(mt(ct(ht(xt[1],wt[0]),ht(-wt[1],xt[0])),-bt[2]),mt(ct(ht(xt[1],bt[0]),ht(-bt[1],xt[0])),wt[2])))),kt=ct(ct(mt(ct(ht(gt[1],wt[0]),ht(-wt[1],gt[0])),xt[2]),ct(mt(ct(ht(xt[1],wt[0]),ht(-wt[1],xt[0])),-gt[2]),mt(ct(ht(xt[1],gt[0]),ht(-gt[1],xt[0])),wt[2]))),ct(mt(ct(ht(bt[1],gt[0]),ht(-gt[1],bt[0])),xt[2]),ct(mt(ct(ht(xt[1],gt[0]),ht(-gt[1],xt[0])),-bt[2]),mt(ct(ht(xt[1],bt[0]),ht(-bt[1],xt[0])),gt[2])))),Ct=vt(Et,kt);return Ct[Ct.length-1]}}function ot(ct,ht,mt,vt){return function(xt,bt,gt,wt,Et){var kt=ct(ct(ct(mt(ct(mt(ct(ht(wt[1],Et[0]),ht(-Et[1],wt[0])),gt[2]),ct(mt(ct(ht(gt[1],Et[0]),ht(-Et[1],gt[0])),-wt[2]),mt(ct(ht(gt[1],wt[0]),ht(-wt[1],gt[0])),Et[2]))),bt[3]),ct(mt(ct(mt(ct(ht(wt[1],Et[0]),ht(-Et[1],wt[0])),bt[2]),ct(mt(ct(ht(bt[1],Et[0]),ht(-Et[1],bt[0])),-wt[2]),mt(ct(ht(bt[1],wt[0]),ht(-wt[1],bt[0])),Et[2]))),-gt[3]),mt(ct(mt(ct(ht(gt[1],Et[0]),ht(-Et[1],gt[0])),bt[2]),ct(mt(ct(ht(bt[1],Et[0]),ht(-Et[1],bt[0])),-gt[2]),mt(ct(ht(bt[1],gt[0]),ht(-gt[1],bt[0])),Et[2]))),wt[3]))),ct(mt(ct(mt(ct(ht(gt[1],wt[0]),ht(-wt[1],gt[0])),bt[2]),ct(mt(ct(ht(bt[1],wt[0]),ht(-wt[1],bt[0])),-gt[2]),mt(ct(ht(bt[1],gt[0]),ht(-gt[1],bt[0])),wt[2]))),-Et[3]),ct(mt(ct(mt(ct(ht(wt[1],Et[0]),ht(-Et[1],wt[0])),bt[2]),ct(mt(ct(ht(bt[1],Et[0]),ht(-Et[1],bt[0])),-wt[2]),mt(ct(ht(bt[1],wt[0]),ht(-wt[1],bt[0])),Et[2]))),xt[3]),mt(ct(mt(ct(ht(wt[1],Et[0]),ht(-Et[1],wt[0])),xt[2]),ct(mt(ct(ht(xt[1],Et[0]),ht(-Et[1],xt[0])),-wt[2]),mt(ct(ht(xt[1],wt[0]),ht(-wt[1],xt[0])),Et[2]))),-bt[3])))),ct(ct(mt(ct(mt(ct(ht(bt[1],Et[0]),ht(-Et[1],bt[0])),xt[2]),ct(mt(ct(ht(xt[1],Et[0]),ht(-Et[1],xt[0])),-bt[2]),mt(ct(ht(xt[1],bt[0]),ht(-bt[1],xt[0])),Et[2]))),wt[3]),ct(mt(ct(mt(ct(ht(bt[1],wt[0]),ht(-wt[1],bt[0])),xt[2]),ct(mt(ct(ht(xt[1],wt[0]),ht(-wt[1],xt[0])),-bt[2]),mt(ct(ht(xt[1],bt[0]),ht(-bt[1],xt[0])),wt[2]))),-Et[3]),mt(ct(mt(ct(ht(gt[1],wt[0]),ht(-wt[1],gt[0])),bt[2]),ct(mt(ct(ht(bt[1],wt[0]),ht(-wt[1],bt[0])),-gt[2]),mt(ct(ht(bt[1],gt[0]),ht(-gt[1],bt[0])),wt[2]))),xt[3]))),ct(mt(ct(mt(ct(ht(gt[1],wt[0]),ht(-wt[1],gt[0])),xt[2]),ct(mt(ct(ht(xt[1],wt[0]),ht(-wt[1],xt[0])),-gt[2]),mt(ct(ht(xt[1],gt[0]),ht(-gt[1],xt[0])),wt[2]))),-bt[3]),ct(mt(ct(mt(ct(ht(bt[1],wt[0]),ht(-wt[1],bt[0])),xt[2]),ct(mt(ct(ht(xt[1],wt[0]),ht(-wt[1],xt[0])),-bt[2]),mt(ct(ht(xt[1],bt[0]),ht(-bt[1],xt[0])),wt[2]))),gt[3]),mt(ct(mt(ct(ht(bt[1],gt[0]),ht(-gt[1],bt[0])),xt[2]),ct(mt(ct(ht(xt[1],gt[0]),ht(-gt[1],xt[0])),-bt[2]),mt(ct(ht(xt[1],bt[0]),ht(-bt[1],xt[0])),gt[2]))),-wt[3]))))),Ct=ct(ct(ct(mt(ct(mt(ct(ht(wt[1],Et[0]),ht(-Et[1],wt[0])),gt[2]),ct(mt(ct(ht(gt[1],Et[0]),ht(-Et[1],gt[0])),-wt[2]),mt(ct(ht(gt[1],wt[0]),ht(-wt[1],gt[0])),Et[2]))),xt[3]),mt(ct(mt(ct(ht(wt[1],Et[0]),ht(-Et[1],wt[0])),xt[2]),ct(mt(ct(ht(xt[1],Et[0]),ht(-Et[1],xt[0])),-wt[2]),mt(ct(ht(xt[1],wt[0]),ht(-wt[1],xt[0])),Et[2]))),-gt[3])),ct(mt(ct(mt(ct(ht(gt[1],Et[0]),ht(-Et[1],gt[0])),xt[2]),ct(mt(ct(ht(xt[1],Et[0]),ht(-Et[1],xt[0])),-gt[2]),mt(ct(ht(xt[1],gt[0]),ht(-gt[1],xt[0])),Et[2]))),wt[3]),mt(ct(mt(ct(ht(gt[1],wt[0]),ht(-wt[1],gt[0])),xt[2]),ct(mt(ct(ht(xt[1],wt[0]),ht(-wt[1],xt[0])),-gt[2]),mt(ct(ht(xt[1],gt[0]),ht(-gt[1],xt[0])),wt[2]))),-Et[3]))),ct(ct(mt(ct(mt(ct(ht(gt[1],Et[0]),ht(-Et[1],gt[0])),bt[2]),ct(mt(ct(ht(bt[1],Et[0]),ht(-Et[1],bt[0])),-gt[2]),mt(ct(ht(bt[1],gt[0]),ht(-gt[1],bt[0])),Et[2]))),xt[3]),mt(ct(mt(ct(ht(gt[1],Et[0]),ht(-Et[1],gt[0])),xt[2]),ct(mt(ct(ht(xt[1],Et[0]),ht(-Et[1],xt[0])),-gt[2]),mt(ct(ht(xt[1],gt[0]),ht(-gt[1],xt[0])),Et[2]))),-bt[3])),ct(mt(ct(mt(ct(ht(bt[1],Et[0]),ht(-Et[1],bt[0])),xt[2]),ct(mt(ct(ht(xt[1],Et[0]),ht(-Et[1],xt[0])),-bt[2]),mt(ct(ht(xt[1],bt[0]),ht(-bt[1],xt[0])),Et[2]))),gt[3]),mt(ct(mt(ct(ht(bt[1],gt[0]),ht(-gt[1],bt[0])),xt[2]),ct(mt(ct(ht(xt[1],gt[0]),ht(-gt[1],xt[0])),-bt[2]),mt(ct(ht(xt[1],bt[0]),ht(-bt[1],xt[0])),gt[2]))),-Et[3])))),Mt=vt(kt,Ct);return Mt[Mt.length-1]}}function st(ct){var ht=ct===3?nt:ct===4?it:ot;return ht(a,s,$,j)}var at=st(3),lt=st(4),ft=[function(){return 0},function(){return 0},function(ht,mt){return mt[0]-ht[0]},function(ht,mt,vt){var yt=(ht[1]-vt[1])*(mt[0]-vt[0]),xt=(ht[0]-vt[0])*(mt[1]-vt[1]),bt=yt-xt,gt;if(yt>0){if(xt<=0)return bt;gt=yt+xt}else if(yt<0){if(xt>=0)return bt;gt=-(yt+xt)}else return bt;var wt=tt*gt;return bt>=wt||bt<=-wt?bt:at(ht,mt,vt)},function(ht,mt,vt,yt){var xt=ht[0]-yt[0],bt=mt[0]-yt[0],gt=vt[0]-yt[0],wt=ht[1]-yt[1],Et=mt[1]-yt[1],kt=vt[1]-yt[1],Ct=ht[2]-yt[2],Mt=mt[2]-yt[2],Ft=vt[2]-yt[2],Tt=bt*kt,$t=gt*Et,Dt=gt*wt,It=xt*kt,Yt=xt*Et,Ht=bt*wt,jt=Ct*(Tt-$t)+Mt*(Dt-It)+Ft*(Yt-Ht),Bt=(Math.abs(Tt)+Math.abs($t))*Math.abs(Ct)+(Math.abs(Dt)+Math.abs(It))*Math.abs(Mt)+(Math.abs(Yt)+Math.abs(Ht))*Math.abs(Ft),Ot=rt*Bt;return jt>Ot||-jt>Ot?jt:lt(ht,mt,vt,yt)}];function pt(ct){var ht=ft[ct.length];return ht||(ht=ft[ct.length]=st(ct.length)),ht.apply(void 0,ct)}function ut(ct,ht,mt,vt,yt,xt,bt){return function(wt,Et,kt,Ct,Mt){switch(arguments.length){case 0:case 1:return 0;case 2:return vt(wt,Et);case 3:return yt(wt,Et,kt);case 4:return xt(wt,Et,kt,Ct);case 5:return bt(wt,Et,kt,Ct,Mt)}for(var Ft=new Array(arguments.length),Tt=0;Tt<arguments.length;++Tt)Ft[Tt]=arguments[Tt];return ct(Ft)}}function dt(){for(;ft.length<=_e;)ft.push(st(ft.length));o.exports=ut.apply(void 0,[pt].concat(ft));for(var ct=0;ct<=_e;++ct)o.exports[ct]=ft[ct]}dt()})(orientation);var orientationExports=orientation.exports,robustPnp=robustPointInPolygon,orient=orientationExports;function robustPointInPolygon(o,s){for(var a=s[0],$=s[1],j=o.length,_e=1,et=j,tt=0,rt=j-1;tt<et;rt=tt++){var nt=o[tt],it=o[rt],ot=nt[1],st=it[1];if(st<ot){if(st<$&&$<ot){var at=orient(nt,it,s);if(at===0)return 0;_e^=0<at|0}else if($===ot){var lt=o[(tt+1)%j],ft=lt[1];if(ot<ft){var at=orient(nt,it,s);if(at===0)return 0;_e^=0<at|0}}}else if(ot<st){if(ot<$&&$<st){var at=orient(nt,it,s);if(at===0)return 0;_e^=at<0|0}else if($===ot){var lt=o[(tt+1)%j],ft=lt[1];if(ft<ot){var at=orient(nt,it,s);if(at===0)return 0;_e^=at<0|0}}}else if($===ot){var pt=Math.min(nt[0],it[0]),ut=Math.max(nt[0],it[0]);if(tt===0){for(;rt>0;){var dt=(rt+j-1)%j,ct=o[dt];if(ct[1]!==$)break;var ht=ct[0];pt=Math.min(pt,ht),ut=Math.max(ut,ht),rt=dt}if(rt===0)return pt<=a&&a<=ut?0:1;et=rt+1}for(var mt=o[(rt+j-1)%j][1];tt+1<et;){var ct=o[tt+1];if(ct[1]!==$)break;var ht=ct[0];pt=Math.min(pt,ht),ut=Math.max(ut,ht),tt+=1}if(pt<=a&&a<=ut)return 0;var vt=o[(tt+1)%j][1];a<pt&&mt<$!=vt<$&&(_e^=1)}}return 2*_e-1}const robustPointInPolygon$1=getDefaultExportFromCjs(robustPnp);function feretDiameters(o={}){const{originalPoints:s=monotoneChainConvexHull.call(this)}=o;if(s.length===0)return{min:0,max:0,minLine:[],maxLine:[],aspectRatio:1};if(s.length===1)return{min:1,max:1,minLine:[s[0],s[0]],maxLine:[s[0],s[0]],aspectRatio:1};const a=new Array(s.length);let $=1/0,j=0,_e=[];for(let nt=0;nt<s.length;nt++){let it=getAngle(s[nt],s[(nt+1)%s.length]);rotate(-it,s,a);let ot=0,st=[];for(let at=0;at<s.length;at++){let lt=Math.abs(a[nt][1]-a[at][1]);lt>ot&&(ot=lt,st=[],st.push([a[at][0],a[nt][1]],[a[at][0],a[at][1]]))}ot<$&&($=ot,j=it,_e=st)}rotate(j,_e,_e);let et=0,tt=[],rt=0;for(let nt=0;nt<s.length-1;nt++)for(let it=nt+1;it<s.length;it++){let ot=(s[nt][0]-s[it][0])**2+(s[nt][1]-s[it][1])**2;ot>rt&&(rt=ot,et=Math.sqrt(ot),tt=[s[nt],s[it]])}return{min:$,minLine:_e,max:et,maxLine:tt,aspectRatio:$/et}}function getAngle(o,s){let a=difference(s,o),$=normalize(a),j=Math.acos($[0]);return $[1]<0?-j:j}class Roi{constructor(s,a){this.map=s,this.id=a,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,this.meanX=0,this.meanY=0,this.surface=0,this.computed={}}getMask(s={}){const{scale:a=1,kind:$=""}=s;let j;switch($){case"contour":j=this.contourMask;break;case"box":j=this.boxMask;break;case"filled":j=this.filledMask;break;case"center":j=this.centerMask;break;case"mbr":j=this.mbrFilledMask;break;case"hull":j=this.convexHullFilledMask;break;case"hullContour":j=this.convexHullMask;break;case"mbrContour":j=this.mbrMask;break;case"feret":j=this.feretMask;break;default:j=this.mask}return a<1&&(j=j.resize({factor:a}),j.parent=this.mask.parent,j.position[0]+=this.minX,j.position[1]+=this.minY),j}get mean(){throw new Error("Roi mean not implemented yet")}get center(){return this.computed.center||(this.computed.center=[this.width/2>>0,this.height/2>>0]),this.computed.center}get ratio(){return this.width/this.height}get width(){return this.maxX-this.minX+1}get height(){return this.maxY-this.minY+1}_computExternalIDs(){let s=this.borderIDs,a=this.borderLengths;this.computed.externalIDs=[],this.computed.externalLengths=[];let $=this.internalIDs;for(let j=0;j<s.length;j++)$.includes(s[j])||(this.computed.externalIDs.push(s[j]),this.computed.externalLengths.push(a[j]))}get externalIDs(){return this.computed.externalIDs?this.computed.externalIDs:(this._computExternalIDs(),this.computed.externalIDs)}get externalLengths(){return this.computed.externalLengths?this.computed.externalLengths:(this._computExternalIDs(),this.computed.externalLengths)}_computeBorderIDs(){let s=getBorders(this);this.computed.borderIDs=s.ids,this.computed.borderLengths=s.lengths}get borderIDs(){return this.computed.borderIDs?this.computed.borderIDs:(this._computeBorderIDs(),this.computed.borderIDs)}get borderLengths(){return this.computed.borderLengths?this.computed.borderLengths:(this._computeBorderIDs(),this.computed.borderLengths)}get boxIDs(){return this.computed.boxIDs||(this.computed.boxIDs=getBoxIDs(this)),this.computed.boxIDs}get internalIDs(){return this.computed.internalIDs||(this.computed.internalIDs=getInternalIDs(this)),this.computed.internalIDs}get box(){return this.computed.box||(this.computed.box=getBox(this)),this.computed.box}get external(){return this.computed.external||(this.computed.external=getExternal(this)),this.computed.external}get holesInfo(){return this.computed.holesInfo||(this.computed.holesInfo=getHolesInfo(this)),this.computed.holesInfo}get border(){return this.computed.border||(this.computed.border=getBorder(this)),this.computed.border}get contourMask(){if(!this.computed.contourMask){let s=new Image(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let a=0;a<this.width;a++)for(let $=0;$<this.height;$++)this.map.data[a+this.minX+($+this.minY)*this.map.width]===this.id&&(a>0&&a<this.width-1&&$>0&&$<this.height-1?(this.map.data[a-1+this.minX+($+this.minY)*this.map.width]!==this.id||this.map.data[a+1+this.minX+($+this.minY)*this.map.width]!==this.id||this.map.data[a+this.minX+($-1+this.minY)*this.map.width]!==this.id||this.map.data[a+this.minX+($+1+this.minY)*this.map.width]!==this.id)&&s.setBitXY(a,$):s.setBitXY(a,$));this.computed.contourMask=s}return this.computed.contourMask}get boxMask(){if(!this.computed.boxMask){let s=new Image(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let a=0;a<this.width;a++)s.setBitXY(a,0),s.setBitXY(a,this.height-1);for(let a=0;a<this.height;a++)s.setBitXY(0,a),s.setBitXY(this.width-1,a);this.computed.boxMask=s}return this.computed.boxMask}get mask(){if(!this.computed.mask){let s=new Image(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let a=0;a<this.width;a++)for(let $=0;$<this.height;$++)this.map.data[a+this.minX+($+this.minY)*this.map.width]===this.id&&s.setBitXY(a,$);this.computed.mask=s}return this.computed.mask}get filledMask(){if(!this.computed.filledMask){let s=new Image(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let a=0;a<this.width;a++)for(let $=0;$<this.height;$++){let j=a+this.minX+($+this.minY)*this.map.width;this.internalIDs.includes(this.map.data[j])&&s.setBitXY(a,$)}this.computed.filledMask=s}return this.computed.filledMask}get centerMask(){if(!this.computed.centerMask){let s=new Shape({kind:"smallCross"}).getMask();s.parent=this.map.parent,s.position=[this.minX+this.center[0]-1,this.minY+this.center[1]-1],this.computed.centerMask=s}return this.computed.centerMask}get convexHull(){if(!this.computed.convexHull){const s=[];for(let $=0;$<this.width;$++)for(let j=0;j<this.height;j++)this.map.data[$+this.minX+(j+this.minY)*this.map.width]===this.id&&($>0&&$<this.width-1&&j>0&&j<this.height-1?(this.map.data[$-1+this.minX+(j+this.minY)*this.map.width]!==this.id||this.map.data[$+1+this.minX+(j+this.minY)*this.map.width]!==this.id||this.map.data[$+this.minX+(j-1+this.minY)*this.map.width]!==this.id||this.map.data[$+this.minX+(j+1+this.minY)*this.map.width]!==this.id)&&(s.push([$,j]),s.push([$+1,j]),s.push([$,j+1]),s.push([$+1,j+1])):(s.push([$,j]),s.push([$+1,j]),s.push([$,j+1]),s.push([$+1,j+1])));const a=monotoneChainConvexHull$1(s);this.computed.convexHull={polyline:a,surface:surface(a),perimeter:perimeter(a)}}return this.computed.convexHull}get convexHullMask(){if(!this.computed.convexHullMask){const s=this.convexHull,a=new Image(this.width+1,this.height+1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});a.paintPolyline(s.polyline,{closed:!0}),this.computed.convexHullMask=a}return this.computed.convexHullMask}get convexHullFilledMask(){if(!this.computed.convexHullFilledMask){const s=this.convexHull,a=new Image(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});for(let $=0;$<this.width;$++)for(let j=0;j<this.height;j++)robustPointInPolygon$1(s.polyline,[$,j])!==1&&a.setBitXY($,j);this.computed.convexHullFilledMask=a}return this.computed.convexHullFilledMask}get mbr(){if(!this.computed.mbr){let s=minimalBoundingRectangle({originalPoints:this.convexHull.polyline});if(s.length===0)this.computed.mbr={width:0,height:0,surface:0,perimeter:0,rectangle:s};else{let a=s[0],$=s[1],j=s[2],_e=Math.sqrt((a[0]-$[0])**2+(a[1]-$[1])**2),et=Math.sqrt((j[0]-$[0])**2+(j[1]-$[1])**2);this.computed.mbr={width:_e,height:et,elongation:1-_e/et,aspectRatio:_e/et,surface:_e*et,perimeter:(_e+et)*2,rectangle:s}}}return this.computed.mbr}get fillRatio(){return this.surface/(this.surface+this.holesInfo.surface)}get feretDiameters(){return this.computed.feretDiameters||(this.computed.feretDiameters=feretDiameters({originalPoints:this.convexHull.polyline})),this.computed.feretDiameters}get eqpc(){return this.computed.eqpc||(this.computed.eqpc=2*Math.sqrt(this.surface/Math.PI)),this.computed.eqpc}get perimeterInfo(){return this.computed.perimeterInfo||(this.computed.perimeterInfo=getPerimeterInfo(this)),this.computed.perimeterInfo}get perimeter(){let s=this.perimeterInfo,a=2-Math.sqrt(2);return s.one+s.two*2+s.three*3+s.four*4-a*(s.two+s.three*2+s.four)}get ped(){return this.computed.ped||(this.computed.ped=this.perimeter/Math.PI),this.computed.ped}get feretMask(){if(!this.computed.feretMask){const s=new Image(this.width+1,this.height+1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent});s.paintPolyline(this.feretDiameters.minLine),s.paintPolyline(this.feretDiameters.maxLine),this.computed.feretMask=s}return this.computed.feretMask}get mbrMask(){if(!this.computed.mbrMask){let s=round$1(this.mbr.rectangle);if(s.length>0){const a=minMax(s),$=new Image(a[1][0]-a[0][0]+1,a[1][1]-a[0][1]+1,{kind:BINARY,position:[this.minX+a[0][0],this.minY+a[0][1]],parent:this.map.parent});s=moveToZeroZero(s),$.paintPolyline(s,{closed:!0}),this.computed.mbrMask=$}else this.computed.mbrMask=new Image(1,1,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent})}return this.computed.mbrMask}get mbrFilledMask(){if(!this.computed.mbrFilledMask){const s=new Image(this.width,this.height,{kind:BINARY,position:[this.minX,this.minY],parent:this.map.parent}),a=this.mask.minimalBoundingRectangle();for(let $=0;$<this.width;$++)for(let j=0;j<this.height;j++)robustPointInPolygon$1(a,[$,j])!==1&&s.setBitXY($,j);this.computed.mbrFilledMask=s}return this.computed.mbrFilledMask}get points(){if(!this.computed.points){let s=[];for(let a=0;a<this.height;a++)for(let $=0;$<this.width;$++){let j=(a+this.minY)*this.map.width+$+this.minX;this.map.data[j]===this.id&&s.push([$,a])}this.computed.points=s}return this.computed.points}get maxLengthPoints(){if(!this.computed.maxLengthPoints){let s=0,a;const $=this.points;for(let j=0;j<$.length;j++)for(let _e=j+1;_e<$.length;_e++){let et=Math.pow($[j][0]-$[_e][0],2)+Math.pow($[j][1]-$[_e][1],2);et>=s&&(s=et,a=[$[j],$[_e]])}this.computed.maxLengthPoints=a}return this.computed.maxLengthPoints}get maxLength(){if(!this.computed.maxLength){let s=Math.sqrt(Math.pow(this.maxLengthPoints[0][0]-this.maxLengthPoints[1][0],2)+Math.pow(this.maxLengthPoints[0][1]-this.maxLengthPoints[1][1],2));this.computed.maxLength=s}return this.computed.maxLength}get roundness(){return 4*this.surface/(Math.PI*this.feretDiameters.max**2)}get sphericity(){return 2*Math.sqrt(this.surface*Math.PI)/this.perimeter}get solidity(){return this.surface/this.convexHull.surface}get angle(){if(!this.computed.angle){let s=this.maxLengthPoints,a=-Math.atan2(s[0][1]-s[1][1],s[0][0]-s[1][0])*180/Math.PI;this.computed.angle=a}return this.computed.angle}toJSON(){return{id:this.id,minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,meanX:this.meanX,meanY:this.meanY,height:this.height,width:this.width,surface:this.surface,mbrWidth:this.mbr.width,mbrHeight:this.mbr.height,mbrSurface:this.mbr.surface,eqpc:this.eqpc,ped:this.ped,feretDiameterMin:this.feretDiameters.min,feretDiameterMax:this.feretDiameters.max,aspectRatio:this.feretDiameters.aspectRatio,fillRatio:this.fillRatio,sphericity:this.sphericity,roundness:this.roundness,solidity:this.solidity,perimeter:this.perimeter}}}function getBorders(o){let s=o.map,a=s.data,$=new Set,j=new Map,_e=new Set,et=[1,0,-1,0],tt=[0,1,0,-1];for(let it=o.minX;it<=o.maxX;it++)for(let ot=o.minY;ot<=o.maxY;ot++){let st=it+ot*s.width;if(a[st]===o.id)for(let at=0;at<4;at++){let lt=it+et[at],ft=ot+tt[at];if(lt>=0&&ft>=0&&lt<s.width&&ft<s.height){let pt=lt+ft*s.width;if(a[pt]!==o.id&&!_e.has(pt)){_e.add(pt),$.add(a[pt]);let ut=j.get(a[pt]);ut?j.set(a[pt],++ut):j.set(a[pt],1)}}}}let rt=Array.from($),nt=rt.map(function(it){return j.get(it)});return{ids:rt,lengths:nt}}function getBoxIDs(o){let s=new Set,a=o.map,$=a.data;for(let j of[0,o.height-1])for(let _e=0;_e<o.width;_e++){let et=(j+o.minY)*a.width+_e+o.minX;if(_e-o.minX>0&&$[et]===o.id&&$[et-1]!==o.id){let tt=$[et-1];s.add(tt)}if(a.width-_e-o.minX>1&&$[et]===o.id&&$[et+1]!==o.id){let tt=$[et+1];s.add(tt)}}for(let j of[0,o.width-1])for(let _e=0;_e<o.height;_e++){let et=(_e+o.minY)*a.width+j+o.minX;if(_e-o.minY>0&&$[et]===o.id&&$[et-a.width]!==o.id){let tt=$[et-a.width];s.add(tt)}if(a.height-_e-o.minY>1&&$[et]===o.id&&$[et+a.width]!==o.id){let tt=$[et+a.width];s.add(tt)}}return Array.from(s)}function getBox(o){let s=0,a=o.map,$=a.data,j=[0];o.height>1&&(j[1]=o.height-1);for(let et of j)for(let tt=1;tt<o.width-1;tt++){let rt=(et+o.minY)*a.width+tt+o.minX;$[rt]===o.id&&s++}let _e=[0];o.width>1&&(_e[1]=o.width-1);for(let et of _e)for(let tt=0;tt<o.height;tt++){let rt=(tt+o.minY)*a.width+et+o.minX;$[rt]===o.id&&s++}return s}function getBorder(o){let s=0,a=o.map,$=a.data;for(let j=1;j<o.width-1;j++)for(let _e=1;_e<o.height-1;_e++){let et=(_e+o.minY)*a.width+j+o.minX;$[et]===o.id&&($[et-1]!==o.id||$[et+1]!==o.id||$[et-a.width]!==o.id||$[et+a.width]!==o.id)&&s++}return s+o.box}function getPerimeterInfo(o){let s=o.map,a=s.data,$=0,j=0,_e=0,et=0;for(let tt=0;tt<o.width;tt++)for(let rt=0;rt<o.height;rt++){let nt=(rt+o.minY)*s.width+tt+o.minX;if(a[nt]===o.id){let it=0;switch((tt===0||o.externalIDs.includes(a[nt-1]))&&it++,(tt===o.width-1||o.externalIDs.includes(a[nt+1]))&&it++,(rt===0||o.externalIDs.includes(a[nt-s.width]))&&it++,(rt===o.height-1||o.externalIDs.includes(a[nt+s.width]))&&it++,it){case 1:$++;break;case 2:j++;break;case 3:_e++;break;case 4:et++;break}}}return{one:$,two:j,three:_e,four:et}}function getExternal(o){let s=0,a=o.map,$=a.data;for(let j=1;j<o.width-1;j++)for(let _e=1;_e<o.height-1;_e++){let et=(_e+o.minY)*a.width+j+o.minX;$[et]===o.id&&(o.externalIDs.includes($[et-1])||o.externalIDs.includes($[et+1])||o.externalIDs.includes($[et-a.width])||o.externalIDs.includes($[et+a.width]))&&s++}return s+o.box}function getHolesInfo(o){let s=0,a=o.map.width,$=o.map.data;for(let j=1;j<o.width-1;j++)for(let _e=1;_e<o.height-1;_e++){let et=(_e+o.minY)*a+j+o.minX;o.internalIDs.includes($[et])&&$[et]!==o.id&&s++}return{number:o.internalIDs.length-1,surface:s}}function getInternalIDs(o){let s=[o.id],a=o.map,$=a.data;if(o.height>2)for(let _e=0;_e<o.width;_e++){let et=o.minY*a.width+_e+o.minX;if(s.includes($[et])){let tt=$[et+a.width];!s.includes(tt)&&!o.boxIDs.includes(tt)&&s.push(tt)}}let j=new Array(4);for(let _e=1;_e<o.width-1;_e++)for(let et=1;et<o.height-1;et++){let tt=(et+o.minY)*a.width+_e+o.minX;if(s.includes($[tt])){j[0]=$[tt-1],j[1]=$[tt+1],j[2]=$[tt-a.width],j[3]=$[tt+a.width];for(let rt=0;rt<4;rt++){let nt=j[rt];!s.includes(nt)&&!o.boxIDs.includes(nt)&&s.push(nt)}}}return s}class RoiLayer{constructor(s,a){this.roiMap=s,this.options=a,this.roi=this.createRoi()}createRoi(){let s=this.roiMap.data,a={};this.roiMap.positive=0,this.roiMap.negative=0;for(let tt=0;tt<s.length;tt++)s[tt]&&!a[s[tt]]&&(a[s[tt]]=!0,s[tt]>0?this.roiMap.positive++:this.roiMap.negative++);let $={};for(let tt in a)$[tt]=new Roi(this.roiMap,tt*1);let j=this.roiMap.width,_e=this.roiMap.height;for(let tt=0;tt<_e;tt++)for(let rt=0;rt<j;rt++){let nt=tt*j+rt;if(s[nt]!==0){const it=s[nt],ot=$[it];rt<ot.minX&&(ot.minX=rt),rt>ot.maxX&&(ot.maxX=rt),tt<ot.minY&&(ot.minY=tt),tt>ot.maxY&&(ot.maxY=tt),ot.meanX+=rt,ot.meanY+=tt,ot.surface++}}let et=[];for(let tt in a)$[tt].meanX/=$[tt].surface,$[tt].meanY/=$[tt].surface,et.push($[tt]);return et}}function commonBorderLength(o){let s=o.data,a=[1,0,-1,0],$=[0,1,0,-1],j=o.minMax,_e=-j.min,et=j.max+_e,tt=[];for(let nt=0;nt<=et;nt++)tt.push(Object.create(null));for(let nt=0;nt<o.width;nt++)for(let it=0;it<o.height;it++){let ot=nt+it*o.width,st=s[ot];if(st!==0){let at=Object.create(null),lt=!1;for(let ft=0;ft<4;ft++){let pt=nt+a[ft],ut=it+$[ft];if(pt>=0&&ut>=0&&pt<o.width&&ut<o.height){let dt=s[pt+ut*o.width];st!==dt&&(lt=!0,dt!==0&&at[dt]===void 0&&(at[dt]=!0,tt[dt+_e][st]?tt[dt+_e][st]++:tt[dt+_e][st]=1))}else lt=!0}lt&&(tt[st+_e][st]?tt[st+_e][st]++:tt[st+_e][st]=1)}}let rt={};for(let nt=0;nt<tt.length;nt++)Object.keys(tt[nt]).length>0&&(rt[nt-_e]=tt[nt]);return rt}function mergeRoi(o={}){const{algorithm:s="commonBorderLength",minCommonBorderLength:a=5,maxCommonBorderLength:$=100,minCommonBorderRatio:j=.3,maxCommonBorderRatio:_e=1}=o;let et=function(pt,ut,dt){return pt[dt]>=a&&pt[dt]<=$};typeof s=="function"&&(et=s),s.toLowerCase()==="commonborderratio"&&(et=function(pt,ut,dt){let ct=Math.min(pt[dt]/pt[ut],1);return ct>=j&&ct<=_e});const tt=this,rt=tt.commonBorderLength;let nt={},it={};for(let pt of Object.keys(rt)){let ut=rt[pt],dt=Object.keys(ut);for(let ct of dt)if(ct!==pt&&et(ut,pt,ct)){let ht=ct;it[ct]&&(ht=it[ct]);let mt=pt;if(it[pt]&&(mt=it[pt]),Number(ht)!==mt){let vt=Math.min(ht,mt),yt=Math.max(ht,mt);if(nt[vt]||(nt[vt]={}),nt[vt][yt]=!0,it[yt]=vt,nt[yt]){for(let xt of Object.keys(nt[yt]))nt[vt][xt]=!0,it[xt]=vt;delete nt[yt]}}}}let ot=tt.minMax,st=-ot.min,at=ot.max+st,lt=new Array(at+1).fill(0);for(let pt of Object.keys(it))lt[Number(pt)+st]=it[pt];let ft=tt.data;for(let pt=0;pt<ft.length;pt++){let ut=ft[pt];if(ut!==0){let dt=lt[ut+st];dt!==0&&(ft[pt]=dt)}}return tt.computed={},tt}class RoiMap{constructor(s,a){this.parent=s,this.width=s.width,this.height=s.height,this.data=a,this.negative=0,this.positive=0}get total(){return this.negative+this.positive}get minMax(){let s=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let $=0;$<this.data.length;$++)this.data[$]<s&&(s=this.data[$]),this.data[$]>a&&(a=this.data[$]);return{min:s,max:a}}get commonBorderLength(){return commonBorderLength(this)}mergeRoi(s={}){return mergeRoi.call(this,s)}mergeRois(s){const a=s[0],$=s.slice(1);for(let j=0;j<this.data.length;j++)$.includes(this.data[j])&&(this.data[j]=a)}rowsInfo(){let s=new Array(this.height),a=0;for(let $=0;$<this.data.length;$+=this.width){let j={row:a,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};s[a++]=j;let _e={},et={},tt=[],rt=this.data[$],nt=0;for(let it=$;it<$+this.width;it++){let ot=this.data[it];rt!==ot&&(rt=ot,tt.push(nt),nt=0),nt++,ot>0?(j.positivePixel++,_e[ot]||(_e[ot]=!0)):ot<0?(j.negativePixel++,et[ot]||(et[ot]=!0)):j.zeroPixel++}tt.push(nt),j.medianChange=tt.sort((it,ot)=>it-ot)[Math.floor(tt.length/2)],j.positiveRoiIDs=Object.keys(_e),j.negativeRoiIDs=Object.keys(et),j.positiveRoi=j.positiveRoiIDs.length,j.negativeRoi=j.negativeRoiIDs.length}return s}colsInfo(){let s=new Array(this.width),a=0;for(let $=0;$<this.width;$++){let j={col:a,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};s[a++]=j;let _e={},et={},tt=[],rt=this.data[$],nt=0;for(let it=$;it<$+this.data.length;it+=this.width){let ot=this.data[it];rt!==ot&&(rt=ot,tt.push(nt),nt=0),nt++,ot>0?(j.positivePixel++,_e[ot]||(_e[ot]=!0)):ot<0?(j.negativePixel++,et[ot]||(et[ot]=!0)):j.zeroPixel++}tt.push(nt),j.medianChange=tt.sort((it,ot)=>it-ot)[Math.floor(tt.length/2)],j.positiveRoiIDs=Object.keys(_e),j.negativeRoiIDs=Object.keys(et),j.positiveRoi=j.positiveRoiIDs.length,j.negativeRoi=j.negativeRoiIDs.length}return s}}function fromMask(o,s={}){const{allowCorners:a=!1}=s,$=65535;let j=new Int16Array(o.size),_e=0,et=0,tt=new Uint16Array($+1),rt=new Uint16Array($+1);for(let it=0;it<o.width;it++)for(let ot=0;ot<o.height;ot++)j[ot*o.width+it]===0&&nt(it,ot);function nt(it,ot){let st=0,at=0,lt=o.getBitXY(it,ot),ft=lt?++_e:--et;if(_e>32767||et<-32768)throw new Error("Too many regions of interest");for(tt[0]=it,rt[0]=ot;st<=at;){let pt=tt[st&$],ut=rt[st&$];if(j[ut*o.width+pt]=ft,pt>0&&j[ut*o.width+pt-1]===0&&o.getBitXY(pt-1,ut)===lt&&(at++,tt[at&$]=pt-1,rt[at&$]=ut,j[ut*o.width+pt-1]=-32768),ut>0&&j[(ut-1)*o.width+pt]===0&&o.getBitXY(pt,ut-1)===lt&&(at++,tt[at&$]=pt,rt[at&$]=ut-1,j[(ut-1)*o.width+pt]=-32768),pt<o.width-1&&j[ut*o.width+pt+1]===0&&o.getBitXY(pt+1,ut)===lt&&(at++,tt[at&$]=pt+1,rt[at&$]=ut,j[ut*o.width+pt+1]=-32768),ut<o.height-1&&j[(ut+1)*o.width+pt]===0&&o.getBitXY(pt,ut+1)===lt&&(at++,tt[at&$]=pt,rt[at&$]=ut+1,j[(ut+1)*o.width+pt]=-32768),a&&(pt>0&&ut>0&&j[(ut-1)*o.width+pt-1]===0&&o.getBitXY(pt-1,ut-1)===lt&&(at++,tt[at&$]=pt-1,rt[at&$]=ut-1,j[(ut-1)*o.width+pt-1]=-32768),pt<o.width-1&&ut>0&&j[(ut-1)*o.width+pt+1]===0&&o.getBitXY(pt+1,ut-1)===lt&&(at++,tt[at&$]=pt+1,rt[at&$]=ut-1,j[(ut-1)*o.width+pt+1]=-32768),pt>0&&ut<o.height-1&&j[(ut+1)*o.width+pt-1]===0&&o.getBitXY(pt-1,ut+1)===lt&&(at++,tt[at&$]=pt-1,rt[at&$]=ut+1,j[(ut+1)*o.width+pt-1]=-32768),pt<o.width-1&&ut<o.height-1&&j[(ut+1)*o.width+pt+1]===0&&o.getBitXY(pt+1,ut+1)===lt&&(at++,tt[at&$]=pt+1,rt[at&$]=ut+1,j[(ut+1)*o.width+pt+1]=-32768)),st++,at-st>$)throw new Error("analyseMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new RoiMap(o,j)}class DisjointSet{constructor(){this.nodes=new Map}add(s){var a=this.nodes.get(s);return a||(a=new DisjointSetNode(s),this.nodes.set(s,a)),a}union(s,a){const $=this.find(s),j=this.find(a);$!==j&&($.rank<j.rank?$.parent=j:$.rank>j.rank?j.parent=$:(j.parent=$,$.rank++))}find(s){for(var a=s;a.parent!==null;)a=a.parent;for(var $=s;$.parent!==null;){var j=$;$=$.parent,j.parent=a}return a}connected(s,a){return this.find(s)===this.find(a)}}var DisjointSet_1=DisjointSet;function DisjointSetNode(o){this.value=o,this.parent=null,this.rank=0}const DisjointSet$1=getDefaultExportFromCjs(DisjointSet_1),direction4X=[-1,0],direction4Y=[0,-1],neighbours4=[null,null],direction8X=[-1,-1,0,1],direction8Y=[0,-1,-1,-1],neighbours8=[null,null,null,null];function fromMaskConnectedComponentLabelingAlgorithm(o,s={}){const{allowCorners:a=!1}=s;let $=4;a&&($=8);let j,_e,et;if($===8)j=direction8X,_e=direction8Y,et=neighbours8;else if($===4)j=direction4X,_e=direction4Y,et=neighbours4;else throw new RangeError(`unsupported neighbours count: ${$}`);const tt=o.size,rt=o.width,nt=o.height,it=new Array(tt),ot=new Uint32Array(tt),st=new DisjointSet$1;let at=1;for(let lt=0;lt<nt;lt++)for(let ft=0;ft<rt;ft++){const pt=ft+lt*rt;if(o.getBit(pt)){let ut=null;for(let dt=0;dt<et.length;dt++){const ct=ft+j[dt],ht=lt+_e[dt];if(ct>=0&&ht>=0&&ct<rt&&ht<nt){const mt=ct+ht*rt;let vt=it[mt];vt?(et[dt]=vt,(!ut||et[dt].value<ut.value)&&(ut=et[dt])):et[dt]=null}}if(!ut)it[pt]=st.add(at++);else{it[pt]=ut;for(let dt=0;dt<et.length;dt++)et[dt]&&et[dt]!==ut&&st.union(ut,et[dt])}}}for(let lt=0;lt<nt;lt++)for(let ft=0;ft<rt;ft++){const pt=ft+lt*rt;o.getBit(pt)&&(ot[pt]=st.find(it[pt]).value)}return new RoiMap(o,ot)}function fromMaxima(o={}){let{allowCorner:s=!0,onlyTop:a=!1,invert:$=!1}=o,j=this;j.checkProcessable("fromMaxima",{components:[1]});const _e=1,et=2;let tt=0,rt=0,nt=new Int16Array(j.size),it=new Int8Array(j.size),ot=new Float32Array(j.size),st=1048575,at=new Uint16Array(st+1),lt=new Uint16Array(st+1),ft=0,pt=0,ut=new Uint16Array(st+1),dt=new Uint16Array(st+1),ct=0,ht=0;for(mt(j);ft<pt;){let xt=at[ft&st],bt=lt[ft&st];yt(xt,bt,et),ft++}return new RoiMap(j,nt);function mt({maxima:xt=!0}){for(let bt=1;bt<j.height-1;bt++)for(let gt=1;gt<j.width-1;gt++){let wt=gt+bt*j.width;if(it[wt]===0){let Et=xt?j.data[wt]:-j.data[gt+bt*j.width];if(j.data[bt*j.width+gt-1]>Et||j.data[bt*j.width+gt+1]>Et||j.data[(bt-1)*j.width+gt]>Et||j.data[(bt+1)*j.width+gt]>Et||s&&(j.data[(bt-1)*j.width+gt-1]>Et||j.data[(bt-1)*j.width+gt+1]>Et||j.data[(bt+1)*j.width+gt-1]>Et||j.data[(bt+1)*j.width+gt+1]>Et))continue;nt[wt]=xt?++tt:--rt,vt(gt,bt)||(xt?--tt:++rt)}}}function vt(xt,bt){let gt=pt;ct=0,ht=1,ut[0]=xt,dt[0]=bt;let wt=!0;for(;ct<ht;){let Et=ut[ct&st],kt=dt[ct&st];wt&=yt(Et,kt,_e),ct++}if(!wt){for(let Et=0;Et<ht;Et++){let kt=ut[Et&st],Mt=dt[Et&st]*j.width+kt;nt[Mt]=0}pt=gt}return wt}function yt(xt,bt,gt){let wt=nt[bt*j.width+xt],Et=j.data[bt*j.width+xt];for(let kt=bt-1;kt<=bt+1;kt++)for(let Ct=xt-1;Ct<=xt+1;Ct++){let Mt=kt*j.width+Ct;if(it[Mt]===0)switch(it[Mt]=1,ot[Mt]=j.data[Mt]-Et,gt){case _e:if(ot[Mt]===0){if(Ct===0||kt===0||Ct===j.width-1||kt===j.height-1)return!1;nt[Mt]=wt,ut[ht&st]=Ct,dt[ht&st]=kt,ht++}else{if(ot[Mt]>0)return!1;a||(nt[Mt]=wt,at[pt&st]=Ct,lt[pt&st]=kt,pt++)}break;case et:ot[Mt]<=0&&(nt[Mt]=wt,at[pt&st]=Ct,lt[pt&st]=kt,pt++);break;default:throw new Error("unreachable")}}return!0}}function fromPoints(o,s={}){let a=new Shape(s),$=new Int16Array(this.size),j=0,_e=a.getPoints();for(let et=0;et<o.length;et++){j++;let tt=o[et][0],rt=o[et][1];for(let nt=0;nt<_e.length;nt++){let it=_e[nt][0],ot=_e[nt][1];tt+it>=0&&rt+ot>=0&&tt+it<this.width&&rt+ot<this.height&&($[tt+it+(rt+ot)*this.width]=j)}}return new RoiMap(this,$)}function commonjsRequire(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var priorityQueue={exports:{}};(function(o,s){(function(a){o.exports=a()})(function(){return function a($,j,_e){function et(nt,it){if(!j[nt]){if(!$[nt]){var ot=typeof commonjsRequire=="function"&&commonjsRequire;if(!it&&ot)return ot(nt,!0);if(tt)return tt(nt,!0);var st=new Error("Cannot find module '"+nt+"'");throw st.code="MODULE_NOT_FOUND",st}var at=j[nt]={exports:{}};$[nt][0].call(at.exports,function(lt){var ft=$[nt][1][lt];return et(ft||lt)},at,at.exports,a,$,j,_e)}return j[nt].exports}for(var tt=typeof commonjsRequire=="function"&&commonjsRequire,rt=0;rt<_e.length;rt++)et(_e[rt]);return et}({1:[function(a,$,j){var _e,et,tt,rt,nt,it=function(st,at){for(var lt in at)ot.call(at,lt)&&(st[lt]=at[lt]);function ft(){this.constructor=st}return ft.prototype=at.prototype,st.prototype=new ft,st.__super__=at.prototype,st},ot={}.hasOwnProperty;_e=a("./PriorityQueue/AbstractPriorityQueue"),et=a("./PriorityQueue/ArrayStrategy"),rt=a("./PriorityQueue/BinaryHeapStrategy"),tt=a("./PriorityQueue/BHeapStrategy"),nt=function(st){it(at,st);function at(lt){lt||(lt={}),lt.strategy||(lt.strategy=rt),lt.comparator||(lt.comparator=function(ft,pt){return(ft||0)-(pt||0)}),at.__super__.constructor.call(this,lt)}return at}(_e),nt.ArrayStrategy=et,nt.BinaryHeapStrategy=rt,nt.BHeapStrategy=tt,$.exports=nt},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(a,$,j){$.exports=function(){function _e(et){var tt;if((et!=null?et.strategy:void 0)==null)throw"Must pass options.strategy, a strategy";if((et!=null?et.comparator:void 0)==null)throw"Must pass options.comparator, a comparator";this.priv=new et.strategy(et),this.length=(et!=null&&(tt=et.initialValues)!=null?tt.length:void 0)||0}return _e.prototype.queue=function(et){this.length++,this.priv.queue(et)},_e.prototype.dequeue=function(et){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},_e.prototype.peek=function(et){if(!this.length)throw"Empty queue";return this.priv.peek()},_e.prototype.clear=function(){return this.length=0,this.priv.clear()},_e}()},{}],3:[function(a,$,j){var _e;_e=function(et,tt,rt){var nt,it,ot;for(it=0,nt=et.length;it<nt;)ot=it+nt>>>1,rt(et[ot],tt)>=0?it=ot+1:nt=ot;return it},$.exports=function(){function et(tt){var rt;this.options=tt,this.comparator=this.options.comparator,this.data=((rt=this.options.initialValues)!=null?rt.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return et.prototype.queue=function(tt){var rt;rt=_e(this.data,tt,this.comparator),this.data.splice(rt,0,tt)},et.prototype.dequeue=function(){return this.data.pop()},et.prototype.peek=function(){return this.data[this.data.length-1]},et.prototype.clear=function(){this.data.length=0},et}()},{}],4:[function(a,$,j){$.exports=function(){function _e(et){var tt,rt,nt,it,ot,st,at,lt;for(this.comparator=(et!=null?et.comparator:void 0)||function(ft,pt){return ft-pt},this.pageSize=(et!=null?et.pageSize:void 0)||512,this.length=0,at=0;1<<at<this.pageSize;)at+=1;if(1<<at!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=at,this._emptyMemoryPageTemplate=tt=[],rt=0,ot=this.pageSize;0<=ot?rt<ot:rt>ot;0<=ot?++rt:--rt)tt.push(null);if(this._memory=[],this._mask=this.pageSize-1,et.initialValues)for(st=et.initialValues,nt=0,it=st.length;nt<it;nt++)lt=st[nt],this.queue(lt)}return _e.prototype.queue=function(et){this.length+=1,this._write(this.length,et),this._bubbleUp(this.length,et)},_e.prototype.dequeue=function(){var et,tt;return et=this._read(1),tt=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,tt),this._bubbleDown(1,tt)),et},_e.prototype.peek=function(){return this._read(1)},_e.prototype.clear=function(){this.length=0,this._memory.length=0},_e.prototype._write=function(et,tt){var rt;for(rt=et>>this._shift;rt>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[rt][et&this._mask]=tt},_e.prototype._read=function(et){return this._memory[et>>this._shift][et&this._mask]},_e.prototype._bubbleUp=function(et,tt){var rt,nt,it,ot;for(rt=this.comparator;et>1&&(nt=et&this._mask,et<this.pageSize||nt>3?it=et&~this._mask|nt>>1:nt<2?(it=et-this.pageSize>>this._shift,it+=it&~(this._mask>>1),it|=this.pageSize>>1):it=et-2,ot=this._read(it),!(rt(ot,tt)<0));)this._write(it,tt),this._write(et,ot),et=it},_e.prototype._bubbleDown=function(et,tt){var rt,nt,it,ot,st;for(st=this.comparator;et<this.length;)if(et>this._mask&&!(et&this._mask-1)?rt=nt=et+2:et&this.pageSize>>1?(rt=(et&~this._mask)>>1,rt|=et&this._mask>>1,rt=rt+1<<this._shift,nt=rt+1):(rt=et+(et&this._mask),nt=rt+1),rt!==nt&&nt<=this.length)if(it=this._read(rt),ot=this._read(nt),st(it,tt)<0&&st(it,ot)<=0)this._write(rt,tt),this._write(et,it),et=rt;else if(st(ot,tt)<0)this._write(nt,tt),this._write(et,ot),et=nt;else break;else if(rt<=this.length)if(it=this._read(rt),st(it,tt)<0)this._write(rt,tt),this._write(et,it),et=rt;else break;else break},_e}()},{}],5:[function(a,$,j){$.exports=function(){function _e(et){var tt;this.comparator=(et!=null?et.comparator:void 0)||function(rt,nt){return rt-nt},this.length=0,this.data=((tt=et.initialValues)!=null?tt.slice(0):void 0)||[],this._heapify()}return _e.prototype._heapify=function(){var et,tt,rt;if(this.data.length>0)for(et=tt=1,rt=this.data.length;1<=rt?tt<rt:tt>rt;et=1<=rt?++tt:--tt)this._bubbleUp(et)},_e.prototype.queue=function(et){this.data.push(et),this._bubbleUp(this.data.length-1)},_e.prototype.dequeue=function(){var et,tt;return tt=this.data[0],et=this.data.pop(),this.data.length>0&&(this.data[0]=et,this._bubbleDown(0)),tt},_e.prototype.peek=function(){return this.data[0]},_e.prototype.clear=function(){this.length=0,this.data.length=0},_e.prototype._bubbleUp=function(et){for(var tt,rt;et>0&&(tt=et-1>>>1,this.comparator(this.data[et],this.data[tt])<0);)rt=this.data[tt],this.data[tt]=this.data[et],this.data[et]=rt,et=tt},_e.prototype._bubbleDown=function(et){var tt,rt,nt,it,ot;for(tt=this.data.length-1;rt=(et<<1)+1,it=rt+1,nt=et,rt<=tt&&this.comparator(this.data[rt],this.data[nt])<0&&(nt=rt),it<=tt&&this.comparator(this.data[it],this.data[nt])<0&&(nt=it),nt!==et;)ot=this.data[nt],this.data[nt]=this.data[et],this.data[et]=ot,et=nt},_e}()},{}]},{},[1])(1)})})(priorityQueue);var priorityQueueExports=priorityQueue.exports;const PriorityQueue=getDefaultExportFromCjs(priorityQueueExports),dxs=[1,0,-1,0,1,1,-1,-1],dys=[0,1,0,-1,1,-1,1,-1];function fromWaterShed(o={}){let{points:s,mask:a,image:$,fillMaxValue:j=this.maxValue,invert:_e=!1}=o,et=$||this;et.checkProcessable("fromWaterShed",{bitDepth:[8,16],components:1}),_e=!_e,s||(s=et.getLocalMaxima({invert:_e,mask:a}));let tt=_e?0:1,rt=new Int16Array(et.size),nt=et.width,it=et.height,ot=new PriorityQueue({comparator:(st,at)=>st[2]-at[2],strategy:PriorityQueue.BinaryHeapStrategy});for(let st=0;st<s.length;st++){let at=s[st][0]+s[st][1]*nt;rt[at]=st+1;let lt=et.data[at];(_e&&lt<=j||!_e&&lt>=j)&&ot.queue([s[st][0],s[st][1],lt])}for(;ot.length>0;){let st=ot.dequeue(),at=st[0]+st[1]*nt;for(let lt=0;lt<4;lt++){let ft=st[0]+dxs[lt],pt=st[1]+dys[lt];if(ft>=0&&pt>=0&&ft<nt&&pt<it){let ut=ft+pt*nt;if(!a||a.getBit(ut)===tt){let dt=et.data[ut];(_e&&dt<=j||!_e&&dt>=j)&&rt[ut]===0&&(rt[ut]=rt[at],ot.queue([st[0]+dxs[lt],st[1]+dys[lt],dt]))}}}}return new RoiMap(et,rt)}class RoiManager{constructor(s,a={}){this._image=s,this._options=a,this._options.label||(this._options.label="default"),this._layers={},this._painted=null}fromMaxima(s={}){let a=Object.assign({},this._options,s),$=fromMaxima.call(this._image,s);this._layers[a.label]=new RoiLayer($,a)}fromPoints(s,a={}){let $=Object.assign({},this._options,a),j=fromPoints.call(this._image,s,a);return this._layers[$.label]=new RoiLayer(j,$),this}putMap(s,a={}){let $=new RoiMap(this._image,s),j=Object.assign({},this._options,a);return this._layers[j.label]=new RoiLayer($,j),this}fromWaterShed(s={}){let a=Object.assign({},this._options,s),$=fromWaterShed.call(this._image,s);this._layers[a.label]=new RoiLayer($,a)}fromMask(s,a={}){let $=Object.assign({},this._options,a),j=fromMask.call(this._image,s,a);return this._layers[$.label]=new RoiLayer(j,$),this}fromMaskConnectedComponentLabelingAlgorithm(s,a={}){let $=Object.assign({},this._options,a),j=fromMaskConnectedComponentLabelingAlgorithm.call(this._image,s,a);return this._layers[$.label]=new RoiLayer(j,$),this}getMap(s={}){let a=Object.assign({},this._options,s);return this._assertLayerWithLabel(a.label),this._layers[a.label].roiMap}rowsInfo(s={}){return this.getMap(s).rowsInfo()}colsInfo(s={}){return this.getMap(s).rowsInfo()}getRoiIds(s={}){let a=this.getRois(s);if(a){let $=new Array(a.length);for(let j=0;j<a.length;j++)$[j]=a[j].id;return $}throw new Error("ROIs not found")}getRois(s={}){let{label:a=this._options.label,positive:$=!0,negative:j=!0,minSurface:_e=0,maxSurface:et=Number.POSITIVE_INFINITY,minWidth:tt=0,maxWidth:rt=Number.POSITIVE_INFINITY,minHeight:nt=0,maxHeight:it=Number.POSITIVE_INFINITY,minRatio:ot=0,maxRatio:st=Number.POSITIVE_INFINITY}=s;if(!this._layers[a])throw new Error(`this Roi layer (${a}) does not exist`);const at=this._layers[a].roi,lt=[];for(const ft of at)(ft.id<0&&j||ft.id>0&&$)&&ft.surface>=_e&&ft.surface<=et&&ft.width>=tt&&ft.width<=rt&&ft.height>=nt&&ft.height<=it&&ft.ratio>=ot&&ft.ratio<=st&&lt.push(ft);return lt}getRoi(s,a={}){const{label:$=this._options.label}=a;if(!this._layers[$])throw new Error(`this Roi layer (${$}) does not exist`);const j=this._layers[$].roi.find(_e=>_e.id===s);if(!j)throw new Error(`found no Roi with id ${s}`);return j}getMasks(s={}){let a=this.getRois(s),$=new Array(a.length);for(let j=0;j<a.length;j++)$[j]=a[j].getMask(s);return $}getAnalysisMasks(s={}){const{analysisProperty:a}=s;let $=`${a}Mask`,j=this.getRois(s);return j.length===0||!j[0][$]?[]:j.map(_e=>_e[$])}getData(s={}){let a=Object.assign({},this._options,s);return this._assertLayerWithLabel(a.label),this._layers[a.label].roiMap.data}paint(s={}){let{labelProperty:a,analysisProperty:$}=s;this._painted||(this._painted=this._image.rgba8());let j=this.getMasks(s);if(a){const _e=this.getRois(s);s.labels=_e.map(nt=>deepValue(nt,a));const et=Math.max(...s.labels);let tt=!1,rt=!1;if(a.includes("surface")?tt=!0:/(?:perimeter|min|max|external|width|height|length)/.test(a)&&(rt=!0),isFinite(et)){let nt="";if(s.unit!=="pixel"&&s.pixelSize&&(rt||tt)){nt=tt?`${s.unit}^2`:s.unit;let it=tt?"m^2":"m",ot=tt?s.pixelSize**2:s.pixelSize;const st=Qty.swiftConverter(it,nt);s.labels=s.labels.map(at=>st(ot*at))}et>50?s.labels=s.labels.map(it=>Math.round(it)+nt):et>10?s.labels=s.labels.map(it=>it.toFixed(1)+nt):s.labels=s.labels.map(it=>it.toFixed(2)+nt)}s.labelsPosition=_e.map(nt=>[nt.meanX,nt.meanY])}if(this._painted.paintMasks(j,s),$){let _e=this.getAnalysisMasks(s);this._painted.paintMasks(_e,{color:s.analysisColor,alpha:s.analysisAlpha})}return this._painted}getMask(s={}){let a=new Image(this._image.width,this._image.height,{kind:"BINARY"}),$=this.getMasks(s);for(let j=0;j<$.length;j++){let _e=$[j];for(let et=0;et<_e.width;et++)for(let tt=0;tt<_e.height;tt++)_e.getBitXY(et,tt)&&a.setBitXY(et+_e.position[0],tt+_e.position[1])}return a}resetPainted(s={}){const{image:a}=s;a?this._painted=this.image.rgba8():this._painted=this._image.rgba8()}mergeRoi(s={}){const a=this.getMap(s);return a.mergeRoi(s),this.putMap(a.data,s),this}mergeRois(s,a={}){if(!Array.isArray(s)||s.some(j=>!Number.isInteger(j)))throw new Error("Roi ids must be an array of integers");if(s.length<2)throw new Error("Roi ids must have at least two elements");if(new Set(s).size!==s.length)throw new Error("Roi ids must be all different");s.forEach(j=>this.getRoi(j));const $=this.getMap(a);return $.mergeRois(s),this.putMap($.data,a),this}findCorrespondingRoi(s,a={}){let $=this.getRois(a),j=[];for(let _e=0;_e<$.length;_e++){let et=$[_e],tt=et.minX,rt=et.minY,nt=et.points,it=Math.sign(et.id),ot=correspondingRoisInformation(tt,rt,nt,s,it);j.push(ot)}return j}_assertLayerWithLabel(s){if(!this._layers[s])throw new Error(`no layer with label ${s}`)}}function correspondingRoisInformation(o,s,a,$,j){let _e={id:[],surface:[],roiSurfaceCovered:[],same:0,opposite:0,total:0};for(let et=0;et<a.length;et++){let tt=a[et],rt=tt[0],nt=tt[1],it=rt+o+(nt+s)*$.width,ot=$.data[it];(ot>0||ot<0)&&(_e.id.includes(ot)?_e.surface[_e.id.indexOf(ot)]+=1:(_e.id.push(ot),_e.surface.push(1)))}for(let et=0;et<_e.id.length;et++)Math.sign(_e.id[et])===j?_e.same+=_e.surface[et]:_e.opposite+=_e.surface[et],_e.roiSurfaceCovered[et]=_e.surface[et]/a.length;return _e.total=_e.opposite+_e.same,_e}const objectToString=Object.prototype.toString;class Image{constructor(s,a,$,j){if(arguments.length===1?(j=s,{width:s,height:a,data:$}=j):$&&!$.length&&(j=$,{data:$}=j),s===void 0&&(s=1),a===void 0&&(a=1),j===void 0&&(j={}),typeof j!="object"||j===null)throw new TypeError("options must be an object");if(!Number.isInteger(s)||s<=0)throw new RangeError("width must be a positive integer");if(!Number.isInteger(a)||a<=0)throw new RangeError("height must be a positive integer");const{kind:_e=RGBA}=j;if(typeof _e!="string")throw new TypeError("kind must be a string");const et=getKind(_e),tt=Object.assign({},j);for(const ft in et)tt[ft]===void 0&&(tt[ft]=et[ft]);verifyKindDefinition(tt);const{components:rt,bitDepth:nt,colorModel:it}=tt,ot=tt.alpha+0,st=s*a,at=rt+ot,lt=nt===32?Number.MAX_VALUE:2**nt-1;if($===void 0)$=createPixelArray(st,rt,ot,at,nt,lt);else{const ft=getTheoreticalPixelArraySize(st,at,nt);if($.length!==ft)throw new RangeError(`incorrect data size: ${$.length}. Should be ${ft}`)}this.width=s,this.height=a,this.data=$,this.size=st,this.components=rt,this.alpha=ot,this.bitDepth=nt,this.maxValue=lt,this.colorModel=it,this.channels=at,this.meta=j.meta||{},Object.defineProperty(this,"parent",{enumerable:!1,writable:!0,configurable:!0,value:j.parent||null}),this.position=j.position||[0,0],this.computed=null,this.sizes=[this.width,this.height],this.multiplierX=this.channels,this.multiplierY=this.channels*this.width,this.isClamped=this.bitDepth<32,this.borderSizes=[0,0]}get[Symbol.toStringTag](){return"IJSImage"}static isImage(s){return objectToString.call(s)==="[object IJSImage]"}static fromCanvas(s){const $=s.getContext("2d").getImageData(0,0,s.width,s.height);return new Image($.width,$.height,$.data)}static createFrom(s,a){const $=getImageParameters(s);return Object.assign($,{parent:s,position:[0,0]},a),new Image($)}getRoiManager(s){return new RoiManager(this,s)}clone(){const s=this.data.slice();return new Image(this.width,this.height,s,this)}apply(s){for(let a=0;a<this.height;a++)for(let $=0;$<this.width;$++){let j=(a*this.width+$)*this.channels;s.call(this,j)}}}setValueMethods(Image);setBitMethods(Image);setExportMethods(Image);Image.prototype.checkProcessable=checkProcessable;Image.prototype.getRGBAData=getRGBAData;Image.load=load;Image.extendMethod=extendMethod;Image.extendProperty=extendProperty;extend$1(Image);var workerTemplate$1={},worker$1=function(){self.window=self;function o(){this._listeners={}}o.prototype.on=function(a,$){if(this._listeners[a])throw new RangeError("there is already a listener for "+a);if(typeof $!="function")throw new TypeError("callback argument must be a function");this._listeners[a]=$},o.prototype._send=function(a,$,j){j===void 0?j=[]:Array.isArray(j)||(j=[j]),self.postMessage({id:a,data:$},j)},o.prototype._trigger=function(a,$){if(!this._listeners[a])throw new Error("event "+a+" is not defined");this._listeners[a].apply(null,$)};var s=new o;self.onmessage=function(a){switch(a.data.action){case"exec":a.data.args.unshift(function($,j){s._send(a.data.id,$,j)}),s._trigger(a.data.event,a.data.args);break;case"ping":s._send(a.data.id,"pong");break;default:throw new Error("unexpected action: "+a.data.action)}}},workerStr=worker$1.toString().split('"CODE";');workerTemplate$1.newWorkerURL=function o(s,a){var $=new Blob(["(",workerStr[0],"importScripts.apply(self, "+JSON.stringify(a)+`);
`,"(",s,")();",workerStr[1],")();"],{type:"application/javascript"});return URL.createObjectURL($)};var workerTemplate=workerTemplate$1,CORES=navigator.hardwareConcurrency||1;function WorkerManager(o,s){if(typeof o!="string"&&typeof o!="function")throw new TypeError("func argument must be a function");if(s===void 0&&(s={}),typeof s!="object"||s===null)throw new TypeError("options argument must be an object");this._workerCode=o.toString(),s.maxWorkers===void 0||s.maxWorkers==="auto"?this._numWorkers=Math.min(CORES-1,1):s.maxWorkers>0?this._numWorkers=Math.min(s.maxWorkers,CORES):this._numWorkers=CORES,this._workers=new Map,this._timeout=s.timeout||0,this._terminateOnError=!!s.terminateOnError;var a=s.deps;typeof a=="string"&&(a=[a]),Array.isArray(a)||(a=void 0),this._id=0,this._terminated=!1,this._working=0,this._waiting=[],this._init(a)}WorkerManager.prototype._init=function(o){for(var s=workerTemplate.newWorkerURL(this._workerCode,o),a=0;a<this._numWorkers;a++){var $=new Worker(s);$.onmessage=this._onmessage.bind(this,$),$.onerror=this._onerror.bind(this,$),$.running=!1,$.id=a,this._workers.set($,null)}URL.revokeObjectURL(s)};WorkerManager.prototype._onerror=function(o,s){if(!this._terminated){this._working--,o.running=!1;var a=this._workers.get(o);a&&a[1](s.message),this._workers.set(o,null),this._terminateOnError?this.terminate():this._exec()}};WorkerManager.prototype._onmessage=function(o,s){if(!this._terminated){this._working--,o.running=!1;var a=this._workers.get(o);a&&a[0](s.data.data),this._workers.set(o,null),this._exec()}};WorkerManager.prototype._exec=function(){for(var o of this._workers.keys()){if(this._working===this._numWorkers||this._waiting.length===0)return;if(!o.running)for(var s=0;s<this._waiting.length;s++){var a=this._waiting[s];if(!(typeof a[4]=="number"&&a[4]!==o.id)){this._waiting.splice(s,1),o.postMessage({action:"exec",event:a[0],args:a[1]},a[2]),o.running=!0,o.time=Date.now(),this._workers.set(o,a[3]),this._working++;break}}}};WorkerManager.prototype.terminate=function(){if(!this._terminated){for(var o of this._workers)o[0].terminate(),o[1]&&o[1][1](new Error("Terminated"));this._workers.clear(),this._waiting=[],this._working=0,this._terminated=!0}};WorkerManager.prototype.postAll=function(o,s){if(this._terminated)throw new Error("Cannot post (terminated)");var a=[];for(var $ of this._workers.keys())a.push(this.post(o,s,[],$.id));return Promise.all(a)};WorkerManager.prototype.post=function(o,s,a,$){s===void 0&&(s=[]),a===void 0&&(a=[]),Array.isArray(s)||(s=[s]),Array.isArray(a)||(a=[a]);var j=this;return new Promise(function(_e,et){if(j._terminated)throw new Error("Cannot post (terminated)");j._waiting.push([o,s,a,[_e,et],$]),j._exec()})};var src=WorkerManager;const WorkerManager$1=getDefaultExportFromCjs(src),defaultOptions$1={regression:{kernelType:"polynomial",kernelOptions:{degree:2,constant:1}},threshold:.02,roi:{minSurface:100,positive:!1},sampling:20,include:[]};function run(o,s,a){s=Object.assign({},defaultOptions$1,s);const $=this.manager;return Array.isArray(o)?Promise.all(o.map(function(j){const _e=runOnce($,j,s);return typeof a=="function"&&_e.then(a),_e})):runOnce($,o,s)}function runOnce(o,s,a){return o.post("data",[s,a]).then(function($){for(let j in $)$[j]=new Image($[j]);return $})}function work(){worker.on("data",function(o,s,a){s=new IJS(s);const $={},j=[],_e=s.grey(),et=_e.sobelFilter();at("sobel",et);const tt=et.level().mask({threshold:a.threshold});at("mask",tt);const rt=et.getRoiManager();rt.fromMask(tt);const nt=rt.getMask(a.roi);at("realMask",nt);const it=_e.getPixelsGrid({sampling:a.sampling,mask:nt}),ot=s.getBackground(it.xyS,it.zS,a.regression);at("background",ot);const st=s.subtract(ot);$.result=st,j.push(st.data.buffer),o($,j);function at(lt,ft){a.include.includes(lt)&&($[lt]=ft,j.push(ft.data.buffer))}})}const background={run,work};function extend(o){o.extendMethod("background",background)}let Worker$1=class Qn{constructor(){this._url=null,this._deps=[null]}checkUrl(){if(this._url===null)throw new Error("image worker must be initialized with an URL")}get url(){return this._url}set url(s){if(typeof s!="string")throw new TypeError("worker URL must be a string");this._url=s,this._deps[0]=s}static extendMethod(s,a){let $,j,_e={};function et(...tt){return $||(this.checkUrl(),j=this.url,$=new WorkerManager$1(a.work,{deps:j}),_e.manager=$),a.run.call(_e,...tt)}et.reset=function(){$&&($.terminate(),$=new WorkerManager$1(a.work,{deps:j}),_e.manager=$)},Qn.prototype[s]=et}};extend(Worker$1);const RGBtoHSV=o=>{const[s,a,$]=o,j=Math.max(s,a,$),_e=Math.min(s,a,$);let et=0,tt=0,rt=j;const nt=j-_e;return j!==0&&(tt=nt/j,j===_e?et=0:(j===s?et=(a-$)/nt+(a<$?6:0):j===a?et=($-s)/nt+2:j===$&&(et=(s-a)/nt+4),et/=6)),[et,tt,rt]},HSVtoRGB=o=>{const[s,a,$]=o;let j=[$,$,$];if(a>0){const _e=s*6,et=Math.floor(_e),tt=_e-et,rt=$*(1-a),nt=$*(1-a*tt),it=$*(1-a*(1-tt));et==0?j=[$,it,rt]:et==1?j=[nt,$,rt]:et==2?j=[rt,$,it]:et==3?j=[rt,nt,$]:et==4?j=[it,rt,$]:j=[$,rt,nt]}return j},HSVtoRGB256=o=>{const s=HSVtoRGB(o);return[s[0]*255,s[1]*255,s[2]*255]},mix=(o,s,a)=>(1-a)*o+a*s,CalcHueDegreeFromProcreateBarPosition=o=>0<=o&&o<120?mix(0,60,o/120):120<=o&&o<210?mix(60,180,(o-120)/90):210<=o&&o<330?mix(180,300,(o-210)/120):mix(300,360,(o-330)/30),CalcHueFromProcreateBarPosition=o=>CalcHueDegreeFromProcreateBarPosition(o*360)/360,CalcProcreateBarPositionFromHueDegree=o=>0<=o&&o<60?mix(0,120,o/60):60<=o&&o<180?mix(120,210,(o-60)/120):180<=o&&o<300?mix(210,330,(o-180)/120):mix(330,360,(o-300)/60),CalcProcreateBarPositionFromHue=o=>CalcProcreateBarPositionFromHueDegree(o*360)/360,common={black:"#000",white:"#fff"},common$1=common,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey;function isPlainObject(o){return o!==null&&typeof o=="object"&&o.constructor===Object}function deepClone(o){if(!isPlainObject(o))return o;const s={};return Object.keys(o).forEach(a=>{s[a]=deepClone(o[a])}),s}function deepmerge(o,s,a={clone:!0}){const $=a.clone?_extends({},o):o;return isPlainObject(o)&&isPlainObject(s)&&Object.keys(s).forEach(j=>{j!=="__proto__"&&(isPlainObject(s[j])&&j in o&&isPlainObject(o[j])?$[j]=deepmerge(o[j],s[j],a):a.clone?$[j]=isPlainObject(s[j])?deepClone(s[j]):s[j]:$[j]=s[j])}),$}function formatMuiErrorMessage(o){let s="https://mui.com/production-error/?code="+o;for(let a=1;a<arguments.length;a+=1)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified MUI error #"+o+"; visit "+s+" for the full message."}var reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e$1=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l$1=Symbol.for("react.forward_ref"),m$2=Symbol.for("react.suspense"),n$1=Symbol.for("react.suspense_list"),p$2=Symbol.for("react.memo"),q$1=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v$2(o){if(typeof o=="object"&&o!==null){var s=o.$$typeof;switch(s){case b$1:switch(o=o.type,o){case d$1:case f$1:case e$1:case m$2:case n$1:return o;default:switch(o=o&&o.$$typeof,o){case k$1:case h$1:case l$1:case q$1:case p$2:case g$1:return o;default:return s}}case c$1:return s}}}reactIs_production_min$1.ContextConsumer=h$1;reactIs_production_min$1.ContextProvider=g$1;reactIs_production_min$1.Element=b$1;reactIs_production_min$1.ForwardRef=l$1;reactIs_production_min$1.Fragment=d$1;reactIs_production_min$1.Lazy=q$1;reactIs_production_min$1.Memo=p$2;reactIs_production_min$1.Portal=c$1;reactIs_production_min$1.Profiler=f$1;reactIs_production_min$1.StrictMode=e$1;reactIs_production_min$1.Suspense=m$2;reactIs_production_min$1.SuspenseList=n$1;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function(o){return v$2(o)===h$1};reactIs_production_min$1.isContextProvider=function(o){return v$2(o)===g$1};reactIs_production_min$1.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===b$1};reactIs_production_min$1.isForwardRef=function(o){return v$2(o)===l$1};reactIs_production_min$1.isFragment=function(o){return v$2(o)===d$1};reactIs_production_min$1.isLazy=function(o){return v$2(o)===q$1};reactIs_production_min$1.isMemo=function(o){return v$2(o)===p$2};reactIs_production_min$1.isPortal=function(o){return v$2(o)===c$1};reactIs_production_min$1.isProfiler=function(o){return v$2(o)===f$1};reactIs_production_min$1.isStrictMode=function(o){return v$2(o)===e$1};reactIs_production_min$1.isSuspense=function(o){return v$2(o)===m$2};reactIs_production_min$1.isSuspenseList=function(o){return v$2(o)===n$1};reactIs_production_min$1.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===d$1||o===f$1||o===e$1||o===m$2||o===n$1||o===t$1||typeof o=="object"&&o!==null&&(o.$$typeof===q$1||o.$$typeof===p$2||o.$$typeof===g$1||o.$$typeof===h$1||o.$$typeof===l$1||o.$$typeof===u||o.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$2;function capitalize$1(o){if(typeof o!="string")throw new Error(formatMuiErrorMessage(7));return o.charAt(0).toUpperCase()+o.slice(1)}function createChainedFunction(...o){return o.reduce((s,a)=>a==null?s:function(...j){s.apply(this,j),a.apply(this,j)},()=>{})}function debounce(o,s=166){let a;function $(...j){const _e=()=>{o.apply(this,j)};clearTimeout(a),a=setTimeout(_e,s)}return $.clear=()=>{clearTimeout(a)},$}function deprecatedPropType(o,s){return()=>null}function isMuiElement(o,s){return reactExports.isValidElement(o)&&s.indexOf(o.type.muiName)!==-1}function ownerDocument(o){return o&&o.ownerDocument||document}function ownerWindow(o){return ownerDocument(o).defaultView||window}function requirePropFactory(o,s){return()=>null}function setRef(o,s){typeof o=="function"?o(s):o&&(o.current=s)}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;let globalId=0;function useGlobalId(o){const[s,a]=reactExports.useState(o),$=o||s;return reactExports.useEffect(()=>{s==null&&(globalId+=1,a(`mui-${globalId}`))},[s]),$}const maybeReactUseId=React$1["useId".toString()];function useId(o){if(maybeReactUseId!==void 0){const s=maybeReactUseId();return o??s}return useGlobalId(o)}function unsupportedProp(o,s,a,$,j){return null}function useControlled({controlled:o,default:s,name:a,state:$="value"}){const{current:j}=reactExports.useRef(o!==void 0),[_e,et]=reactExports.useState(s),tt=j?o:_e,rt=reactExports.useCallback(nt=>{j||et(nt)},[]);return[tt,rt]}function useEventCallback(o){const s=reactExports.useRef(o);return useEnhancedEffect$1(()=>{s.current=o}),reactExports.useCallback((...a)=>(0,s.current)(...a),[])}function useForkRef(...o){return reactExports.useMemo(()=>o.every(s=>s==null)?null:s=>{o.forEach(a=>{setRef(a,s)})},o)}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout;const inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(o){const{type:s,tagName:a}=o;return!!(a==="INPUT"&&inputTypesWhitelist[s]&&!o.readOnly||a==="TEXTAREA"&&!o.readOnly||o.isContentEditable)}function handleKeyDown(o){o.metaKey||o.altKey||o.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(o){o.addEventListener("keydown",handleKeyDown,!0),o.addEventListener("mousedown",handlePointerDown,!0),o.addEventListener("pointerdown",handlePointerDown,!0),o.addEventListener("touchstart",handlePointerDown,!0),o.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(o){const{target:s}=o;try{return s.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(s)}function useIsFocusVisible(){const o=reactExports.useCallback(j=>{j!=null&&prepare(j.ownerDocument)},[]),s=reactExports.useRef(!1);function a(){return s.current?(hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout(()=>{hadFocusVisibleRecently=!1},100),s.current=!1,!0):!1}function $(j){return isFocusVisible(j)?(s.current=!0,!0):!1}return{isFocusVisibleRef:s,onFocus:$,onBlur:a,ref:o}}function getScrollbarSize(o){const s=o.documentElement.clientWidth;return Math.abs(window.innerWidth-s)}function resolveProps(o,s){const a=_extends({},s);return Object.keys(o).forEach($=>{if($.toString().match(/^(components|slots)$/))a[$]=_extends({},o[$],a[$]);else if($.toString().match(/^(componentsProps|slotProps)$/)){const j=o[$]||{},_e=s[$];a[$]={},!_e||!Object.keys(_e)?a[$]=j:!j||!Object.keys(j)?a[$]=_e:(a[$]=_extends({},_e),Object.keys(j).forEach(et=>{a[$][et]=resolveProps(j[et],_e[et])}))}else a[$]===void 0&&(a[$]=o[$])}),a}function composeClasses(o,s,a=void 0){const $={};return Object.keys(o).forEach(j=>{$[j]=o[j].reduce((_e,et)=>{if(et){const tt=s(et);tt!==""&&_e.push(tt),a&&a[et]&&_e.push(a[et])}return _e},[]).join(" ")}),$}const defaultGenerator=o=>o,createClassNameGenerator=()=>{let o=defaultGenerator;return{configure(s){o=s},generate(s){return o(s)},reset(){o=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator,globalStateClassesMapping={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function generateUtilityClass(o,s,a="Mui"){const $=globalStateClassesMapping[s];return $?`${a}-${$}`:`${ClassNameGenerator$1.generate(o)}-${s}`}function generateUtilityClasses(o,s,a="Mui"){const $={};return s.forEach(j=>{$[j]=generateUtilityClass(o,j,a)}),$}const THEME_ID="$$material";function _objectWithoutPropertiesLoose(o,s){if(o==null)return{};var a={},$=Object.keys(o),j,_e;for(_e=0;_e<$.length;_e++)j=$[_e],!(s.indexOf(j)>=0)&&(a[j]=o[j]);return a}function memoize$1(o){var s=Object.create(null);return function(a){return s[a]===void 0&&(s[a]=o(a)),s[a]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(o){return reactPropsRegex.test(o)||o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&o.charCodeAt(2)<91});function sheetForTag(o){if(o.sheet)return o.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===o)return document.styleSheets[s]}function createStyleElement(o){var s=document.createElement("style");return s.setAttribute("data-emotion",o.key),o.nonce!==void 0&&s.setAttribute("nonce",o.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var StyleSheet=function(){function o(a){var $=this;this._insertTag=function(j){var _e;$.tags.length===0?$.insertionPoint?_e=$.insertionPoint.nextSibling:$.prepend?_e=$.container.firstChild:_e=$.before:_e=$.tags[$.tags.length-1].nextSibling,$.container.insertBefore(j,_e),$.tags.push(j)},this.isSpeedy=a.speedy===void 0?!0:a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var s=o.prototype;return s.hydrate=function($){$.forEach(this._insertTag)},s.insert=function($){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var j=this.tags[this.tags.length-1];if(this.isSpeedy){var _e=sheetForTag(j);try{_e.insertRule($,_e.cssRules.length)}catch{}}else j.appendChild(document.createTextNode($));this.ctr++},s.flush=function(){this.tags.forEach(function($){return $.parentNode&&$.parentNode.removeChild($)}),this.tags=[],this.ctr=0},o}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(o,s){return charat(o,0)^45?(((s<<2^charat(o,0))<<2^charat(o,1))<<2^charat(o,2))<<2^charat(o,3):0}function trim(o){return o.trim()}function match(o,s){return(o=s.exec(o))?o[0]:o}function replace(o,s,a){return o.replace(s,a)}function indexof(o,s){return o.indexOf(s)}function charat(o,s){return o.charCodeAt(s)|0}function substr(o,s,a){return o.slice(s,a)}function strlen(o){return o.length}function sizeof(o){return o.length}function append(o,s){return s.push(o),o}function combine(o,s){return o.map(s).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(o,s,a,$,j,_e,et){return{value:o,root:s,parent:a,type:$,props:j,children:_e,line,column,length:et,return:""}}function copy$1(o,s){return assign(node("",null,null,"",null,null,0),o,{length:-o.length},s)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(o,s){return substr(characters,o,s)}function token(o){switch(o){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(o){return line=column=1,length=strlen(characters=o),position=0,[]}function dealloc(o){return characters="",o}function delimit(o){return trim(slice(position-1,delimiter(o===91?o+2:o===40?o+1:o)))}function whitespace(o){for(;(character=peek())&&character<33;)next();return token(o)>2||token(character)>3?"":" "}function escaping(o,s){for(;--s&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(o,caret()+(s<6&&peek()==32&&next()==32))}function delimiter(o){for(;next();)switch(character){case o:return position;case 34:case 39:o!==34&&o!==39&&delimiter(character);break;case 40:o===41&&delimiter(o);break;case 92:next();break}return position}function commenter(o,s){for(;next()&&o+character!==47+10;)if(o+character===42+42&&peek()===47)break;return"/*"+slice(s,position-1)+"*"+from(o===47?o:next())}function identifier(o){for(;!token(peek());)next();return slice(o,position)}function compile(o){return dealloc(parse("",null,null,null,[""],o=alloc(o),0,[0],o))}function parse(o,s,a,$,j,_e,et,tt,rt){for(var nt=0,it=0,ot=et,st=0,at=0,lt=0,ft=1,pt=1,ut=1,dt=0,ct="",ht=j,mt=_e,vt=$,yt=ct;pt;)switch(lt=dt,dt=next()){case 40:if(lt!=108&&charat(yt,ot-1)==58){indexof(yt+=replace(delimit(dt),"&","&\f"),"&\f")!=-1&&(ut=-1);break}case 34:case 39:case 91:yt+=delimit(dt);break;case 9:case 10:case 13:case 32:yt+=whitespace(lt);break;case 92:yt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),s,a),rt);break;default:yt+="/"}break;case 123*ft:tt[nt++]=strlen(yt)*ut;case 125*ft:case 59:case 0:switch(dt){case 0:case 125:pt=0;case 59+it:ut==-1&&(yt=replace(yt,/\f/g,"")),at>0&&strlen(yt)-ot&&append(at>32?declaration(yt+";",$,a,ot-1):declaration(replace(yt," ","")+";",$,a,ot-2),rt);break;case 59:yt+=";";default:if(append(vt=ruleset(yt,s,a,nt,it,j,tt,ct,ht=[],mt=[],ot),_e),dt===123)if(it===0)parse(yt,s,vt,vt,ht,_e,ot,tt,mt);else switch(st===99&&charat(yt,3)===110?100:st){case 100:case 108:case 109:case 115:parse(o,vt,vt,$&&append(ruleset(o,vt,vt,0,0,j,tt,ct,j,ht=[],ot),mt),j,mt,ot,tt,$?ht:mt);break;default:parse(yt,vt,vt,vt,[""],mt,0,tt,mt)}}nt=it=at=0,ft=ut=1,ct=yt="",ot=et;break;case 58:ot=1+strlen(yt),at=lt;default:if(ft<1){if(dt==123)--ft;else if(dt==125&&ft++==0&&prev()==125)continue}switch(yt+=from(dt),dt*ft){case 38:ut=it>0?1:(yt+="\f",-1);break;case 44:tt[nt++]=(strlen(yt)-1)*ut,ut=1;break;case 64:peek()===45&&(yt+=delimit(next())),st=peek(),it=ot=strlen(ct=yt+=identifier(caret())),dt++;break;case 45:lt===45&&strlen(yt)==2&&(ft=0)}}return _e}function ruleset(o,s,a,$,j,_e,et,tt,rt,nt,it){for(var ot=j-1,st=j===0?_e:[""],at=sizeof(st),lt=0,ft=0,pt=0;lt<$;++lt)for(var ut=0,dt=substr(o,ot+1,ot=abs(ft=et[lt])),ct=o;ut<at;++ut)(ct=trim(ft>0?st[ut]+" "+dt:replace(dt,/&\f/g,st[ut])))&&(rt[pt++]=ct);return node(o,s,a,j===0?RULESET:tt,rt,nt,it)}function comment(o,s,a){return node(o,s,a,COMMENT,from(char()),substr(o,2,-2),0)}function declaration(o,s,a,$){return node(o,s,a,DECLARATION,substr(o,0,$),substr(o,$+1,-1),$)}function serialize(o,s){for(var a="",$=sizeof(o),j=0;j<$;j++)a+=s(o[j],j,o,s)||"";return a}function stringify(o,s,a,$){switch(o.type){case LAYER:if(o.children.length)break;case IMPORT:case DECLARATION:return o.return=o.return||o.value;case COMMENT:return"";case KEYFRAMES:return o.return=o.value+"{"+serialize(o.children,$)+"}";case RULESET:o.value=o.props.join(",")}return strlen(a=serialize(o.children,$))?o.return=o.value+"{"+a+"}":""}function middleware(o){var s=sizeof(o);return function(a,$,j,_e){for(var et="",tt=0;tt<s;tt++)et+=o[tt](a,$,j,_e)||"";return et}}function rulesheet(o){return function(s){s.root||(s=s.return)&&o(s)}}var identifierWithPointTracking=function o(s,a,$){for(var j=0,_e=0;j=_e,_e=peek(),j===38&&_e===12&&(a[$]=1),!token(_e);)next();return slice(s,position)},toRules=function o(s,a){var $=-1,j=44;do switch(token(j)){case 0:j===38&&peek()===12&&(a[$]=1),s[$]+=identifierWithPointTracking(position-1,a,$);break;case 2:s[$]+=delimit(j);break;case 4:if(j===44){s[++$]=peek()===58?"&\f":"",a[$]=s[$].length;break}default:s[$]+=from(j)}while(j=next());return s},getRules=function o(s,a){return dealloc(toRules(alloc(s),a))},fixedElements=new WeakMap,compat=function o(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var a=s.value,$=s.parent,j=s.column===$.column&&s.line===$.line;$.type!=="rule";)if($=$.parent,!$)return;if(!(s.props.length===1&&a.charCodeAt(0)!==58&&!fixedElements.get($))&&!j){fixedElements.set(s,!0);for(var _e=[],et=getRules(a,_e),tt=$.props,rt=0,nt=0;rt<et.length;rt++)for(var it=0;it<tt.length;it++,nt++)s.props[nt]=_e[rt]?et[rt].replace(/&\f/g,tt[it]):tt[it]+" "+et[rt]}}},removeLabel=function o(s){if(s.type==="decl"){var a=s.value;a.charCodeAt(0)===108&&a.charCodeAt(2)===98&&(s.return="",s.value="")}};function prefix(o,s){switch(hash(o,s)){case 5103:return WEBKIT+"print-"+o+o;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+o+o;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+o+MOZ+o+MS+o+o;case 6828:case 4268:return WEBKIT+o+MS+o+o;case 6165:return WEBKIT+o+MS+"flex-"+o+o;case 5187:return WEBKIT+o+replace(o,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+o;case 5443:return WEBKIT+o+MS+"flex-item-"+replace(o,/flex-|-self/,"")+o;case 4675:return WEBKIT+o+MS+"flex-line-pack"+replace(o,/align-content|flex-|-self/,"")+o;case 5548:return WEBKIT+o+MS+replace(o,"shrink","negative")+o;case 5292:return WEBKIT+o+MS+replace(o,"basis","preferred-size")+o;case 6060:return WEBKIT+"box-"+replace(o,"-grow","")+WEBKIT+o+MS+replace(o,"grow","positive")+o;case 4554:return WEBKIT+replace(o,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+o;case 6187:return replace(replace(replace(o,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),o,"")+o;case 5495:case 3959:return replace(o,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(o,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+o+o;case 4095:case 3583:case 4068:case 2532:return replace(o,/(.+)-inline(.+)/,WEBKIT+"$1$2")+o;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(o)-1-s>6)switch(charat(o,s+1)){case 109:if(charat(o,s+4)!==45)break;case 102:return replace(o,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(o,s+3)==108?"$3":"$2-$3"))+o;case 115:return~indexof(o,"stretch")?prefix(replace(o,"stretch","fill-available"),s)+o:o}break;case 4949:if(charat(o,s+1)!==115)break;case 6444:switch(charat(o,strlen(o)-3-(~indexof(o,"!important")&&10))){case 107:return replace(o,":",":"+WEBKIT)+o;case 101:return replace(o,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(o,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+o}break;case 5936:switch(charat(o,s+11)){case 114:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"tb")+o;case 108:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"tb-rl")+o;case 45:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"lr")+o}return WEBKIT+o+MS+o+o}return o}var prefixer=function o(s,a,$,j){if(s.length>-1&&!s.return)switch(s.type){case DECLARATION:s.return=prefix(s.value,s.length);break;case KEYFRAMES:return serialize([copy$1(s,{value:replace(s.value,"@","@"+WEBKIT)})],j);case RULESET:if(s.length)return combine(s.props,function(_e){switch(match(_e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy$1(s,{props:[replace(_e,/:(read-\w+)/,":"+MOZ+"$1")]})],j);case"::placeholder":return serialize([copy$1(s,{props:[replace(_e,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy$1(s,{props:[replace(_e,/:(plac\w+)/,":"+MOZ+"$1")]}),copy$1(s,{props:[replace(_e,/:(plac\w+)/,MS+"input-$1")]})],j)}return""})}},defaultStylisPlugins=[prefixer],createCache=function o(s){var a=s.key;if(a==="css"){var $=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call($,function(ft){var pt=ft.getAttribute("data-emotion");pt.indexOf(" ")!==-1&&(document.head.appendChild(ft),ft.setAttribute("data-s",""))})}var j=s.stylisPlugins||defaultStylisPlugins,_e={},et,tt=[];et=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(ft){for(var pt=ft.getAttribute("data-emotion").split(" "),ut=1;ut<pt.length;ut++)_e[pt[ut]]=!0;tt.push(ft)});var rt,nt=[compat,removeLabel];{var it,ot=[stringify,rulesheet(function(ft){it.insert(ft)})],st=middleware(nt.concat(j,ot)),at=function(pt){return serialize(compile(pt),st)};rt=function(pt,ut,dt,ct){it=dt,at(pt?pt+"{"+ut.styles+"}":ut.styles),ct&&(lt.inserted[ut.name]=!0)}}var lt={key:a,sheet:new StyleSheet({key:a,container:et,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:_e,registered:{},insert:rt};return lt.sheet.hydrate(tt),lt},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m$1=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p$1=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r$1=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v$1=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z$1(o){if(typeof o=="object"&&o!==null){var s=o.$$typeof;switch(s){case c:switch(o=o.type,o){case l:case m$1:case e:case g:case f:case p$1:return o;default:switch(o=o&&o.$$typeof,o){case k:case n:case t:case r$1:case h:return o;default:return s}}case d:return s}}}function A$1(o){return z$1(o)===m$1}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p$1;reactIs_production_min.isAsyncMode=function(o){return A$1(o)||z$1(o)===l};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(o){return z$1(o)===k};reactIs_production_min.isContextProvider=function(o){return z$1(o)===h};reactIs_production_min.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===c};reactIs_production_min.isForwardRef=function(o){return z$1(o)===n};reactIs_production_min.isFragment=function(o){return z$1(o)===e};reactIs_production_min.isLazy=function(o){return z$1(o)===t};reactIs_production_min.isMemo=function(o){return z$1(o)===r$1};reactIs_production_min.isPortal=function(o){return z$1(o)===d};reactIs_production_min.isProfiler=function(o){return z$1(o)===g};reactIs_production_min.isStrictMode=function(o){return z$1(o)===f};reactIs_production_min.isSuspense=function(o){return z$1(o)===p$1};reactIs_production_min.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===e||o===m$1||o===g||o===f||o===p$1||o===q||typeof o=="object"&&o!==null&&(o.$$typeof===t||o.$$typeof===r$1||o.$$typeof===h||o.$$typeof===k||o.$$typeof===n||o.$$typeof===w||o.$$typeof===x||o.$$typeof===y||o.$$typeof===v$1)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(o,s,a){var $="";return a.split(" ").forEach(function(j){o[j]!==void 0?s.push(o[j]+";"):$+=j+" "}),$}var registerStyles=function o(s,a,$){var j=s.key+"-"+a.name;($===!1||isBrowser===!1)&&s.registered[j]===void 0&&(s.registered[j]=a.styles)},insertStyles=function o(s,a,$){registerStyles(s,a,$);var j=s.key+"-"+a.name;if(s.inserted[a.name]===void 0){var _e=a;do s.insert(a===_e?"."+j:"",_e,s.sheet,!0),_e=_e.next;while(_e!==void 0)}};function murmur2(o){for(var s=0,a,$=0,j=o.length;j>=4;++$,j-=4)a=o.charCodeAt($)&255|(o.charCodeAt(++$)&255)<<8|(o.charCodeAt(++$)&255)<<16|(o.charCodeAt(++$)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,s=(a&65535)*1540483477+((a>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(j){case 3:s^=(o.charCodeAt($+2)&255)<<16;case 2:s^=(o.charCodeAt($+1)&255)<<8;case 1:s^=o.charCodeAt($)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function o(s){return s.charCodeAt(1)===45},isProcessableValue=function o(s){return s!=null&&typeof s!="boolean"},processStyleName=memoize$1(function(o){return isCustomProperty(o)?o:o.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function o(s,a){switch(s){case"animation":case"animationName":if(typeof a=="string")return a.replace(animationRegex,function($,j,_e){return cursor={name:j,styles:_e,next:cursor},j})}return unitlessKeys[s]!==1&&!isCustomProperty(s)&&typeof a=="number"&&a!==0?a+"px":a},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(o,s,a){if(a==null)return"";if(a.__emotion_styles!==void 0)return a;switch(typeof a){case"boolean":return"";case"object":{if(a.anim===1)return cursor={name:a.name,styles:a.styles,next:cursor},a.name;if(a.styles!==void 0){var $=a.next;if($!==void 0)for(;$!==void 0;)cursor={name:$.name,styles:$.styles,next:cursor},$=$.next;var j=a.styles+";";return j}return createStringFromObject(o,s,a)}case"function":{if(o!==void 0){var _e=cursor,et=a(o);return cursor=_e,handleInterpolation(o,s,et)}break}}if(s==null)return a;var tt=s[a];return tt!==void 0?tt:a}function createStringFromObject(o,s,a){var $="";if(Array.isArray(a))for(var j=0;j<a.length;j++)$+=handleInterpolation(o,s,a[j])+";";else for(var _e in a){var et=a[_e];if(typeof et!="object")s!=null&&s[et]!==void 0?$+=_e+"{"+s[et]+"}":isProcessableValue(et)&&($+=processStyleName(_e)+":"+processStyleValue(_e,et)+";");else if(Array.isArray(et)&&typeof et[0]=="string"&&(s==null||s[et[0]]===void 0))for(var tt=0;tt<et.length;tt++)isProcessableValue(et[tt])&&($+=processStyleName(_e)+":"+processStyleValue(_e,et[tt])+";");else{var rt=handleInterpolation(o,s,et);switch(_e){case"animation":case"animationName":{$+=processStyleName(_e)+":"+rt+";";break}default:$+=_e+"{"+rt+"}"}}}return $}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function o(s,a,$){if(s.length===1&&typeof s[0]=="object"&&s[0]!==null&&s[0].styles!==void 0)return s[0];var j=!0,_e="";cursor=void 0;var et=s[0];et==null||et.raw===void 0?(j=!1,_e+=handleInterpolation($,a,et)):_e+=et[0];for(var tt=1;tt<s.length;tt++)_e+=handleInterpolation($,a,s[tt]),j&&(_e+=et[tt]);labelPattern.lastIndex=0;for(var rt="",nt;(nt=labelPattern.exec(_e))!==null;)rt+="-"+nt[1];var it=murmur2(_e)+rt;return{name:it,styles:_e,next:cursor}},syncFallback=function o(s){return s()},useInsertionEffect=React$1["useInsertionEffect"]?React$1["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function o(s){return reactExports.forwardRef(function(a,$){var j=reactExports.useContext(EmotionCacheContext);return s(a,j,$)})},ThemeContext=reactExports.createContext({}),Global=withEmotionCache(function(o,s){var a=o.styles,$=serializeStyles([a],void 0,reactExports.useContext(ThemeContext)),j=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var _e=s.key+"-global",et=new s.sheet.constructor({key:_e,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),tt=!1,rt=document.querySelector('style[data-emotion="'+_e+" "+$.name+'"]');return s.sheet.tags.length&&(et.before=s.sheet.tags[0]),rt!==null&&(tt=!0,rt.setAttribute("data-emotion",_e),et.hydrate([rt])),j.current=[et,tt],function(){et.flush()}},[s]),useInsertionEffectWithLayoutFallback(function(){var _e=j.current,et=_e[0],tt=_e[1];if(tt){_e[1]=!1;return}if($.next!==void 0&&insertStyles(s,$.next,!0),et.tags.length){var rt=et.tags[et.tags.length-1].nextElementSibling;et.before=rt,et.flush()}s.insert("",$,et,!1)},[s,$.name]),null});function css(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return serializeStyles(s)}var keyframes=function o(){var s=css.apply(void 0,arguments),a="animation-"+s.name;return{name:a,styles:"@keyframes "+a+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function o(s){return s!=="theme"},getDefaultShouldForwardProp=function o(s){return typeof s=="string"&&s.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function o(s,a,$){var j;if(a){var _e=a.shouldForwardProp;j=s.__emotion_forwardProp&&_e?function(et){return s.__emotion_forwardProp(et)&&_e(et)}:_e}return typeof j!="function"&&$&&(j=s.__emotion_forwardProp),j},Insertion=function o(s){var a=s.cache,$=s.serialized,j=s.isStringTag;return registerStyles(a,$,j),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(a,$,j)}),null},createStyled$1=function o(s,a){var $=s.__emotion_real===s,j=$&&s.__emotion_base||s,_e,et;a!==void 0&&(_e=a.label,et=a.target);var tt=composeShouldForwardProps(s,a,$),rt=tt||getDefaultShouldForwardProp(j),nt=!rt("as");return function(){var it=arguments,ot=$&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(_e!==void 0&&ot.push("label:"+_e+";"),it[0]==null||it[0].raw===void 0)ot.push.apply(ot,it);else{ot.push(it[0][0]);for(var st=it.length,at=1;at<st;at++)ot.push(it[at],it[0][at])}var lt=withEmotionCache(function(ft,pt,ut){var dt=nt&&ft.as||j,ct="",ht=[],mt=ft;if(ft.theme==null){mt={};for(var vt in ft)mt[vt]=ft[vt];mt.theme=reactExports.useContext(ThemeContext)}typeof ft.className=="string"?ct=getRegisteredStyles(pt.registered,ht,ft.className):ft.className!=null&&(ct=ft.className+" ");var yt=serializeStyles(ot.concat(ht),pt.registered,mt);ct+=pt.key+"-"+yt.name,et!==void 0&&(ct+=" "+et);var xt=nt&&tt===void 0?getDefaultShouldForwardProp(dt):rt,bt={};for(var gt in ft)nt&&gt==="as"||xt(gt)&&(bt[gt]=ft[gt]);return bt.className=ct,bt.ref=ut,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:pt,serialized:yt,isStringTag:typeof dt=="string"}),reactExports.createElement(dt,bt))});return lt.displayName=_e!==void 0?_e:"Styled("+(typeof j=="string"?j:j.displayName||j.name||"Component")+")",lt.defaultProps=s.defaultProps,lt.__emotion_real=lt,lt.__emotion_base=j,lt.__emotion_styles=ot,lt.__emotion_forwardProp=tt,Object.defineProperty(lt,"toString",{value:function(){return"."+et}}),lt.withComponent=function(ft,pt){return o(ft,_extends({},a,pt,{shouldForwardProp:composeShouldForwardProps(lt,pt,!0)})).apply(void 0,ot)},lt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(o){newStyled[o]=newStyled(o)});function isEmpty$4(o){return o==null||Object.keys(o).length===0}function GlobalStyles$2(o){const{styles:s,defaultTheme:a={}}=o,$=typeof s=="function"?j=>s(isEmpty$4(j)?a:j):s;return jsxRuntimeExports.jsx(Global,{styles:$})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(o,s){return newStyled(o,s)}const internal_processStyles=(o,s)=>{Array.isArray(o.__emotion_styles)&&(o.__emotion_styles=s(o.__emotion_styles))},_excluded$E=["values","unit","step"],sortBreakpointsValues=o=>{const s=Object.keys(o).map(a=>({key:a,val:o[a]}))||[];return s.sort((a,$)=>a.val-$.val),s.reduce((a,$)=>_extends({},a,{[$.key]:$.val}),{})};function createBreakpoints(o){const{values:s={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:a="px",step:$=5}=o,j=_objectWithoutPropertiesLoose(o,_excluded$E),_e=sortBreakpointsValues(s),et=Object.keys(_e);function tt(st){return`@media (min-width:${typeof s[st]=="number"?s[st]:st}${a})`}function rt(st){return`@media (max-width:${(typeof s[st]=="number"?s[st]:st)-$/100}${a})`}function nt(st,at){const lt=et.indexOf(at);return`@media (min-width:${typeof s[st]=="number"?s[st]:st}${a}) and (max-width:${(lt!==-1&&typeof s[et[lt]]=="number"?s[et[lt]]:at)-$/100}${a})`}function it(st){return et.indexOf(st)+1<et.length?nt(st,et[et.indexOf(st)+1]):tt(st)}function ot(st){const at=et.indexOf(st);return at===0?tt(et[1]):at===et.length-1?rt(et[at]):nt(st,et[et.indexOf(st)+1]).replace("@media","@media not all and")}return _extends({keys:et,values:_e,up:tt,down:rt,between:nt,only:it,not:ot,unit:a},j)}const shape={borderRadius:4},shape$1=shape;function merge(o,s){return s?deepmerge(o,s,{clone:!1}):o}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:o=>`@media (min-width:${values$1[o]}px)`};function handleBreakpoints(o,s,a){const $=o.theme||{};if(Array.isArray(s)){const _e=$.breakpoints||defaultBreakpoints;return s.reduce((et,tt,rt)=>(et[_e.up(_e.keys[rt])]=a(s[rt]),et),{})}if(typeof s=="object"){const _e=$.breakpoints||defaultBreakpoints;return Object.keys(s).reduce((et,tt)=>{if(Object.keys(_e.values||values$1).indexOf(tt)!==-1){const rt=_e.up(tt);et[rt]=a(s[tt],tt)}else{const rt=tt;et[rt]=s[rt]}return et},{})}return a(s)}function createEmptyBreakpointObject(o={}){var s;return((s=o.keys)==null?void 0:s.reduce(($,j)=>{const _e=o.up(j);return $[_e]={},$},{}))||{}}function removeUnusedBreakpoints(o,s){return o.reduce((a,$)=>{const j=a[$];return(!j||Object.keys(j).length===0)&&delete a[$],a},s)}function getPath$1(o,s,a=!0){if(!s||typeof s!="string")return null;if(o&&o.vars&&a){const $=`vars.${s}`.split(".").reduce((j,_e)=>j&&j[_e]?j[_e]:null,o);if($!=null)return $}return s.split(".").reduce(($,j)=>$&&$[j]!=null?$[j]:null,o)}function getStyleValue$1(o,s,a,$=a){let j;return typeof o=="function"?j=o(a):Array.isArray(o)?j=o[a]||$:j=getPath$1(o,a)||$,s&&(j=s(j,$,o)),j}function style$1(o){const{prop:s,cssProperty:a=o.prop,themeKey:$,transform:j}=o,_e=et=>{if(et[s]==null)return null;const tt=et[s],rt=et.theme,nt=getPath$1(rt,$)||{};return handleBreakpoints(et,tt,ot=>{let st=getStyleValue$1(nt,j,ot);return ot===st&&typeof ot=="string"&&(st=getStyleValue$1(nt,j,`${s}${ot==="default"?"":capitalize$1(ot)}`,ot)),a===!1?st:{[a]:st}})};return _e.propTypes={},_e.filterProps=[s],_e}function memoize(o){const s={};return a=>(s[a]===void 0&&(s[a]=o(a)),s[a])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(o=>{if(o.length>2)if(aliases[o])o=aliases[o];else return[o];const[s,a]=o.split(""),$=properties[s],j=directions[a]||"";return Array.isArray(j)?j.map(_e=>$+_e):[$+j]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(o,s,a,$){var j;const _e=(j=getPath$1(o,s,!1))!=null?j:a;return typeof _e=="number"?et=>typeof et=="string"?et:_e*et:Array.isArray(_e)?et=>typeof et=="string"?et:_e[et]:typeof _e=="function"?_e:()=>{}}function createUnarySpacing(o){return createUnaryUnit(o,"spacing",8)}function getValue(o,s){if(typeof s=="string"||s==null)return s;const a=Math.abs(s),$=o(a);return s>=0?$:typeof $=="number"?-$:`-${$}`}function getStyleFromPropValue(o,s){return a=>o.reduce(($,j)=>($[j]=getValue(s,a),$),{})}function resolveCssProperty(o,s,a,$){if(s.indexOf(a)===-1)return null;const j=getCssProperties(a),_e=getStyleFromPropValue(j,$),et=o[a];return handleBreakpoints(o,et,_e)}function style(o,s){const a=createUnarySpacing(o.theme);return Object.keys(o).map($=>resolveCssProperty(o,s,$,a)).reduce(merge,{})}function margin(o){return style(o,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(o){return style(o,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(o=8){if(o.mui)return o;const s=createUnarySpacing({spacing:o}),a=(...$)=>($.length===0?[1]:$).map(_e=>{const et=s(_e);return typeof et=="number"?`${et}px`:et}).join(" ");return a.mui=!0,a}function compose(...o){const s=o.reduce(($,j)=>(j.filterProps.forEach(_e=>{$[_e]=j}),$),{}),a=$=>Object.keys($).reduce((j,_e)=>s[_e]?merge(j,s[_e]($)):j,{});return a.propTypes={},a.filterProps=o.reduce(($,j)=>$.concat(j.filterProps),[]),a}function borderTransform(o){return typeof o!="number"?o:`${o}px solid`}const border=style$1({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop=style$1({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight=style$1({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom=style$1({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft=style$1({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor=style$1({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$1({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$1({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$1({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$1({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=o=>{if(o.borderRadius!==void 0&&o.borderRadius!==null){const s=createUnaryUnit(o.theme,"shape.borderRadius",4),a=$=>({borderRadius:getValue(s,$)});return handleBreakpoints(o,o.borderRadius,a)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);const gap=o=>{if(o.gap!==void 0&&o.gap!==null){const s=createUnaryUnit(o.theme,"spacing",8),a=$=>({gap:getValue(s,$)});return handleBreakpoints(o,o.gap,a)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=o=>{if(o.columnGap!==void 0&&o.columnGap!==null){const s=createUnaryUnit(o.theme,"spacing",8),a=$=>({columnGap:getValue(s,$)});return handleBreakpoints(o,o.columnGap,a)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=o=>{if(o.rowGap!==void 0&&o.rowGap!==null){const s=createUnaryUnit(o.theme,"spacing",8),a=$=>({rowGap:getValue(s,$)});return handleBreakpoints(o,o.rowGap,a)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(o,s){return s==="grey"?s:o}const color=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(o){return o<=1&&o!==0?`${o*100}%`:o}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=o=>{if(o.maxWidth!==void 0&&o.maxWidth!==null){const s=a=>{var $,j,_e;return{maxWidth:(($=o.theme)==null||(j=$.breakpoints)==null||(_e=j.values)==null?void 0:_e[a])||values$1[a]||sizingTransform(a)}};return handleBreakpoints(o,o.maxWidth,s)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:o=>({"@media print":{display:o}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...o){const s=o.reduce(($,j)=>$.concat(Object.keys(j)),[]),a=new Set(s);return o.every($=>a.size===Object.keys($).length)}function callIfFn(o,s){return typeof o=="function"?o(s):o}function unstable_createStyleFunctionSx(){function o(a,$,j,_e){const et={[a]:$,theme:j},tt=_e[a];if(!tt)return{[a]:$};const{cssProperty:rt=a,themeKey:nt,transform:it,style:ot}=tt;if($==null)return null;if(nt==="typography"&&$==="inherit")return{[a]:$};const st=getPath$1(j,nt)||{};return ot?ot(et):handleBreakpoints(et,$,lt=>{let ft=getStyleValue$1(st,it,lt);return lt===ft&&typeof lt=="string"&&(ft=getStyleValue$1(st,it,`${a}${lt==="default"?"":capitalize$1(lt)}`,lt)),rt===!1?ft:{[rt]:ft}})}function s(a){var $;const{sx:j,theme:_e={}}=a||{};if(!j)return null;const et=($=_e.unstable_sxConfig)!=null?$:defaultSxConfig$1;function tt(rt){let nt=rt;if(typeof rt=="function")nt=rt(_e);else if(typeof rt!="object")return rt;if(!nt)return null;const it=createEmptyBreakpointObject(_e.breakpoints),ot=Object.keys(it);let st=it;return Object.keys(nt).forEach(at=>{const lt=callIfFn(nt[at],_e);if(lt!=null)if(typeof lt=="object")if(et[at])st=merge(st,o(at,lt,_e,et));else{const ft=handleBreakpoints({theme:_e},lt,pt=>({[at]:pt}));objectsHaveSameKeys(ft,lt)?st[at]=s({sx:lt,theme:_e}):st=merge(st,ft)}else st=merge(st,o(at,lt,_e,et))}),removeUnusedBreakpoints(ot,st)}return Array.isArray(j)?j.map(tt):tt(j)}return s}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const styleFunctionSx$1=styleFunctionSx,_excluded$D=["breakpoints","palette","spacing","shape"];function createTheme$1(o={},...s){const{breakpoints:a={},palette:$={},spacing:j,shape:_e={}}=o,et=_objectWithoutPropertiesLoose(o,_excluded$D),tt=createBreakpoints(a),rt=createSpacing(j);let nt=deepmerge({breakpoints:tt,direction:"ltr",components:{},palette:_extends({mode:"light"},$),spacing:rt,shape:_extends({},shape$1,_e)},et);return nt=s.reduce((it,ot)=>deepmerge(it,ot),nt),nt.unstable_sxConfig=_extends({},defaultSxConfig$1,et==null?void 0:et.unstable_sxConfig),nt.unstable_sx=function(ot){return styleFunctionSx$1({sx:ot,theme:this})},nt}function isObjectEmpty(o){return Object.keys(o).length===0}function useTheme$2(o=null){const s=reactExports.useContext(ThemeContext);return!s||isObjectEmpty(s)?o:s}const systemDefaultTheme$1=createTheme$1();function useTheme$1(o=systemDefaultTheme$1){return useTheme$2(o)}function GlobalStyles$1({styles:o,themeId:s,defaultTheme:a={}}){const $=useTheme$1(a),j=typeof o=="function"?o(s&&$[s]||$):o;return jsxRuntimeExports.jsx(GlobalStyles$2,{styles:j})}const _excluded$C=["sx"],splitProps=o=>{var s,a;const $={systemProps:{},otherProps:{}},j=(s=o==null||(a=o.theme)==null?void 0:a.unstable_sxConfig)!=null?s:defaultSxConfig$1;return Object.keys(o).forEach(_e=>{j[_e]?$.systemProps[_e]=o[_e]:$.otherProps[_e]=o[_e]}),$};function extendSxProp(o){const{sx:s}=o,a=_objectWithoutPropertiesLoose(o,_excluded$C),{systemProps:$,otherProps:j}=splitProps(a);let _e;return Array.isArray(s)?_e=[$,...s]:typeof s=="function"?_e=(...et)=>{const tt=s(...et);return isPlainObject(tt)?_extends({},$,tt):$}:_e=_extends({},$,s),_extends({},j,{sx:_e})}function r(o){var s,a,$="";if(typeof o=="string"||typeof o=="number")$+=o;else if(typeof o=="object")if(Array.isArray(o))for(s=0;s<o.length;s++)o[s]&&(a=r(o[s]))&&($&&($+=" "),$+=a);else for(s in o)o[s]&&($&&($+=" "),$+=s);return $}function clsx(){for(var o,s,a=0,$="";a<arguments.length;)(o=arguments[a++])&&(s=r(o))&&($&&($+=" "),$+=s);return $}const _excluded$B=["variant"];function isEmpty$3(o){return o.length===0}function propsToClassKey(o){const{variant:s}=o,a=_objectWithoutPropertiesLoose(o,_excluded$B);let $=s||"";return Object.keys(a).sort().forEach(j=>{j==="color"?$+=isEmpty$3($)?o[j]:capitalize$1(o[j]):$+=`${isEmpty$3($)?j:capitalize$1(j)}${capitalize$1(o[j].toString())}`}),$}const _excluded$A=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function isEmpty$2(o){return Object.keys(o).length===0}function isStringTag(o){return typeof o=="string"&&o.charCodeAt(0)>96}const getStyleOverrides=(o,s)=>s.components&&s.components[o]&&s.components[o].styleOverrides?s.components[o].styleOverrides:null,getVariantStyles=(o,s)=>{let a=[];s&&s.components&&s.components[o]&&s.components[o].variants&&(a=s.components[o].variants);const $={};return a.forEach(j=>{const _e=propsToClassKey(j.props);$[_e]=j.style}),$},variantsResolver=(o,s,a,$)=>{var j,_e;const{ownerState:et={}}=o,tt=[],rt=a==null||(j=a.components)==null||(_e=j[$])==null?void 0:_e.variants;return rt&&rt.forEach(nt=>{let it=!0;Object.keys(nt.props).forEach(ot=>{et[ot]!==nt.props[ot]&&o[ot]!==nt.props[ot]&&(it=!1)}),it&&tt.push(s[propsToClassKey(nt.props)])}),tt};function shouldForwardProp(o){return o!=="ownerState"&&o!=="theme"&&o!=="sx"&&o!=="as"}const systemDefaultTheme=createTheme$1();function resolveTheme({defaultTheme:o,theme:s,themeId:a}){return isEmpty$2(s)?o:s[a]||s}function createStyled(o={}){const{themeId:s,defaultTheme:a=systemDefaultTheme,rootShouldForwardProp:$=shouldForwardProp,slotShouldForwardProp:j=shouldForwardProp}=o,_e=et=>styleFunctionSx$1(_extends({},et,{theme:resolveTheme(_extends({},et,{defaultTheme:a,themeId:s}))}));return _e.__mui_systemSx=!0,(et,tt={})=>{internal_processStyles(et,ht=>ht.filter(mt=>!(mt!=null&&mt.__mui_systemSx)));const{name:rt,slot:nt,skipVariantsResolver:it,skipSx:ot,overridesResolver:st}=tt,at=_objectWithoutPropertiesLoose(tt,_excluded$A),lt=it!==void 0?it:nt&&nt!=="Root"||!1,ft=ot||!1;let pt,ut=shouldForwardProp;nt==="Root"?ut=$:nt?ut=j:isStringTag(et)&&(ut=void 0);const dt=styled$2(et,_extends({shouldForwardProp:ut,label:pt},at)),ct=(ht,...mt)=>{const vt=mt?mt.map(gt=>typeof gt=="function"&&gt.__emotion_real!==gt?wt=>gt(_extends({},wt,{theme:resolveTheme(_extends({},wt,{defaultTheme:a,themeId:s}))})):gt):[];let yt=ht;rt&&st&&vt.push(gt=>{const wt=resolveTheme(_extends({},gt,{defaultTheme:a,themeId:s})),Et=getStyleOverrides(rt,wt);if(Et){const kt={};return Object.entries(Et).forEach(([Ct,Mt])=>{kt[Ct]=typeof Mt=="function"?Mt(_extends({},gt,{theme:wt})):Mt}),st(gt,kt)}return null}),rt&&!lt&&vt.push(gt=>{const wt=resolveTheme(_extends({},gt,{defaultTheme:a,themeId:s}));return variantsResolver(gt,getVariantStyles(rt,wt),wt,rt)}),ft||vt.push(_e);const xt=vt.length-mt.length;if(Array.isArray(ht)&&xt>0){const gt=new Array(xt).fill("");yt=[...ht,...gt],yt.raw=[...ht.raw,...gt]}else typeof ht=="function"&&ht.__emotion_real!==ht&&(yt=gt=>ht(_extends({},gt,{theme:resolveTheme(_extends({},gt,{defaultTheme:a,themeId:s}))})));const bt=dt(yt,...vt);return et.muiName&&(bt.muiName=et.muiName),bt};return dt.withConfig&&(ct.withConfig=dt.withConfig),ct}}function getThemeProps(o){const{theme:s,name:a,props:$}=o;return!s||!s.components||!s.components[a]||!s.components[a].defaultProps?$:resolveProps(s.components[a].defaultProps,$)}function useThemeProps$1({props:o,name:s,defaultTheme:a,themeId:$}){let j=useTheme$1(a);return $&&(j=j[$]||j),getThemeProps({theme:j,name:s,props:o})}function clamp(o,s=0,a=1){return Math.min(Math.max(s,o),a)}function hexToRgb(o){o=o.slice(1);const s=new RegExp(`.{1,${o.length>=6?2:1}}`,"g");let a=o.match(s);return a&&a[0].length===1&&(a=a.map($=>$+$)),a?`rgb${a.length===4?"a":""}(${a.map(($,j)=>j<3?parseInt($,16):Math.round(parseInt($,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(o){if(o.type)return o;if(o.charAt(0)==="#")return decomposeColor(hexToRgb(o));const s=o.indexOf("("),a=o.substring(0,s);if(["rgb","rgba","hsl","hsla","color"].indexOf(a)===-1)throw new Error(formatMuiErrorMessage(9,o));let $=o.substring(s+1,o.length-1),j;if(a==="color"){if($=$.split(" "),j=$.shift(),$.length===4&&$[3].charAt(0)==="/"&&($[3]=$[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(j)===-1)throw new Error(formatMuiErrorMessage(10,j))}else $=$.split(",");return $=$.map(_e=>parseFloat(_e)),{type:a,values:$,colorSpace:j}}function recomposeColor(o){const{type:s,colorSpace:a}=o;let{values:$}=o;return s.indexOf("rgb")!==-1?$=$.map((j,_e)=>_e<3?parseInt(j,10):j):s.indexOf("hsl")!==-1&&($[1]=`${$[1]}%`,$[2]=`${$[2]}%`),s.indexOf("color")!==-1?$=`${a} ${$.join(" ")}`:$=`${$.join(", ")}`,`${s}(${$})`}function hslToRgb(o){o=decomposeColor(o);const{values:s}=o,a=s[0],$=s[1]/100,j=s[2]/100,_e=$*Math.min(j,1-j),et=(nt,it=(nt+a/30)%12)=>j-_e*Math.max(Math.min(it-3,9-it,1),-1);let tt="rgb";const rt=[Math.round(et(0)*255),Math.round(et(8)*255),Math.round(et(4)*255)];return o.type==="hsla"&&(tt+="a",rt.push(s[3])),recomposeColor({type:tt,values:rt})}function getLuminance(o){o=decomposeColor(o);let s=o.type==="hsl"||o.type==="hsla"?decomposeColor(hslToRgb(o)).values:o.values;return s=s.map(a=>(o.type!=="color"&&(a/=255),a<=.03928?a/12.92:((a+.055)/1.055)**2.4)),Number((.2126*s[0]+.7152*s[1]+.0722*s[2]).toFixed(3))}function getContrastRatio(o,s){const a=getLuminance(o),$=getLuminance(s);return(Math.max(a,$)+.05)/(Math.min(a,$)+.05)}function alpha(o,s){return o=decomposeColor(o),s=clamp(s),(o.type==="rgb"||o.type==="hsl")&&(o.type+="a"),o.type==="color"?o.values[3]=`/${s}`:o.values[3]=s,recomposeColor(o)}function darken(o,s){if(o=decomposeColor(o),s=clamp(s),o.type.indexOf("hsl")!==-1)o.values[2]*=1-s;else if(o.type.indexOf("rgb")!==-1||o.type.indexOf("color")!==-1)for(let a=0;a<3;a+=1)o.values[a]*=1-s;return recomposeColor(o)}function lighten(o,s){if(o=decomposeColor(o),s=clamp(s),o.type.indexOf("hsl")!==-1)o.values[2]+=(100-o.values[2])*s;else if(o.type.indexOf("rgb")!==-1)for(let a=0;a<3;a+=1)o.values[a]+=(255-o.values[a])*s;else if(o.type.indexOf("color")!==-1)for(let a=0;a<3;a+=1)o.values[a]+=(1-o.values[a])*s;return recomposeColor(o)}function createMixins(o,s){return _extends({toolbar:{minHeight:56,[o.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[o.up("sm")]:{minHeight:64}}},s)}const _excluded$z=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(o,s,a,$){const j=$.light||$,_e=$.dark||$*1.5;o[s]||(o.hasOwnProperty(a)?o[s]=o[a]:s==="light"?o.light=lighten(o.main,j):s==="dark"&&(o.dark=darken(o.main,_e)))}function getDefaultPrimary(o="light"){return o==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(o="light"){return o==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(o="light"){return o==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(o="light"){return o==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(o="light"){return o==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(o="light"){return o==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(o){const{mode:s="light",contrastThreshold:a=3,tonalOffset:$=.2}=o,j=_objectWithoutPropertiesLoose(o,_excluded$z),_e=o.primary||getDefaultPrimary(s),et=o.secondary||getDefaultSecondary(s),tt=o.error||getDefaultError(s),rt=o.info||getDefaultInfo(s),nt=o.success||getDefaultSuccess(s),it=o.warning||getDefaultWarning(s);function ot(ft){return getContrastRatio(ft,dark.text.primary)>=a?dark.text.primary:light.text.primary}const st=({color:ft,name:pt,mainShade:ut=500,lightShade:dt=300,darkShade:ct=700})=>{if(ft=_extends({},ft),!ft.main&&ft[ut]&&(ft.main=ft[ut]),!ft.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,pt?` (${pt})`:"",ut));if(typeof ft.main!="string")throw new Error(formatMuiErrorMessage(12,pt?` (${pt})`:"",JSON.stringify(ft.main)));return addLightOrDark(ft,"light",dt,$),addLightOrDark(ft,"dark",ct,$),ft.contrastText||(ft.contrastText=ot(ft.main)),ft},at={dark,light};return deepmerge(_extends({common:_extends({},common$1),mode:s,primary:st({color:_e,name:"primary"}),secondary:st({color:et,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:st({color:tt,name:"error"}),warning:st({color:it,name:"warning"}),info:st({color:rt,name:"info"}),success:st({color:nt,name:"success"}),grey:grey$1,contrastThreshold:a,getContrastText:ot,augmentColor:st,tonalOffset:$},at[s]),j)}const _excluded$y=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round(o){return Math.round(o*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(o,s){const a=typeof s=="function"?s(o):s,{fontFamily:$=defaultFontFamily,fontSize:j=14,fontWeightLight:_e=300,fontWeightRegular:et=400,fontWeightMedium:tt=500,fontWeightBold:rt=700,htmlFontSize:nt=16,allVariants:it,pxToRem:ot}=a,st=_objectWithoutPropertiesLoose(a,_excluded$y),at=j/14,lt=ot||(ut=>`${ut/nt*at}rem`),ft=(ut,dt,ct,ht,mt)=>_extends({fontFamily:$,fontWeight:ut,fontSize:lt(dt),lineHeight:ct},$===defaultFontFamily?{letterSpacing:`${round(ht/dt)}em`}:{},mt,it),pt={h1:ft(_e,96,1.167,-1.5),h2:ft(_e,60,1.2,-.5),h3:ft(et,48,1.167,0),h4:ft(et,34,1.235,.25),h5:ft(et,24,1.334,0),h6:ft(tt,20,1.6,.15),subtitle1:ft(et,16,1.75,.15),subtitle2:ft(tt,14,1.57,.1),body1:ft(et,16,1.5,.15),body2:ft(et,14,1.43,.15),button:ft(tt,14,1.75,.4,caseAllCaps),caption:ft(et,12,1.66,.4),overline:ft(et,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge(_extends({htmlFontSize:nt,pxToRem:lt,fontFamily:$,fontSize:j,fontWeightLight:_e,fontWeightRegular:et,fontWeightMedium:tt,fontWeightBold:rt},pt),st,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...o){return[`${o[0]}px ${o[1]}px ${o[2]}px ${o[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${o[4]}px ${o[5]}px ${o[6]}px ${o[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${o[8]}px ${o[9]}px ${o[10]}px ${o[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$1=shadows,_excluded$x=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(o){return`${Math.round(o)}ms`}function getAutoHeightDuration(o){if(!o)return 0;const s=o/36;return Math.round((4+15*s**.25+s/5)*10)}function createTransitions(o){const s=_extends({},easing,o.easing),a=_extends({},duration,o.duration);return _extends({getAutoHeightDuration,create:(j=["all"],_e={})=>{const{duration:et=a.standard,easing:tt=s.easeInOut,delay:rt=0}=_e;return _objectWithoutPropertiesLoose(_e,_excluded$x),(Array.isArray(j)?j:[j]).map(nt=>`${nt} ${typeof et=="string"?et:formatMs(et)} ${tt} ${typeof rt=="string"?rt:formatMs(rt)}`).join(",")}},o,{easing:s,duration:a})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$w=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(o={},...s){const{mixins:a={},palette:$={},transitions:j={},typography:_e={}}=o,et=_objectWithoutPropertiesLoose(o,_excluded$w);if(o.vars)throw new Error(formatMuiErrorMessage(18));const tt=createPalette($),rt=createTheme$1(o);let nt=deepmerge(rt,{mixins:createMixins(rt.breakpoints,a),palette:tt,shadows:shadows$1.slice(),typography:createTypography(tt,_e),transitions:createTransitions(j),zIndex:_extends({},zIndex$1)});return nt=deepmerge(nt,et),nt=s.reduce((it,ot)=>deepmerge(it,ot),nt),nt.unstable_sxConfig=_extends({},defaultSxConfig$1,et==null?void 0:et.unstable_sxConfig),nt.unstable_sx=function(ot){return styleFunctionSx$1({sx:ot,theme:this})},nt}const defaultTheme=createTheme(),defaultTheme$1=defaultTheme;function useTheme(){const o=useTheme$1(defaultTheme$1);return o[THEME_ID]||o}function useThemeProps({props:o,name:s}){return useThemeProps$1({props:o,name:s,defaultTheme:defaultTheme$1,themeId:THEME_ID})}const rootShouldForwardProp=o=>shouldForwardProp(o)&&o!=="classes",slotShouldForwardProp=shouldForwardProp,styled=createStyled({themeId:THEME_ID,defaultTheme:defaultTheme$1,rootShouldForwardProp}),styled$1=styled,getOverlayAlpha=o=>{let s;return o<1?s=5.11916*o**2:s=4.5*Math.log(o+1)+2,(s/100).toFixed(2)},getOverlayAlpha$1=getOverlayAlpha;function isHostComponent(o){return typeof o=="string"}function appendOwnerState(o,s,a){return o===void 0||isHostComponent(o)?s:_extends({},s,{ownerState:_extends({},s.ownerState,a)})}const defaultContextValue={disableDefaultClasses:!1},ClassNameConfiguratorContext=reactExports.createContext(defaultContextValue);function useClassNamesOverride(o){const{disableDefaultClasses:s}=reactExports.useContext(ClassNameConfiguratorContext);return a=>s?"":o(a)}function extractEventHandlers(o,s=[]){if(o===void 0)return{};const a={};return Object.keys(o).filter($=>$.match(/^on[A-Z]/)&&typeof o[$]=="function"&&!s.includes($)).forEach($=>{a[$]=o[$]}),a}function resolveComponentProps(o,s,a){return typeof o=="function"?o(s,a):o}function omitEventHandlers(o){if(o===void 0)return{};const s={};return Object.keys(o).filter(a=>!(a.match(/^on[A-Z]/)&&typeof o[a]=="function")).forEach(a=>{s[a]=o[a]}),s}function mergeSlotProps(o){const{getSlotProps:s,additionalProps:a,externalSlotProps:$,externalForwardedProps:j,className:_e}=o;if(!s){const at=clsx(j==null?void 0:j.className,$==null?void 0:$.className,_e,a==null?void 0:a.className),lt=_extends({},a==null?void 0:a.style,j==null?void 0:j.style,$==null?void 0:$.style),ft=_extends({},a,j,$);return at.length>0&&(ft.className=at),Object.keys(lt).length>0&&(ft.style=lt),{props:ft,internalRef:void 0}}const et=extractEventHandlers(_extends({},j,$)),tt=omitEventHandlers($),rt=omitEventHandlers(j),nt=s(et),it=clsx(nt==null?void 0:nt.className,a==null?void 0:a.className,_e,j==null?void 0:j.className,$==null?void 0:$.className),ot=_extends({},nt==null?void 0:nt.style,a==null?void 0:a.style,j==null?void 0:j.style,$==null?void 0:$.style),st=_extends({},nt,a,rt,tt);return it.length>0&&(st.className=it),Object.keys(ot).length>0&&(st.style=ot),{props:st,internalRef:nt.ref}}const _excluded$v=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function useSlotProps(o){var s;const{elementType:a,externalSlotProps:$,ownerState:j,skipResolvingSlotProps:_e=!1}=o,et=_objectWithoutPropertiesLoose(o,_excluded$v),tt=_e?{}:resolveComponentProps($,j),{props:rt,internalRef:nt}=mergeSlotProps(_extends({},et,{externalSlotProps:tt})),it=useForkRef(nt,tt==null?void 0:tt.ref,(s=o.additionalProps)==null?void 0:s.ref);return appendOwnerState(a,_extends({},rt,{ref:it}),j)}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(o){const s=parseInt(o.getAttribute("tabindex")||"",10);return Number.isNaN(s)?o.contentEditable==="true"||(o.nodeName==="AUDIO"||o.nodeName==="VIDEO"||o.nodeName==="DETAILS")&&o.getAttribute("tabindex")===null?0:o.tabIndex:s}function isNonTabbableRadio(o){if(o.tagName!=="INPUT"||o.type!=="radio"||!o.name)return!1;const s=$=>o.ownerDocument.querySelector(`input[type="radio"]${$}`);let a=s(`[name="${o.name}"]:checked`);return a||(a=s(`[name="${o.name}"]`)),a!==o}function isNodeMatchingSelectorFocusable(o){return!(o.disabled||o.tagName==="INPUT"&&o.type==="hidden"||isNonTabbableRadio(o))}function defaultGetTabbable(o){const s=[],a=[];return Array.from(o.querySelectorAll(candidatesSelector)).forEach(($,j)=>{const _e=getTabIndex($);_e===-1||!isNodeMatchingSelectorFocusable($)||(_e===0?s.push($):a.push({documentOrder:j,tabIndex:_e,node:$}))}),a.sort(($,j)=>$.tabIndex===j.tabIndex?$.documentOrder-j.documentOrder:$.tabIndex-j.tabIndex).map($=>$.node).concat(s)}function defaultIsEnabled(){return!0}function FocusTrap(o){const{children:s,disableAutoFocus:a=!1,disableEnforceFocus:$=!1,disableRestoreFocus:j=!1,getTabbable:_e=defaultGetTabbable,isEnabled:et=defaultIsEnabled,open:tt}=o,rt=reactExports.useRef(!1),nt=reactExports.useRef(null),it=reactExports.useRef(null),ot=reactExports.useRef(null),st=reactExports.useRef(null),at=reactExports.useRef(!1),lt=reactExports.useRef(null),ft=useForkRef(s.ref,lt),pt=reactExports.useRef(null);reactExports.useEffect(()=>{!tt||!lt.current||(at.current=!a)},[a,tt]),reactExports.useEffect(()=>{if(!tt||!lt.current)return;const ct=ownerDocument(lt.current);return lt.current.contains(ct.activeElement)||(lt.current.hasAttribute("tabIndex")||lt.current.setAttribute("tabIndex","-1"),at.current&&lt.current.focus()),()=>{j||(ot.current&&ot.current.focus&&(rt.current=!0,ot.current.focus()),ot.current=null)}},[tt]),reactExports.useEffect(()=>{if(!tt||!lt.current)return;const ct=ownerDocument(lt.current),ht=yt=>{const{current:xt}=lt;if(xt!==null){if(!ct.hasFocus()||$||!et()||rt.current){rt.current=!1;return}if(!xt.contains(ct.activeElement)){if(yt&&st.current!==yt.target||ct.activeElement!==st.current)st.current=null;else if(st.current!==null)return;if(!at.current)return;let wt=[];if((ct.activeElement===nt.current||ct.activeElement===it.current)&&(wt=_e(lt.current)),wt.length>0){var bt,gt;const Et=!!((bt=pt.current)!=null&&bt.shiftKey&&((gt=pt.current)==null?void 0:gt.key)==="Tab"),kt=wt[0],Ct=wt[wt.length-1];typeof kt!="string"&&typeof Ct!="string"&&(Et?Ct.focus():kt.focus())}else xt.focus()}}},mt=yt=>{pt.current=yt,!($||!et()||yt.key!=="Tab")&&ct.activeElement===lt.current&&yt.shiftKey&&(rt.current=!0,it.current&&it.current.focus())};ct.addEventListener("focusin",ht),ct.addEventListener("keydown",mt,!0);const vt=setInterval(()=>{ct.activeElement&&ct.activeElement.tagName==="BODY"&&ht(null)},50);return()=>{clearInterval(vt),ct.removeEventListener("focusin",ht),ct.removeEventListener("keydown",mt,!0)}},[a,$,j,et,tt,_e]);const ut=ct=>{ot.current===null&&(ot.current=ct.relatedTarget),at.current=!0,st.current=ct.target;const ht=s.props.onFocus;ht&&ht(ct)},dt=ct=>{ot.current===null&&(ot.current=ct.relatedTarget),at.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:tt?0:-1,onFocus:dt,ref:nt,"data-testid":"sentinelStart"}),reactExports.cloneElement(s,{ref:ft,onFocus:ut}),jsxRuntimeExports.jsx("div",{tabIndex:tt?0:-1,onFocus:dt,ref:it,"data-testid":"sentinelEnd"})]})}var reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function s($t,Dt){var It=$t.length;$t.push(Dt);e:for(;0<It;){var Yt=It-1>>>1,Ht=$t[Yt];if(0<j(Ht,Dt))$t[Yt]=Dt,$t[It]=Ht,It=Yt;else break e}}function a($t){return $t.length===0?null:$t[0]}function $($t){if($t.length===0)return null;var Dt=$t[0],It=$t.pop();if(It!==Dt){$t[0]=It;e:for(var Yt=0,Ht=$t.length,jt=Ht>>>1;Yt<jt;){var Bt=2*(Yt+1)-1,Ot=$t[Bt],Ut=Bt+1,Gt=$t[Ut];if(0>j(Ot,It))Ut<Ht&&0>j(Gt,Ot)?($t[Yt]=Gt,$t[Ut]=It,Yt=Ut):($t[Yt]=Ot,$t[Bt]=It,Yt=Bt);else if(Ut<Ht&&0>j(Gt,It))$t[Yt]=Gt,$t[Ut]=It,Yt=Ut;else break e}}return Dt}function j($t,Dt){var It=$t.sortIndex-Dt.sortIndex;return It!==0?It:$t.id-Dt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _e=performance;o.unstable_now=function(){return _e.now()}}else{var et=Date,tt=et.now();o.unstable_now=function(){return et.now()-tt}}var rt=[],nt=[],it=1,ot=null,st=3,at=!1,lt=!1,ft=!1,pt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ct($t){for(var Dt=a(nt);Dt!==null;){if(Dt.callback===null)$(nt);else if(Dt.startTime<=$t)$(nt),Dt.sortIndex=Dt.expirationTime,s(rt,Dt);else break;Dt=a(nt)}}function ht($t){if(ft=!1,ct($t),!lt)if(a(rt)!==null)lt=!0,Ft(mt);else{var Dt=a(nt);Dt!==null&&Tt(ht,Dt.startTime-$t)}}function mt($t,Dt){lt=!1,ft&&(ft=!1,ut(xt),xt=-1),at=!0;var It=st;try{for(ct(Dt),ot=a(rt);ot!==null&&(!(ot.expirationTime>Dt)||$t&&!wt());){var Yt=ot.callback;if(typeof Yt=="function"){ot.callback=null,st=ot.priorityLevel;var Ht=Yt(ot.expirationTime<=Dt);Dt=o.unstable_now(),typeof Ht=="function"?ot.callback=Ht:ot===a(rt)&&$(rt),ct(Dt)}else $(rt);ot=a(rt)}if(ot!==null)var jt=!0;else{var Bt=a(nt);Bt!==null&&Tt(ht,Bt.startTime-Dt),jt=!1}return jt}finally{ot=null,st=It,at=!1}}var vt=!1,yt=null,xt=-1,bt=5,gt=-1;function wt(){return!(o.unstable_now()-gt<bt)}function Et(){if(yt!==null){var $t=o.unstable_now();gt=$t;var Dt=!0;try{Dt=yt(!0,$t)}finally{Dt?kt():(vt=!1,yt=null)}}else vt=!1}var kt;if(typeof dt=="function")kt=function(){dt(Et)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,Mt=Ct.port2;Ct.port1.onmessage=Et,kt=function(){Mt.postMessage(null)}}else kt=function(){pt(Et,0)};function Ft($t){yt=$t,vt||(vt=!0,kt())}function Tt($t,Dt){xt=pt(function(){$t(o.unstable_now())},Dt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function($t){$t.callback=null},o.unstable_continueExecution=function(){lt||at||(lt=!0,Ft(mt))},o.unstable_forceFrameRate=function($t){0>$t||125<$t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):bt=0<$t?Math.floor(1e3/$t):5},o.unstable_getCurrentPriorityLevel=function(){return st},o.unstable_getFirstCallbackNode=function(){return a(rt)},o.unstable_next=function($t){switch(st){case 1:case 2:case 3:var Dt=3;break;default:Dt=st}var It=st;st=Dt;try{return $t()}finally{st=It}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function($t,Dt){switch($t){case 1:case 2:case 3:case 4:case 5:break;default:$t=3}var It=st;st=$t;try{return Dt()}finally{st=It}},o.unstable_scheduleCallback=function($t,Dt,It){var Yt=o.unstable_now();switch(typeof It=="object"&&It!==null?(It=It.delay,It=typeof It=="number"&&0<It?Yt+It:Yt):It=Yt,$t){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=It+Ht,$t={id:it++,callback:Dt,priorityLevel:$t,startTime:It,expirationTime:Ht,sortIndex:-1},It>Yt?($t.sortIndex=It,s(nt,$t),a(rt)===null&&$t===a(nt)&&(ft?(ut(xt),xt=-1):ft=!0,Tt(ht,It-Yt))):($t.sortIndex=Ht,s(rt,$t),lt||at||(lt=!0,Ft(mt))),$t},o.unstable_shouldYield=wt,o.unstable_wrapCallback=function($t){var Dt=st;return function(){var It=st;st=Dt;try{return $t.apply(this,arguments)}finally{st=It}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(o){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+o,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,s){ha(o,s),ha(o+"Capture",s)}function ha(o,s){for(ea[o]=s,o=0;o<s.length;o++)da.add(s[o])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,s,a,$){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return $?!1:a!==null?!a.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,s,a,$){if(s===null||typeof s>"u"||pa(o,s,a,$))return!0;if($)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v(o,s,a,$,j,_e,et){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=$,this.attributeNamespace=j,this.mustUseProperty=a,this.propertyName=o,this.type=s,this.sanitizeURL=_e,this.removeEmptyString=et}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z[o]=new v(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var s=o[0];z[s]=new v(s,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z[o]=new v(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z[o]=new v(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z[o]=new v(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z[o]=new v(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var s=o.replace(ra,sa);z[s]=new v(s,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var s=o.replace(ra,sa);z[s]=new v(s,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var s=o.replace(ra,sa);z[s]=new v(s,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,s,a,$){var j=z.hasOwnProperty(s)?z[s]:null;(j!==null?j.type!==0:$||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,a,j,$)&&(a=null),$||j===null?oa(s)&&(a===null?o.removeAttribute(s):o.setAttribute(s,""+a)):j.mustUseProperty?o[j.propertyName]=a===null?j.type===3?!1:"":a:(s=j.attributeName,$=j.attributeNamespace,a===null?o.removeAttribute(s):(j=j.type,a=j===3||j===4&&a===!0?"":""+a,$?o.setAttributeNS($,s,a):o.setAttribute(s,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+o}var Na=!1;function Oa(o,s){if(!o||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(nt){var $=nt}Reflect.construct(o,[],s)}else{try{s.call()}catch(nt){$=nt}o.call(s.prototype)}else{try{throw Error()}catch(nt){$=nt}o()}}catch(nt){if(nt&&$&&typeof nt.stack=="string"){for(var j=nt.stack.split(`
`),_e=$.stack.split(`
`),et=j.length-1,tt=_e.length-1;1<=et&&0<=tt&&j[et]!==_e[tt];)tt--;for(;1<=et&&0<=tt;et--,tt--)if(j[et]!==_e[tt]){if(et!==1||tt!==1)do if(et--,tt--,0>tt||j[et]!==_e[tt]){var rt=`
`+j[et].replace(" at new "," at ");return o.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",o.displayName)),rt}while(1<=et&&0<=tt);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return s=o.displayName||null,s!==null?s:Qa(o.type)||"Memo";case Ha:s=o._payload,o=o._init;try{return Qa(o(s))}catch{}}return null}function Ra(o){var s=o.type;switch(o.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=s.render,o=o.displayName||o.name||"",s.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(o){var s=Ta(o)?"checked":"value",a=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),$=""+o[s];if(!o.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var j=a.get,_e=a.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return j.call(this)},set:function(et){$=""+et,_e.call(this,et)}}),Object.defineProperty(o,s,{enumerable:a.enumerable}),{getValue:function(){return $},setValue:function(et){$=""+et},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var a=s.getValue(),$="";return o&&($=Ta(o)?o.checked?"true":"false":o.value),o=$,o!==a?(s.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,s){var a=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??o._wrapperState.initialChecked})}function Za(o,s){var a=s.defaultValue==null?"":s.defaultValue,$=s.checked!=null?s.checked:s.defaultChecked;a=Sa(s.value!=null?s.value:a),o._wrapperState={initialChecked:$,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(o,s){s=s.checked,s!=null&&ta(o,"checked",s,!1)}function bb(o,s){ab(o,s);var a=Sa(s.value),$=s.type;if(a!=null)$==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+a):o.value!==""+a&&(o.value=""+a);else if($==="submit"||$==="reset"){o.removeAttribute("value");return}s.hasOwnProperty("value")?cb(o,s.type,a):s.hasOwnProperty("defaultValue")&&cb(o,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(o.defaultChecked=!!s.defaultChecked)}function db(o,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var $=s.type;if(!($!=="submit"&&$!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+o._wrapperState.initialValue,a||s===o.value||(o.value=s),o.defaultValue=s}a=o.name,a!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,a!==""&&(o.name=a)}function cb(o,s,a){(s!=="number"||Xa(o.ownerDocument)!==o)&&(a==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+a&&(o.defaultValue=""+a))}var eb=Array.isArray;function fb(o,s,a,$){if(o=o.options,s){s={};for(var j=0;j<a.length;j++)s["$"+a[j]]=!0;for(a=0;a<o.length;a++)j=s.hasOwnProperty("$"+o[a].value),o[a].selected!==j&&(o[a].selected=j),j&&$&&(o[a].defaultSelected=!0)}else{for(a=""+Sa(a),s=null,j=0;j<o.length;j++){if(o[j].value===a){o[j].selected=!0,$&&(o[j].defaultSelected=!0);return}s!==null||o[j].disabled||(s=o[j])}s!==null&&(s.selected=!0)}}function gb(o,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(p(92));if(eb(a)){if(1<a.length)throw Error(p(93));a=a[0]}s=a}s==null&&(s=""),a=s}o._wrapperState={initialValue:Sa(a)}}function ib(o,s){var a=Sa(s.value),$=Sa(s.defaultValue);a!=null&&(a=""+a,a!==o.value&&(o.value=a),s.defaultValue==null&&o.defaultValue!==a&&(o.defaultValue=a)),$!=null&&(o.defaultValue=""+$)}function jb(o){var s=o.textContent;s===o._wrapperState.initialValue&&s!==""&&s!==null&&(o.value=s)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,s){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(s):o==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,$,j){MSApp.execUnsafeLocalFunction(function(){return o(s,a,$,j)})}:o}(function(o,s){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;s.firstChild;)o.appendChild(s.firstChild)}});function ob(o,s){if(s){var a=o.firstChild;if(a&&a===o.lastChild&&a.nodeType===3){a.nodeValue=s;return}}o.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(s){s=s+o.charAt(0).toUpperCase()+o.substring(1),pb[s]=pb[o]})});function rb(o,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||pb.hasOwnProperty(o)&&pb[o]?(""+s).trim():s+"px"}function sb(o,s){o=o.style;for(var a in s)if(s.hasOwnProperty(a)){var $=a.indexOf("--")===0,j=rb(a,s[a],$);a==="float"&&(a="cssFloat"),$?o.setProperty(a,j):o[a]=j}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,s){if(s){if(tb[o]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,o));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(o,s){if(o.indexOf("-")===-1)return typeof s.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p(280));var s=o.stateNode;s&&(s=Db(s),yb(o.stateNode,o.type,s))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,s=Ab;if(Ab=zb=null,Bb(o),s)for(o=0;o<s.length;o++)Bb(s[o])}}function Gb(o,s){return o(s)}function Hb(){}var Ib=!1;function Jb(o,s,a){if(Ib)return o(s,a);Ib=!0;try{return Gb(o,s,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,s){var a=o.stateNode;if(a===null)return null;var $=Db(a);if($===null)return null;a=$[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":($=!$.disabled)||(o=o.type,$=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!$;break e;default:o=!1}if(o)return null;if(a&&typeof a!="function")throw Error(p(231,s,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch(o){Lb=!1}function Nb(o,s,a,$,j,_e,et,tt,rt){var nt=Array.prototype.slice.call(arguments,3);try{s.apply(a,nt)}catch(it){this.onError(it)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,s,a,$,j,_e,et,tt,rt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,s,a,$,j,_e,et,tt,rt){if(Tb.apply(this,arguments),Ob){if(Ob){var nt=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=nt)}}function Vb(o){var s=o,a=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,s.flags&4098&&(a=s.return),o=s.return;while(o)}return s.tag===3?a:null}function Wb(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p(188))}function Yb(o){var s=o.alternate;if(!s){if(s=Vb(o),s===null)throw Error(p(188));return s!==o?null:o}for(var a=o,$=s;;){var j=a.return;if(j===null)break;var _e=j.alternate;if(_e===null){if($=j.return,$!==null){a=$;continue}break}if(j.child===_e.child){for(_e=j.child;_e;){if(_e===a)return Xb(j),o;if(_e===$)return Xb(j),s;_e=_e.sibling}throw Error(p(188))}if(a.return!==$.return)a=j,$=_e;else{for(var et=!1,tt=j.child;tt;){if(tt===a){et=!0,a=j,$=_e;break}if(tt===$){et=!0,$=j,a=_e;break}tt=tt.sibling}if(!et){for(tt=_e.child;tt;){if(tt===a){et=!0,a=_e,$=j;break}if(tt===$){et=!0,$=_e,a=j;break}tt=tt.sibling}if(!et)throw Error(p(189))}}if(a.alternate!==$)throw Error(p(190))}if(a.tag!==3)throw Error(p(188));return a.stateNode.current===a?o:s}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var s=$b(o);if(s!==null)return s;o=o.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,s){var a=o.pendingLanes;if(a===0)return 0;var $=0,j=o.suspendedLanes,_e=o.pingedLanes,et=a&268435455;if(et!==0){var tt=et&~j;tt!==0?$=tc(tt):(_e&=et,_e!==0&&($=tc(_e)))}else et=a&~j,et!==0?$=tc(et):_e!==0&&($=tc(_e));if($===0)return 0;if(s!==0&&s!==$&&!(s&j)&&(j=$&-$,_e=s&-s,j>=_e||j===16&&(_e&4194240)!==0))return s;if($&4&&($|=a&16),s=o.entangledLanes,s!==0)for(o=o.entanglements,s&=$;0<s;)a=31-oc(s),j=1<<a,$|=o[a],s&=~j;return $}function vc(o,s){switch(o){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,s){for(var a=o.suspendedLanes,$=o.pingedLanes,j=o.expirationTimes,_e=o.pendingLanes;0<_e;){var et=31-oc(_e),tt=1<<et,rt=j[et];rt===-1?(!(tt&a)||tt&$)&&(j[et]=vc(tt,s)):rt<=s&&(o.expiredLanes|=tt),_e&=~tt}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc;return rc<<=1,!(rc&4194240)&&(rc=64),o}function zc(o){for(var s=[],a=0;31>a;a++)s.push(o);return s}function Ac(o,s,a){o.pendingLanes|=s,s!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,s=31-oc(s),o[s]=a}function Bc(o,s){var a=o.pendingLanes&~s;o.pendingLanes=s,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=s,o.mutableReadLanes&=s,o.entangledLanes&=s,s=o.entanglements;var $=o.eventTimes;for(o=o.expirationTimes;0<a;){var j=31-oc(a),_e=1<<j;s[j]=0,$[j]=-1,o[j]=-1,a&=~_e}}function Cc(o,s){var a=o.entangledLanes|=s;for(o=o.entanglements;a;){var $=31-oc(a),j=1<<$;j&s|o[$]&s&&(o[$]|=s),a&=~j}}var C=0;function Dc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,s){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(o,s,a,$,j,_e){return o===null||o.nativeEvent!==_e?(o={blockedOn:s,domEventName:a,eventSystemFlags:$,nativeEvent:_e,targetContainers:[j]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),o):(o.eventSystemFlags|=$,s=o.targetContainers,j!==null&&s.indexOf(j)===-1&&s.push(j),o)}function Uc(o,s,a,$,j){switch(s){case"focusin":return Lc=Tc(Lc,o,s,a,$,j),!0;case"dragenter":return Mc=Tc(Mc,o,s,a,$,j),!0;case"mouseover":return Nc=Tc(Nc,o,s,a,$,j),!0;case"pointerover":var _e=j.pointerId;return Oc.set(_e,Tc(Oc.get(_e)||null,o,s,a,$,j)),!0;case"gotpointercapture":return _e=j.pointerId,Pc.set(_e,Tc(Pc.get(_e)||null,o,s,a,$,j)),!0}return!1}function Vc(o){var s=Wc(o.target);if(s!==null){var a=Vb(s);if(a!==null){if(s=a.tag,s===13){if(s=Wb(a),s!==null){o.blockedOn=s,Ic(o.priority,function(){Gc(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){o.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var a=Yc(o.domEventName,o.eventSystemFlags,s[0],o.nativeEvent);if(a===null){a=o.nativeEvent;var $=new a.constructor(a.type,a);wb=$,a.target.dispatchEvent($),wb=null}else return s=Cb(a),s!==null&&Fc(s),o.blockedOn=a,!1;s.shift()}return!0}function Zc(o,s,a){Xc(o)&&a.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,s){o.blockedOn===s&&(o.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(o){function s(j){return ad(j,o)}if(0<Kc.length){ad(Kc[0],o);for(var a=1;a<Kc.length;a++){var $=Kc[a];$.blockedOn===o&&($.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(s),Pc.forEach(s),a=0;a<Qc.length;a++)$=Qc[a],$.blockedOn===o&&($.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(o,s,a,$){var j=C,_e=cd.transition;cd.transition=null;try{C=1,fd(o,s,a,$)}finally{C=j,cd.transition=_e}}function gd(o,s,a,$){var j=C,_e=cd.transition;cd.transition=null;try{C=4,fd(o,s,a,$)}finally{C=j,cd.transition=_e}}function fd(o,s,a,$){if(dd){var j=Yc(o,s,a,$);if(j===null)hd(o,s,$,id,a),Sc(o,$);else if(Uc(j,o,s,a,$))$.stopPropagation();else if(Sc(o,$),s&4&&-1<Rc.indexOf(o)){for(;j!==null;){var _e=Cb(j);if(_e!==null&&Ec(_e),_e=Yc(o,s,a,$),_e===null&&hd(o,s,$,id,a),_e===j)break;j=_e}j!==null&&$.stopPropagation()}else hd(o,s,$,null,a)}}var id=null;function Yc(o,s,a,$){if(id=null,o=xb($),o=Wc(o),o!==null)if(s=Vb(o),s===null)o=null;else if(a=s.tag,a===13){if(o=Wb(s),o!==null)return o;o=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null);return id=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,s=ld,a=s.length,$,j="value"in kd?kd.value:kd.textContent,_e=j.length;for(o=0;o<a&&s[o]===j[o];o++);var et=a-o;for($=1;$<=et&&s[a-$]===j[_e-$];$++);return md=j.slice(o,1<$?1-$:void 0)}function od(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function s(a,$,j,_e,et){this._reactName=a,this._targetInst=j,this.type=$,this.nativeEvent=_e,this.target=et,this.currentTarget=null;for(var tt in o)o.hasOwnProperty(tt)&&(a=o[tt],this[tt]=a?a(_e):_e[tt]);return this.isDefaultPrevented=(_e.defaultPrevented!=null?_e.defaultPrevented:_e.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=Od[o])?!!s[o]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(o){if(o.key){var s=Md[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(o,s){switch(o){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie=!1;function je(o,s){switch(o){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return o=s.data,o===ee&&fe?null:o;default:return null}}function ke(o,s){if(ie)return o==="compositionend"||!ae&&ge(o,s)?(o=nd(),md=ld=kd=null,ie=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!le[o.type]:s==="textarea"}function ne(o,s,a,$){Eb($),s=oe(s,"onChange"),0<s.length&&(a=new td("onChange","change",null,a,$),o.push({event:a,listeners:s}))}var pe=null,qe=null;function re(o){se(o,0)}function te(o){var s=ue(o);if(Wa(s))return o}function ve(o,s){if(o==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(o){if(o.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,o,xb(o)),Jb(re,s)}}function Ce(o,s,a){o==="focusin"?(Ae(),pe=s,qe=a,pe.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te(qe)}function Ee(o,s){if(o==="click")return te(s)}function Fe(o,s){if(o==="input"||o==="change")return te(s)}function Ge(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(o,s){if(He(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var a=Object.keys(o),$=Object.keys(s);if(a.length!==$.length)return!1;for($=0;$<a.length;$++){var j=a[$];if(!ja.call(s,j)||!He(o[j],s[j]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,s){var a=Je(o);o=0;for(var $;a;){if(a.nodeType===3){if($=o+a.textContent.length,o<=s&&$>=s)return{node:a,offset:s-o};o=$}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?Le(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var o=window,s=Xa();s instanceof o.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)o=s.contentWindow;else break;s=Xa(o.document)}return s}function Ne(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}function Oe(o){var s=Me(),a=o.focusedElem,$=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if($!==null&&Ne(a)){if(s=$.start,o=$.end,o===void 0&&(o=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(o,a.value.length);else if(o=(s=a.ownerDocument||document)&&s.defaultView||window,o.getSelection){o=o.getSelection();var j=a.textContent.length,_e=Math.min($.start,j);$=$.end===void 0?_e:Math.min($.end,j),!o.extend&&_e>$&&(j=$,$=_e,_e=j),j=Ke(a,_e);var et=Ke(a,$);j&&et&&(o.rangeCount!==1||o.anchorNode!==j.node||o.anchorOffset!==j.offset||o.focusNode!==et.node||o.focusOffset!==et.offset)&&(s=s.createRange(),s.setStart(j.node,j.offset),o.removeAllRanges(),_e>$?(o.addRange(s),o.extend(et.node,et.offset)):(s.setEnd(et.node,et.offset),o.addRange(s)))}}for(s=[],o=a;o=o.parentNode;)o.nodeType===1&&s.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)o=s[a],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(o,s,a){var $=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa($)||($=Qe,"selectionStart"in $&&Ne($)?$={start:$.selectionStart,end:$.selectionEnd}:($=($.ownerDocument&&$.ownerDocument.defaultView||window).getSelection(),$={anchorNode:$.anchorNode,anchorOffset:$.anchorOffset,focusNode:$.focusNode,focusOffset:$.focusOffset}),Se&&Ie(Se,$)||(Se=$,$=oe(Re,"onSelect"),0<$.length&&(s=new td("onSelect","select",null,s,a),o.push({event:s,listeners:$}),s.target=Qe)))}function Ve(o,s){var a={};return a[o.toLowerCase()]=s.toLowerCase(),a["Webkit"+o]="webkit"+s,a["Moz"+o]="moz"+s,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var s=We[o],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ye)return Xe[o]=s[a];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,s){df.set(o,s),fa(s,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,s,a){var $=o.type||"unknown-event";o.currentTarget=a,Ub($,s,void 0,o),o.currentTarget=null}function se(o,s){s=(s&4)!==0;for(var a=0;a<o.length;a++){var $=o[a],j=$.event;$=$.listeners;e:{var _e=void 0;if(s)for(var et=$.length-1;0<=et;et--){var tt=$[et],rt=tt.instance,nt=tt.currentTarget;if(tt=tt.listener,rt!==_e&&j.isPropagationStopped())break e;nf(j,tt,nt),_e=rt}else for(et=0;et<$.length;et++){if(tt=$[et],rt=tt.instance,nt=tt.currentTarget,tt=tt.listener,rt!==_e&&j.isPropagationStopped())break e;nf(j,tt,nt),_e=rt}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D(o,s){var a=s[of];a===void 0&&(a=s[of]=new Set);var $=o+"__bubble";a.has($)||(pf(s,o,2,!1),a.add($))}function qf(o,s,a){var $=0;s&&($|=4),pf(a,o,$,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,o),qf(a,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(o,s,a,$){switch(jd(s)){case 1:var j=ed;break;case 4:j=gd;break;default:j=fd}a=j.bind(null,s,a,o),j=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(j=!0),$?j!==void 0?o.addEventListener(s,a,{capture:!0,passive:j}):o.addEventListener(s,a,!0):j!==void 0?o.addEventListener(s,a,{passive:j}):o.addEventListener(s,a,!1)}function hd(o,s,a,$,j){var _e=$;if(!(s&1)&&!(s&2)&&$!==null)e:for(;;){if($===null)return;var et=$.tag;if(et===3||et===4){var tt=$.stateNode.containerInfo;if(tt===j||tt.nodeType===8&&tt.parentNode===j)break;if(et===4)for(et=$.return;et!==null;){var rt=et.tag;if((rt===3||rt===4)&&(rt=et.stateNode.containerInfo,rt===j||rt.nodeType===8&&rt.parentNode===j))return;et=et.return}for(;tt!==null;){if(et=Wc(tt),et===null)return;if(rt=et.tag,rt===5||rt===6){$=_e=et;continue e}tt=tt.parentNode}}$=$.return}Jb(function(){var nt=_e,it=xb(a),ot=[];e:{var st=df.get(o);if(st!==void 0){var at=td,lt=o;switch(o){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":at=Rd;break;case"focusin":lt="focus",at=Fd;break;case"focusout":lt="blur",at=Fd;break;case"beforeblur":case"afterblur":at=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Vd;break;case $e:case af:case bf:at=Hd;break;case cf:at=Xd;break;case"scroll":at=vd;break;case"wheel":at=Zd;break;case"copy":case"cut":case"paste":at=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=Td}var ft=(s&4)!==0,pt=!ft&&o==="scroll",ut=ft?st!==null?st+"Capture":null:st;ft=[];for(var dt=nt,ct;dt!==null;){ct=dt;var ht=ct.stateNode;if(ct.tag===5&&ht!==null&&(ct=ht,ut!==null&&(ht=Kb(dt,ut),ht!=null&&ft.push(tf(dt,ht,ct)))),pt)break;dt=dt.return}0<ft.length&&(st=new at(st,lt,null,a,it),ot.push({event:st,listeners:ft}))}}if(!(s&7)){e:{if(st=o==="mouseover"||o==="pointerover",at=o==="mouseout"||o==="pointerout",st&&a!==wb&&(lt=a.relatedTarget||a.fromElement)&&(Wc(lt)||lt[uf]))break e;if((at||st)&&(st=it.window===it?it:(st=it.ownerDocument)?st.defaultView||st.parentWindow:window,at?(lt=a.relatedTarget||a.toElement,at=nt,lt=lt?Wc(lt):null,lt!==null&&(pt=Vb(lt),lt!==pt||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(at=null,lt=nt),at!==lt)){if(ft=Bd,ht="onMouseLeave",ut="onMouseEnter",dt="mouse",(o==="pointerout"||o==="pointerover")&&(ft=Td,ht="onPointerLeave",ut="onPointerEnter",dt="pointer"),pt=at==null?st:ue(at),ct=lt==null?st:ue(lt),st=new ft(ht,dt+"leave",at,a,it),st.target=pt,st.relatedTarget=ct,ht=null,Wc(it)===nt&&(ft=new ft(ut,dt+"enter",lt,a,it),ft.target=ct,ft.relatedTarget=pt,ht=ft),pt=ht,at&&lt)t:{for(ft=at,ut=lt,dt=0,ct=ft;ct;ct=vf(ct))dt++;for(ct=0,ht=ut;ht;ht=vf(ht))ct++;for(;0<dt-ct;)ft=vf(ft),dt--;for(;0<ct-dt;)ut=vf(ut),ct--;for(;dt--;){if(ft===ut||ut!==null&&ft===ut.alternate)break t;ft=vf(ft),ut=vf(ut)}ft=null}else ft=null;at!==null&&wf(ot,st,at,ft,!1),lt!==null&&pt!==null&&wf(ot,pt,lt,ft,!0)}}e:{if(st=nt?ue(nt):window,at=st.nodeName&&st.nodeName.toLowerCase(),at==="select"||at==="input"&&st.type==="file")var mt=ve;else if(me(st))if(we)mt=Fe;else{mt=De;var vt=Ce}else(at=st.nodeName)&&at.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(mt=Ee);if(mt&&(mt=mt(o,nt))){ne(ot,mt,a,it);break e}vt&&vt(o,st,nt),o==="focusout"&&(vt=st._wrapperState)&&vt.controlled&&st.type==="number"&&cb(st,"number",st.value)}switch(vt=nt?ue(nt):window,o){case"focusin":(me(vt)||vt.contentEditable==="true")&&(Qe=vt,Re=nt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ot,a,it);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ot,a,it)}var yt;if(ae)e:{switch(o){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else ie?ge(o,a)&&(xt="onCompositionEnd"):o==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(de&&a.locale!=="ko"&&(ie||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ie&&(yt=nd()):(kd=it,ld="value"in kd?kd.value:kd.textContent,ie=!0)),vt=oe(nt,xt),0<vt.length&&(xt=new Ld(xt,o,null,a,it),ot.push({event:xt,listeners:vt}),yt?xt.data=yt:(yt=he(a),yt!==null&&(xt.data=yt)))),(yt=ce?je(o,a):ke(o,a))&&(nt=oe(nt,"onBeforeInput"),0<nt.length&&(it=new Ld("onBeforeInput","beforeinput",null,a,it),ot.push({event:it,listeners:nt}),it.data=yt))}se(ot,s)})}function tf(o,s,a){return{instance:o,listener:s,currentTarget:a}}function oe(o,s){for(var a=s+"Capture",$=[];o!==null;){var j=o,_e=j.stateNode;j.tag===5&&_e!==null&&(j=_e,_e=Kb(o,a),_e!=null&&$.unshift(tf(o,_e,j)),_e=Kb(o,s),_e!=null&&$.push(tf(o,_e,j))),o=o.return}return $}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,s,a,$,j){for(var _e=s._reactName,et=[];a!==null&&a!==$;){var tt=a,rt=tt.alternate,nt=tt.stateNode;if(rt!==null&&rt===$)break;tt.tag===5&&nt!==null&&(tt=nt,j?(rt=Kb(a,_e),rt!=null&&et.unshift(tf(a,rt,tt))):j||(rt=Kb(a,_e),rt!=null&&et.push(tf(a,rt,tt)))),a=a.return}et.length!==0&&o.push({event:s,listeners:et})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,s,a){if(s=zf(s),zf(o)!==s&&a)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,s){var a=s,$=0;do{var j=a.nextSibling;if(o.removeChild(a),j&&j.nodeType===8)if(a=j.data,a==="/$"){if($===0){o.removeChild(j),bd(s);return}$--}else a!=="$"&&a!=="$?"&&a!=="$!"||$++;a=j}while(a);bd(s)}function Lf(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var a=o.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return o;s--}else a==="/$"&&s++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var s=o[Of];if(s)return s;for(var a=o.parentNode;a;){if(s=a[uf]||a[Of]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(o=Mf(o);o!==null;){if(a=o[Of])return a;o=Mf(o)}return s}o=a,a=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(o,s){Tf++,Sf[Tf]=o.current,o.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,s){var a=o.type.contextTypes;if(!a)return Vf;var $=o.stateNode;if($&&$.__reactInternalMemoizedUnmaskedChildContext===s)return $.__reactInternalMemoizedMaskedChildContext;var j={},_e;for(_e in a)j[_e]=s[_e];return $&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=s,o.__reactInternalMemoizedMaskedChildContext=j),j}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E(Wf),E(H)}function ag(o,s,a){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,a)}function bg(o,s,a){var $=o.stateNode;if(s=s.childContextTypes,typeof $.getChildContext!="function")return a;$=$.getChildContext();for(var j in $)if(!(j in s))throw Error(p(108,Ra(o)||"Unknown",j));return A({},a,$)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,o),G(Wf,Wf.current),!0}function dg(o,s,a){var $=o.stateNode;if(!$)throw Error(p(169));a?(o=bg(o,s,Xf),$.__reactInternalMemoizedMergedChildContext=o,E(Wf),E(H),G(H,o)):E(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,s=C;try{var a=eg;for(C=1;o<a.length;o++){var $=a[o];do $=$(!0);while($!==null)}eg=null,fg=!1}catch(j){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),j}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,s){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=s}function ug(o,s,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var $=rg;o=sg;var j=32-oc($)-1;$&=~(1<<j),a+=1;var _e=32-oc(s)+j;if(30<_e){var et=j-j%5;_e=($&(1<<et)-1).toString(32),$>>=et,j-=et,rg=1<<32-oc(s)+j|a<<j|$,sg=_e+o}else rg=1<<_e|a<<j|$,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(o,s){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=o,s=o.deletions,s===null?(o.deletions=[a],o.flags|=16):s.push(a)}function Cg(o,s){switch(o.tag){case 5:var a=o.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(o.stateNode=s,xg=o,yg=Lf(s.firstChild),!0):!1;case 6:return s=o.pendingProps===""||s.nodeType!==3?null:s,s!==null?(o.stateNode=s,xg=o,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=s,a.return=o,o.child=a,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I){var s=yg;if(s){var a=s;if(!Cg(o,s)){if(Dg(o))throw Error(p(418));s=Lf(a.nextSibling);var $=xg;s&&Cg(o,s)?Ag($,a):(o.flags=o.flags&-4097|2,I=!1,xg=o)}}else{if(Dg(o))throw Error(p(418));o.flags=o.flags&-4097|2,I=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I)return Fg(o),I=!0,!1;var s;if((s=o.tag!==3)&&!(s=o.tag!==5)&&(s=o.type,s=s!=="head"&&s!=="body"&&!Ef(o.type,o.memoizedProps)),s&&(s=yg)){if(Dg(o))throw Hg(),Error(p(418));for(;s;)Ag(o,s),s=Lf(s.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8){var a=o.data;if(a==="/$"){if(s===0){yg=Lf(o.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua.ReactCurrentBatchConfig;function Lg(o,s){if(o&&o.defaultProps){s=A({},s),o=o.defaultProps;for(var a in o)s[a]===void 0&&(s[a]=o[a]);return s}return s}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(o){var s=Mg.current;E(Mg),o._currentValue=s}function Sg(o,s,a){for(;o!==null;){var $=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,$!==null&&($.childLanes|=s)):$!==null&&($.childLanes&s)!==s&&($.childLanes|=s),o===a)break;o=o.return}}function Tg(o,s){Ng=o,Pg=Og=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&s&&(Ug=!0),o.firstContext=null)}function Vg(o){var s=o._currentValue;if(Pg!==o)if(o={context:o,memoizedValue:s,next:null},Og===null){if(Ng===null)throw Error(p(308));Og=o,Ng.dependencies={lanes:0,firstContext:o}}else Og=Og.next=o;return s}var Wg=null;function Xg(o){Wg===null?Wg=[o]:Wg.push(o)}function Yg(o,s,a,$){var j=s.interleaved;return j===null?(a.next=a,Xg(s)):(a.next=j.next,j.next=a),s.interleaved=a,Zg(o,$)}function Zg(o,s){o.lanes|=s;var a=o.alternate;for(a!==null&&(a.lanes|=s),a=o,o=o.return;o!==null;)o.childLanes|=s,a=o.alternate,a!==null&&(a.childLanes|=s),a=o,o=o.return;return a.tag===3?a.stateNode:null}var $g=!1;function ah(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ch(o,s){return{eventTime:o,lane:s,tag:0,payload:null,callback:null,next:null}}function dh(o,s,a){var $=o.updateQueue;if($===null)return null;if($=$.shared,K&2){var j=$.pending;return j===null?s.next=s:(s.next=j.next,j.next=s),$.pending=s,Zg(o,a)}return j=$.interleaved,j===null?(s.next=s,Xg($)):(s.next=j.next,j.next=s),$.interleaved=s,Zg(o,a)}function eh(o,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var $=s.lanes;$&=o.pendingLanes,a|=$,s.lanes=a,Cc(o,a)}}function fh(o,s){var a=o.updateQueue,$=o.alternate;if($!==null&&($=$.updateQueue,a===$)){var j=null,_e=null;if(a=a.firstBaseUpdate,a!==null){do{var et={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};_e===null?j=_e=et:_e=_e.next=et,a=a.next}while(a!==null);_e===null?j=_e=s:_e=_e.next=s}else j=_e=s;a={baseState:$.baseState,firstBaseUpdate:j,lastBaseUpdate:_e,shared:$.shared,effects:$.effects},o.updateQueue=a;return}o=a.lastBaseUpdate,o===null?a.firstBaseUpdate=s:o.next=s,a.lastBaseUpdate=s}function gh(o,s,a,$){var j=o.updateQueue;$g=!1;var _e=j.firstBaseUpdate,et=j.lastBaseUpdate,tt=j.shared.pending;if(tt!==null){j.shared.pending=null;var rt=tt,nt=rt.next;rt.next=null,et===null?_e=nt:et.next=nt,et=rt;var it=o.alternate;it!==null&&(it=it.updateQueue,tt=it.lastBaseUpdate,tt!==et&&(tt===null?it.firstBaseUpdate=nt:tt.next=nt,it.lastBaseUpdate=rt))}if(_e!==null){var ot=j.baseState;et=0,it=nt=rt=null,tt=_e;do{var st=tt.lane,at=tt.eventTime;if(($&st)===st){it!==null&&(it=it.next={eventTime:at,lane:0,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null});e:{var lt=o,ft=tt;switch(st=s,at=a,ft.tag){case 1:if(lt=ft.payload,typeof lt=="function"){ot=lt.call(at,ot,st);break e}ot=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=ft.payload,st=typeof lt=="function"?lt.call(at,ot,st):lt,st==null)break e;ot=A({},ot,st);break e;case 2:$g=!0}}tt.callback!==null&&tt.lane!==0&&(o.flags|=64,st=j.effects,st===null?j.effects=[tt]:st.push(tt))}else at={eventTime:at,lane:st,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},it===null?(nt=it=at,rt=ot):it=it.next=at,et|=st;if(tt=tt.next,tt===null){if(tt=j.shared.pending,tt===null)break;st=tt,tt=st.next,st.next=null,j.lastBaseUpdate=st,j.shared.pending=null}}while(1);if(it===null&&(rt=ot),j.baseState=rt,j.firstBaseUpdate=nt,j.lastBaseUpdate=it,s=j.shared.interleaved,s!==null){j=s;do et|=j.lane,j=j.next;while(j!==s)}else _e===null&&(j.shared.lanes=0);hh|=et,o.lanes=et,o.memoizedState=ot}}function ih(o,s,a){if(o=s.effects,s.effects=null,o!==null)for(s=0;s<o.length;s++){var $=o[s],j=$.callback;if(j!==null){if($.callback=null,$=a,typeof j!="function")throw Error(p(191,j));j.call($)}}}var jh=new aa.Component().refs;function kh(o,s,a,$){s=o.memoizedState,a=a($,s),a=a==null?s:A({},s,a),o.memoizedState=a,o.lanes===0&&(o.updateQueue.baseState=a)}var nh={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,s,a){o=o._reactInternals;var $=L(),j=lh(o),_e=ch($,j);_e.payload=s,a!=null&&(_e.callback=a),s=dh(o,_e,j),s!==null&&(mh(s,o,j,$),eh(s,o,j))},enqueueReplaceState:function(o,s,a){o=o._reactInternals;var $=L(),j=lh(o),_e=ch($,j);_e.tag=1,_e.payload=s,a!=null&&(_e.callback=a),s=dh(o,_e,j),s!==null&&(mh(s,o,j,$),eh(s,o,j))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var a=L(),$=lh(o),j=ch(a,$);j.tag=2,s!=null&&(j.callback=s),s=dh(o,j,$),s!==null&&(mh(s,o,$,a),eh(s,o,$))}};function oh(o,s,a,$,j,_e,et){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate($,_e,et):s.prototype&&s.prototype.isPureReactComponent?!Ie(a,$)||!Ie(j,_e):!0}function ph(o,s,a){var $=!1,j=Vf,_e=s.contextType;return typeof _e=="object"&&_e!==null?_e=Vg(_e):(j=Zf(s)?Xf:H.current,$=s.contextTypes,_e=($=$!=null)?Yf(o,j):Vf),s=new s(a,_e),o.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nh,o.stateNode=s,s._reactInternals=o,$&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=j,o.__reactInternalMemoizedMaskedChildContext=_e),s}function qh(o,s,a,$){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,$),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,$),s.state!==o&&nh.enqueueReplaceState(s,s.state,null)}function rh(o,s,a,$){var j=o.stateNode;j.props=a,j.state=o.memoizedState,j.refs=jh,ah(o);var _e=s.contextType;typeof _e=="object"&&_e!==null?j.context=Vg(_e):(_e=Zf(s)?Xf:H.current,j.context=Yf(o,_e)),j.state=o.memoizedState,_e=s.getDerivedStateFromProps,typeof _e=="function"&&(kh(o,s,_e,a),j.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(s=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),s!==j.state&&nh.enqueueReplaceState(j,j.state,null),gh(o,a,j,$),j.state=o.memoizedState),typeof j.componentDidMount=="function"&&(o.flags|=4194308)}function sh(o,s,a){if(o=a.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p(309));var $=a.stateNode}if(!$)throw Error(p(147,o));var j=$,_e=""+o;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_e?s.ref:(s=function(et){var tt=j.refs;tt===jh&&(tt=j.refs={}),et===null?delete tt[_e]:tt[_e]=et},s._stringRef=_e,s)}if(typeof o!="string")throw Error(p(284));if(!a._owner)throw Error(p(290,o))}return o}function th(o,s){throw o=Object.prototype.toString.call(s),Error(p(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o))}function uh(o){var s=o._init;return s(o._payload)}function vh(o){function s(ut,dt){if(o){var ct=ut.deletions;ct===null?(ut.deletions=[dt],ut.flags|=16):ct.push(dt)}}function a(ut,dt){if(!o)return null;for(;dt!==null;)s(ut,dt),dt=dt.sibling;return null}function $(ut,dt){for(ut=new Map;dt!==null;)dt.key!==null?ut.set(dt.key,dt):ut.set(dt.index,dt),dt=dt.sibling;return ut}function j(ut,dt){return ut=wh(ut,dt),ut.index=0,ut.sibling=null,ut}function _e(ut,dt,ct){return ut.index=ct,o?(ct=ut.alternate,ct!==null?(ct=ct.index,ct<dt?(ut.flags|=2,dt):ct):(ut.flags|=2,dt)):(ut.flags|=1048576,dt)}function et(ut){return o&&ut.alternate===null&&(ut.flags|=2),ut}function tt(ut,dt,ct,ht){return dt===null||dt.tag!==6?(dt=xh(ct,ut.mode,ht),dt.return=ut,dt):(dt=j(dt,ct),dt.return=ut,dt)}function rt(ut,dt,ct,ht){var mt=ct.type;return mt===ya?it(ut,dt,ct.props.children,ht,ct.key):dt!==null&&(dt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===Ha&&uh(mt)===dt.type)?(ht=j(dt,ct.props),ht.ref=sh(ut,dt,ct),ht.return=ut,ht):(ht=yh(ct.type,ct.key,ct.props,null,ut.mode,ht),ht.ref=sh(ut,dt,ct),ht.return=ut,ht)}function nt(ut,dt,ct,ht){return dt===null||dt.tag!==4||dt.stateNode.containerInfo!==ct.containerInfo||dt.stateNode.implementation!==ct.implementation?(dt=zh(ct,ut.mode,ht),dt.return=ut,dt):(dt=j(dt,ct.children||[]),dt.return=ut,dt)}function it(ut,dt,ct,ht,mt){return dt===null||dt.tag!==7?(dt=Ah(ct,ut.mode,ht,mt),dt.return=ut,dt):(dt=j(dt,ct),dt.return=ut,dt)}function ot(ut,dt,ct){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return dt=xh(""+dt,ut.mode,ct),dt.return=ut,dt;if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:return ct=yh(dt.type,dt.key,dt.props,null,ut.mode,ct),ct.ref=sh(ut,null,dt),ct.return=ut,ct;case wa:return dt=zh(dt,ut.mode,ct),dt.return=ut,dt;case Ha:var ht=dt._init;return ot(ut,ht(dt._payload),ct)}if(eb(dt)||Ka(dt))return dt=Ah(dt,ut.mode,ct,null),dt.return=ut,dt;th(ut,dt)}return null}function st(ut,dt,ct,ht){var mt=dt!==null?dt.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number")return mt!==null?null:tt(ut,dt,""+ct,ht);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:return ct.key===mt?rt(ut,dt,ct,ht):null;case wa:return ct.key===mt?nt(ut,dt,ct,ht):null;case Ha:return mt=ct._init,st(ut,dt,mt(ct._payload),ht)}if(eb(ct)||Ka(ct))return mt!==null?null:it(ut,dt,ct,ht,null);th(ut,ct)}return null}function at(ut,dt,ct,ht,mt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return ut=ut.get(ct)||null,tt(dt,ut,""+ht,mt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return ut=ut.get(ht.key===null?ct:ht.key)||null,rt(dt,ut,ht,mt);case wa:return ut=ut.get(ht.key===null?ct:ht.key)||null,nt(dt,ut,ht,mt);case Ha:var vt=ht._init;return at(ut,dt,ct,vt(ht._payload),mt)}if(eb(ht)||Ka(ht))return ut=ut.get(ct)||null,it(dt,ut,ht,mt,null);th(dt,ht)}return null}function lt(ut,dt,ct,ht){for(var mt=null,vt=null,yt=dt,xt=dt=0,bt=null;yt!==null&&xt<ct.length;xt++){yt.index>xt?(bt=yt,yt=null):bt=yt.sibling;var gt=st(ut,yt,ct[xt],ht);if(gt===null){yt===null&&(yt=bt);break}o&&yt&&gt.alternate===null&&s(ut,yt),dt=_e(gt,dt,xt),vt===null?mt=gt:vt.sibling=gt,vt=gt,yt=bt}if(xt===ct.length)return a(ut,yt),I&&tg(ut,xt),mt;if(yt===null){for(;xt<ct.length;xt++)yt=ot(ut,ct[xt],ht),yt!==null&&(dt=_e(yt,dt,xt),vt===null?mt=yt:vt.sibling=yt,vt=yt);return I&&tg(ut,xt),mt}for(yt=$(ut,yt);xt<ct.length;xt++)bt=at(yt,ut,xt,ct[xt],ht),bt!==null&&(o&&bt.alternate!==null&&yt.delete(bt.key===null?xt:bt.key),dt=_e(bt,dt,xt),vt===null?mt=bt:vt.sibling=bt,vt=bt);return o&&yt.forEach(function(wt){return s(ut,wt)}),I&&tg(ut,xt),mt}function ft(ut,dt,ct,ht){var mt=Ka(ct);if(typeof mt!="function")throw Error(p(150));if(ct=mt.call(ct),ct==null)throw Error(p(151));for(var vt=mt=null,yt=dt,xt=dt=0,bt=null,gt=ct.next();yt!==null&&!gt.done;xt++,gt=ct.next()){yt.index>xt?(bt=yt,yt=null):bt=yt.sibling;var wt=st(ut,yt,gt.value,ht);if(wt===null){yt===null&&(yt=bt);break}o&&yt&&wt.alternate===null&&s(ut,yt),dt=_e(wt,dt,xt),vt===null?mt=wt:vt.sibling=wt,vt=wt,yt=bt}if(gt.done)return a(ut,yt),I&&tg(ut,xt),mt;if(yt===null){for(;!gt.done;xt++,gt=ct.next())gt=ot(ut,gt.value,ht),gt!==null&&(dt=_e(gt,dt,xt),vt===null?mt=gt:vt.sibling=gt,vt=gt);return I&&tg(ut,xt),mt}for(yt=$(ut,yt);!gt.done;xt++,gt=ct.next())gt=at(yt,ut,xt,gt.value,ht),gt!==null&&(o&&gt.alternate!==null&&yt.delete(gt.key===null?xt:gt.key),dt=_e(gt,dt,xt),vt===null?mt=gt:vt.sibling=gt,vt=gt);return o&&yt.forEach(function(Et){return s(ut,Et)}),I&&tg(ut,xt),mt}function pt(ut,dt,ct,ht){if(typeof ct=="object"&&ct!==null&&ct.type===ya&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:e:{for(var mt=ct.key,vt=dt;vt!==null;){if(vt.key===mt){if(mt=ct.type,mt===ya){if(vt.tag===7){a(ut,vt.sibling),dt=j(vt,ct.props.children),dt.return=ut,ut=dt;break e}}else if(vt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===Ha&&uh(mt)===vt.type){a(ut,vt.sibling),dt=j(vt,ct.props),dt.ref=sh(ut,vt,ct),dt.return=ut,ut=dt;break e}a(ut,vt);break}else s(ut,vt);vt=vt.sibling}ct.type===ya?(dt=Ah(ct.props.children,ut.mode,ht,ct.key),dt.return=ut,ut=dt):(ht=yh(ct.type,ct.key,ct.props,null,ut.mode,ht),ht.ref=sh(ut,dt,ct),ht.return=ut,ut=ht)}return et(ut);case wa:e:{for(vt=ct.key;dt!==null;){if(dt.key===vt)if(dt.tag===4&&dt.stateNode.containerInfo===ct.containerInfo&&dt.stateNode.implementation===ct.implementation){a(ut,dt.sibling),dt=j(dt,ct.children||[]),dt.return=ut,ut=dt;break e}else{a(ut,dt);break}else s(ut,dt);dt=dt.sibling}dt=zh(ct,ut.mode,ht),dt.return=ut,ut=dt}return et(ut);case Ha:return vt=ct._init,pt(ut,dt,vt(ct._payload),ht)}if(eb(ct))return lt(ut,dt,ct,ht);if(Ka(ct))return ft(ut,dt,ct,ht);th(ut,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"?(ct=""+ct,dt!==null&&dt.tag===6?(a(ut,dt.sibling),dt=j(dt,ct),dt.return=ut,ut=dt):(a(ut,dt),dt=xh(ct,ut.mode,ht),dt.return=ut,ut=dt),et(ut)):a(ut,dt)}return pt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(o){if(o===Dh)throw Error(p(174));return o}function Ih(o,s){switch(G(Gh,s),G(Fh,o),G(Eh,Dh),o=s.nodeType,o){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:o=o===8?s.parentNode:s,s=o.namespaceURI||null,o=o.tagName,s=lb(s,o)}E(Eh),G(Eh,s)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(o){Hh(Gh.current);var s=Hh(Eh.current),a=lb(s,o.type);s!==a&&(G(Fh,o),G(Eh,a))}function Lh(o){Fh.current===o&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(o){for(var s=o;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nh=[];function Oh(){for(var o=0;o<Nh.length;o++)Nh[o]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321))}function Wh(o,s){if(s===null)return!1;for(var a=0;a<s.length&&a<o.length;a++)if(!He(o[a],s[a]))return!1;return!0}function Xh(o,s,a,$,j,_e){if(Rh=_e,N=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ph.current=o===null||o.memoizedState===null?Yh:Zh,o=a($,j),Th){_e=0;do{if(Th=!1,Uh=0,25<=_e)throw Error(p(301));_e+=1,P=O=null,s.updateQueue=null,Ph.current=$h,o=a($,j)}while(Th)}if(Ph.current=ai,s=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,s)throw Error(p(300));return o}function bi(){var o=Uh!==0;return Uh=0,o}function ci(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=o:P=P.next=o,P}function di(){if(O===null){var o=N.alternate;o=o!==null?o.memoizedState:null}else o=O.next;var s=P===null?N.memoizedState:P.next;if(s!==null)P=s,O=o;else{if(o===null)throw Error(p(310));O=o,o={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=o:P=P.next=o}return P}function ei(o,s){return typeof s=="function"?s(o):s}function fi(o){var s=di(),a=s.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=o;var $=O,j=$.baseQueue,_e=a.pending;if(_e!==null){if(j!==null){var et=j.next;j.next=_e.next,_e.next=et}$.baseQueue=j=_e,a.pending=null}if(j!==null){_e=j.next,$=$.baseState;var tt=et=null,rt=null,nt=_e;do{var it=nt.lane;if((Rh&it)===it)rt!==null&&(rt=rt.next={lane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),$=nt.hasEagerState?nt.eagerState:o($,nt.action);else{var ot={lane:it,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null};rt===null?(tt=rt=ot,et=$):rt=rt.next=ot,N.lanes|=it,hh|=it}nt=nt.next}while(nt!==null&&nt!==_e);rt===null?et=$:rt.next=tt,He($,s.memoizedState)||(Ug=!0),s.memoizedState=$,s.baseState=et,s.baseQueue=rt,a.lastRenderedState=$}if(o=a.interleaved,o!==null){j=o;do _e=j.lane,N.lanes|=_e,hh|=_e,j=j.next;while(j!==o)}else j===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function gi(o){var s=di(),a=s.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=o;var $=a.dispatch,j=a.pending,_e=s.memoizedState;if(j!==null){a.pending=null;var et=j=j.next;do _e=o(_e,et.action),et=et.next;while(et!==j);He(_e,s.memoizedState)||(Ug=!0),s.memoizedState=_e,s.baseQueue===null&&(s.baseState=_e),a.lastRenderedState=_e}return[_e,$]}function hi(){}function ii(o,s){var a=N,$=di(),j=s(),_e=!He($.memoizedState,j);if(_e&&($.memoizedState=j,Ug=!0),$=$.queue,ji(ki.bind(null,a,$,o),[o]),$.getSnapshot!==s||_e||P!==null&&P.memoizedState.tag&1){if(a.flags|=2048,li(9,mi.bind(null,a,$,j,s),void 0,null),R===null)throw Error(p(349));Rh&30||ni(a,s,j)}return j}function ni(o,s,a){o.flags|=16384,o={getSnapshot:s,value:a},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.stores=[o]):(a=s.stores,a===null?s.stores=[o]:a.push(o))}function mi(o,s,a,$){s.value=a,s.getSnapshot=$,oi(s)&&pi(o)}function ki(o,s,a){return a(function(){oi(s)&&pi(o)})}function oi(o){var s=o.getSnapshot;o=o.value;try{var a=s();return!He(o,a)}catch{return!0}}function pi(o){var s=Zg(o,1);s!==null&&mh(s,o,1,-1)}function qi(o){var s=ci();return typeof o=="function"&&(o=o()),s.memoizedState=s.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:o},s.queue=o,o=o.dispatch=ri.bind(null,N,o),[s.memoizedState,o]}function li(o,s,a,$){return o={tag:o,create:s,destroy:a,deps:$,next:null},s=N.updateQueue,s===null?(s={lastEffect:null,stores:null},N.updateQueue=s,s.lastEffect=o.next=o):(a=s.lastEffect,a===null?s.lastEffect=o.next=o:($=a.next,a.next=o,o.next=$,s.lastEffect=o)),o}function si(){return di().memoizedState}function ti(o,s,a,$){var j=ci();N.flags|=o,j.memoizedState=li(1|s,a,void 0,$===void 0?null:$)}function ui(o,s,a,$){var j=di();$=$===void 0?null:$;var _e=void 0;if(O!==null){var et=O.memoizedState;if(_e=et.destroy,$!==null&&Wh($,et.deps)){j.memoizedState=li(s,a,_e,$);return}}N.flags|=o,j.memoizedState=li(1|s,a,_e,$)}function vi(o,s){return ti(8390656,8,o,s)}function ji(o,s){return ui(2048,8,o,s)}function wi(o,s){return ui(4,2,o,s)}function xi(o,s){return ui(4,4,o,s)}function yi(o,s){if(typeof s=="function")return o=o(),s(o),function(){s(null)};if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function zi(o,s,a){return a=a!=null?a.concat([o]):null,ui(4,4,yi.bind(null,s,o),a)}function Ai(){}function Bi(o,s){var a=di();s=s===void 0?null:s;var $=a.memoizedState;return $!==null&&s!==null&&Wh(s,$[1])?$[0]:(a.memoizedState=[o,s],o)}function Ci(o,s){var a=di();s=s===void 0?null:s;var $=a.memoizedState;return $!==null&&s!==null&&Wh(s,$[1])?$[0]:(o=o(),a.memoizedState=[o,s],o)}function Di(o,s,a){return Rh&21?(He(a,s)||(a=yc(),N.lanes|=a,hh|=a,o.baseState=!0),s):(o.baseState&&(o.baseState=!1,Ug=!0),o.memoizedState=a)}function Ei(o,s){var a=C;C=a!==0&&4>a?a:4,o(!0);var $=Qh.transition;Qh.transition={};try{o(!1),s()}finally{C=a,Qh.transition=$}}function Fi(){return di().memoizedState}function Gi(o,s,a){var $=lh(o);if(a={lane:$,action:a,hasEagerState:!1,eagerState:null,next:null},Hi(o))Ii(s,a);else if(a=Yg(o,s,a,$),a!==null){var j=L();mh(a,o,$,j),Ji(a,s,$)}}function ri(o,s,a){var $=lh(o),j={lane:$,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hi(o))Ii(s,j);else{var _e=o.alternate;if(o.lanes===0&&(_e===null||_e.lanes===0)&&(_e=s.lastRenderedReducer,_e!==null))try{var et=s.lastRenderedState,tt=_e(et,a);if(j.hasEagerState=!0,j.eagerState=tt,He(tt,et)){var rt=s.interleaved;rt===null?(j.next=j,Xg(s)):(j.next=rt.next,rt.next=j),s.interleaved=j;return}}catch{}finally{}a=Yg(o,s,j,$),a!==null&&(j=L(),mh(a,o,$,j),Ji(a,s,$))}}function Hi(o){var s=o.alternate;return o===N||s!==null&&s===N}function Ii(o,s){Th=Sh=!0;var a=o.pending;a===null?s.next=s:(s.next=a.next,a.next=s),o.pending=s}function Ji(o,s,a){if(a&4194240){var $=s.lanes;$&=o.pendingLanes,a|=$,s.lanes=a,Cc(o,a)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(o,s){return ci().memoizedState=[o,s===void 0?null:s],o},useContext:Vg,useEffect:vi,useImperativeHandle:function(o,s,a){return a=a!=null?a.concat([o]):null,ti(4194308,4,yi.bind(null,s,o),a)},useLayoutEffect:function(o,s){return ti(4194308,4,o,s)},useInsertionEffect:function(o,s){return ti(4,2,o,s)},useMemo:function(o,s){var a=ci();return s=s===void 0?null:s,o=o(),a.memoizedState=[o,s],o},useReducer:function(o,s,a){var $=ci();return s=a!==void 0?a(s):s,$.memoizedState=$.baseState=s,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:s},$.queue=o,o=o.dispatch=Gi.bind(null,N,o),[$.memoizedState,o]},useRef:function(o){var s=ci();return o={current:o},s.memoizedState=o},useState:qi,useDebugValue:Ai,useDeferredValue:function(o){return ci().memoizedState=o},useTransition:function(){var o=qi(!1),s=o[0];return o=Ei.bind(null,o[1]),ci().memoizedState=o,[s,o]},useMutableSource:function(){},useSyncExternalStore:function(o,s,a){var $=N,j=ci();if(I){if(a===void 0)throw Error(p(407));a=a()}else{if(a=s(),R===null)throw Error(p(349));Rh&30||ni($,s,a)}j.memoizedState=a;var _e={value:a,getSnapshot:s};return j.queue=_e,vi(ki.bind(null,$,_e,o),[o]),$.flags|=2048,li(9,mi.bind(null,$,_e,a,s),void 0,null),a},useId:function(){var o=ci(),s=R.identifierPrefix;if(I){var a=sg,$=rg;a=($&~(1<<32-oc($)-1)).toString(32)+a,s=":"+s+"R"+a,a=Uh++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Vh++,s=":"+s+"r"+a.toString(32)+":";return o.memoizedState=s},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var s=di();return Di(s,O.memoizedState,o)},useTransition:function(){var o=fi(ei)[0],s=di().memoizedState;return[o,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var s=di();return O===null?s.memoizedState=o:Di(s,O.memoizedState,o)},useTransition:function(){var o=gi(ei)[0],s=di().memoizedState;return[o,s]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(o,s){try{var a="",$=s;do a+=Pa($),$=$.return;while($);var j=a}catch(_e){j=`
Error generating stack: `+_e.message+`
`+_e.stack}return{value:o,source:s,stack:j,digest:null}}function Li(o,s,a){return{value:o,source:null,stack:a??null,digest:s??null}}function Mi(o,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(o,s,a){a=ch(-1,a),a.tag=3,a.payload={element:null};var $=s.value;return a.callback=function(){Pi||(Pi=!0,Qi=$),Mi(o,s)},a}function Ri(o,s,a){a=ch(-1,a),a.tag=3;var $=o.type.getDerivedStateFromError;if(typeof $=="function"){var j=s.value;a.payload=function(){return $(j)},a.callback=function(){Mi(o,s)}}var _e=o.stateNode;return _e!==null&&typeof _e.componentDidCatch=="function"&&(a.callback=function(){Mi(o,s),typeof $!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var et=s.stack;this.componentDidCatch(s.value,{componentStack:et!==null?et:""})}),a}function Ti(o,s,a){var $=o.pingCache;if($===null){$=o.pingCache=new Ni;var j=new Set;$.set(s,j)}else j=$.get(s),j===void 0&&(j=new Set,$.set(s,j));j.has(a)||(j.add(a),o=Ui.bind(null,o,s,a),s.then(o,o))}function Vi(o){do{var s;if((s=o.tag===13)&&(s=o.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return o;o=o.return}while(o!==null);return null}function Wi(o,s,a,$,j){return o.mode&1?(o.flags|=65536,o.lanes=j,o):(o===s?o.flags|=65536:(o.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=ch(-1,1),s.tag=2,dh(a,s,1))),a.lanes|=1),o)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(o,s,a,$){s.child=o===null?Ch(s,null,a,$):Bh(s,o.child,a,$)}function Zi(o,s,a,$,j){a=a.render;var _e=s.ref;return Tg(s,j),$=Xh(o,s,a,$,_e,j),a=bi(),o!==null&&!Ug?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~j,$i(o,s,j)):(I&&a&&vg(s),s.flags|=1,Yi(o,s,$,j),s.child)}function aj(o,s,a,$,j){if(o===null){var _e=a.type;return typeof _e=="function"&&!bj(_e)&&_e.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=_e,cj(o,s,_e,$,j)):(o=yh(a.type,null,$,s,s.mode,j),o.ref=s.ref,o.return=s,s.child=o)}if(_e=o.child,!(o.lanes&j)){var et=_e.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a(et,$)&&o.ref===s.ref)return $i(o,s,j)}return s.flags|=1,o=wh(_e,$),o.ref=s.ref,o.return=s,s.child=o}function cj(o,s,a,$,j){if(o!==null){var _e=o.memoizedProps;if(Ie(_e,$)&&o.ref===s.ref)if(Ug=!1,s.pendingProps=$=_e,(o.lanes&j)!==0)o.flags&131072&&(Ug=!0);else return s.lanes=o.lanes,$i(o,s,j)}return dj(o,s,a,$,j)}function ej(o,s,a){var $=s.pendingProps,j=$.children,_e=o!==null?o.memoizedState:null;if($.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=a;else{if(!(a&1073741824))return o=_e!==null?_e.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:o,cachePool:null,transitions:null},s.updateQueue=null,G(fj,gj),gj|=o,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},$=_e!==null?_e.baseLanes:a,G(fj,gj),gj|=$}else _e!==null?($=_e.baseLanes|a,s.memoizedState=null):$=a,G(fj,gj),gj|=$;return Yi(o,s,j,a),s.child}function hj(o,s){var a=s.ref;(o===null&&a!==null||o!==null&&o.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function dj(o,s,a,$,j){var _e=Zf(a)?Xf:H.current;return _e=Yf(s,_e),Tg(s,j),a=Xh(o,s,a,$,_e,j),$=bi(),o!==null&&!Ug?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~j,$i(o,s,j)):(I&&$&&vg(s),s.flags|=1,Yi(o,s,a,j),s.child)}function ij(o,s,a,$,j){if(Zf(a)){var _e=!0;cg(s)}else _e=!1;if(Tg(s,j),s.stateNode===null)jj(o,s),ph(s,a,$),rh(s,a,$,j),$=!0;else if(o===null){var et=s.stateNode,tt=s.memoizedProps;et.props=tt;var rt=et.context,nt=a.contextType;typeof nt=="object"&&nt!==null?nt=Vg(nt):(nt=Zf(a)?Xf:H.current,nt=Yf(s,nt));var it=a.getDerivedStateFromProps,ot=typeof it=="function"||typeof et.getSnapshotBeforeUpdate=="function";ot||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(tt!==$||rt!==nt)&&qh(s,et,$,nt),$g=!1;var st=s.memoizedState;et.state=st,gh(s,$,et,j),rt=s.memoizedState,tt!==$||st!==rt||Wf.current||$g?(typeof it=="function"&&(kh(s,a,it,$),rt=s.memoizedState),(tt=$g||oh(s,a,tt,$,st,rt,nt))?(ot||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount()),typeof et.componentDidMount=="function"&&(s.flags|=4194308)):(typeof et.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=$,s.memoizedState=rt),et.props=$,et.state=rt,et.context=nt,$=tt):(typeof et.componentDidMount=="function"&&(s.flags|=4194308),$=!1)}else{et=s.stateNode,bh(o,s),tt=s.memoizedProps,nt=s.type===s.elementType?tt:Lg(s.type,tt),et.props=nt,ot=s.pendingProps,st=et.context,rt=a.contextType,typeof rt=="object"&&rt!==null?rt=Vg(rt):(rt=Zf(a)?Xf:H.current,rt=Yf(s,rt));var at=a.getDerivedStateFromProps;(it=typeof at=="function"||typeof et.getSnapshotBeforeUpdate=="function")||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(tt!==ot||st!==rt)&&qh(s,et,$,rt),$g=!1,st=s.memoizedState,et.state=st,gh(s,$,et,j);var lt=s.memoizedState;tt!==ot||st!==lt||Wf.current||$g?(typeof at=="function"&&(kh(s,a,at,$),lt=s.memoizedState),(nt=$g||oh(s,a,nt,$,st,lt,rt)||!1)?(it||typeof et.UNSAFE_componentWillUpdate!="function"&&typeof et.componentWillUpdate!="function"||(typeof et.componentWillUpdate=="function"&&et.componentWillUpdate($,lt,rt),typeof et.UNSAFE_componentWillUpdate=="function"&&et.UNSAFE_componentWillUpdate($,lt,rt)),typeof et.componentDidUpdate=="function"&&(s.flags|=4),typeof et.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof et.componentDidUpdate!="function"||tt===o.memoizedProps&&st===o.memoizedState||(s.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||tt===o.memoizedProps&&st===o.memoizedState||(s.flags|=1024),s.memoizedProps=$,s.memoizedState=lt),et.props=$,et.state=lt,et.context=rt,$=nt):(typeof et.componentDidUpdate!="function"||tt===o.memoizedProps&&st===o.memoizedState||(s.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||tt===o.memoizedProps&&st===o.memoizedState||(s.flags|=1024),$=!1)}return kj(o,s,a,$,_e,j)}function kj(o,s,a,$,j,_e){hj(o,s);var et=(s.flags&128)!==0;if(!$&&!et)return j&&dg(s,a,!1),$i(o,s,_e);$=s.stateNode,Xi.current=s;var tt=et&&typeof a.getDerivedStateFromError!="function"?null:$.render();return s.flags|=1,o!==null&&et?(s.child=Bh(s,o.child,null,_e),s.child=Bh(s,null,tt,_e)):Yi(o,s,tt,_e),s.memoizedState=$.state,j&&dg(s,a,!0),s.child}function lj(o){var s=o.stateNode;s.pendingContext?ag(o,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(o,s.context,!1),Ih(o,s.containerInfo)}function mj(o,s,a,$,j){return Ig(),Jg(j),s.flags|=256,Yi(o,s,a,$),s.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(o){return{baseLanes:o,cachePool:null,transitions:null}}function pj(o,s,a){var $=s.pendingProps,j=M.current,_e=!1,et=(s.flags&128)!==0,tt;if((tt=et)||(tt=o!==null&&o.memoizedState===null?!1:(j&2)!==0),tt?(_e=!0,s.flags&=-129):(o===null||o.memoizedState!==null)&&(j|=1),G(M,j&1),o===null)return Eg(s),o=s.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(s.mode&1?o.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(et=$.children,o=$.fallback,_e?($=s.mode,_e=s.child,et={mode:"hidden",children:et},!($&1)&&_e!==null?(_e.childLanes=0,_e.pendingProps=et):_e=qj(et,$,0,null),o=Ah(o,$,a,null),_e.return=s,o.return=s,_e.sibling=o,s.child=_e,s.child.memoizedState=oj(a),s.memoizedState=nj,o):rj(s,et));if(j=o.memoizedState,j!==null&&(tt=j.dehydrated,tt!==null))return sj(o,s,et,$,tt,j,a);if(_e){_e=$.fallback,et=s.mode,j=o.child,tt=j.sibling;var rt={mode:"hidden",children:$.children};return!(et&1)&&s.child!==j?($=s.child,$.childLanes=0,$.pendingProps=rt,s.deletions=null):($=wh(j,rt),$.subtreeFlags=j.subtreeFlags&14680064),tt!==null?_e=wh(tt,_e):(_e=Ah(_e,et,a,null),_e.flags|=2),_e.return=s,$.return=s,$.sibling=_e,s.child=$,$=_e,_e=s.child,et=o.child.memoizedState,et=et===null?oj(a):{baseLanes:et.baseLanes|a,cachePool:null,transitions:et.transitions},_e.memoizedState=et,_e.childLanes=o.childLanes&~a,s.memoizedState=nj,$}return _e=o.child,o=_e.sibling,$=wh(_e,{mode:"visible",children:$.children}),!(s.mode&1)&&($.lanes=a),$.return=s,$.sibling=null,o!==null&&(a=s.deletions,a===null?(s.deletions=[o],s.flags|=16):a.push(o)),s.child=$,s.memoizedState=null,$}function rj(o,s){return s=qj({mode:"visible",children:s},o.mode,0,null),s.return=o,o.child=s}function tj(o,s,a,$){return $!==null&&Jg($),Bh(s,o.child,null,a),o=rj(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function sj(o,s,a,$,j,_e,et){if(a)return s.flags&256?(s.flags&=-257,$=Li(Error(p(422))),tj(o,s,et,$)):s.memoizedState!==null?(s.child=o.child,s.flags|=128,null):(_e=$.fallback,j=s.mode,$=qj({mode:"visible",children:$.children},j,0,null),_e=Ah(_e,j,et,null),_e.flags|=2,$.return=s,_e.return=s,$.sibling=_e,s.child=$,s.mode&1&&Bh(s,o.child,null,et),s.child.memoizedState=oj(et),s.memoizedState=nj,_e);if(!(s.mode&1))return tj(o,s,et,null);if(j.data==="$!"){if($=j.nextSibling&&j.nextSibling.dataset,$)var tt=$.dgst;return $=tt,_e=Error(p(419)),$=Li(_e,$,void 0),tj(o,s,et,$)}if(tt=(et&o.childLanes)!==0,Ug||tt){if($=R,$!==null){switch(et&-et){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=j&($.suspendedLanes|et)?0:j,j!==0&&j!==_e.retryLane&&(_e.retryLane=j,Zg(o,j),mh($,o,j,-1))}return uj(),$=Li(Error(p(421))),tj(o,s,et,$)}return j.data==="$?"?(s.flags|=128,s.child=o.child,s=vj.bind(null,o),j._reactRetry=s,null):(o=_e.treeContext,yg=Lf(j.nextSibling),xg=s,I=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=s),s=rj(s,$.children),s.flags|=4096,s)}function wj(o,s,a){o.lanes|=s;var $=o.alternate;$!==null&&($.lanes|=s),Sg(o.return,s,a)}function xj(o,s,a,$,j){var _e=o.memoizedState;_e===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:$,tail:a,tailMode:j}:(_e.isBackwards=s,_e.rendering=null,_e.renderingStartTime=0,_e.last=$,_e.tail=a,_e.tailMode=j)}function yj(o,s,a){var $=s.pendingProps,j=$.revealOrder,_e=$.tail;if(Yi(o,s,$.children,a),$=M.current,$&2)$=$&1|2,s.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wj(o,a,s);else if(o.tag===19)wj(o,a,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}$&=1}if(G(M,$),!(s.mode&1))s.memoizedState=null;else switch(j){case"forwards":for(a=s.child,j=null;a!==null;)o=a.alternate,o!==null&&Mh(o)===null&&(j=a),a=a.sibling;a=j,a===null?(j=s.child,s.child=null):(j=a.sibling,a.sibling=null),xj(s,!1,j,a,_e);break;case"backwards":for(a=null,j=s.child,s.child=null;j!==null;){if(o=j.alternate,o!==null&&Mh(o)===null){s.child=j;break}o=j.sibling,j.sibling=a,a=j,j=o}xj(s,!0,a,null,_e);break;case"together":xj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function jj(o,s){!(s.mode&1)&&o!==null&&(o.alternate=null,s.alternate=null,s.flags|=2)}function $i(o,s,a){if(o!==null&&(s.dependencies=o.dependencies),hh|=s.lanes,!(a&s.childLanes))return null;if(o!==null&&s.child!==o.child)throw Error(p(153));if(s.child!==null){for(o=s.child,a=wh(o,o.pendingProps),s.child=a,a.return=s;o.sibling!==null;)o=o.sibling,a=a.sibling=wh(o,o.pendingProps),a.return=s;a.sibling=null}return s.child}function zj(o,s,a){switch(s.tag){case 3:lj(s),Ig();break;case 5:Kh(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:Ih(s,s.stateNode.containerInfo);break;case 10:var $=s.type._context,j=s.memoizedProps.value;G(Mg,$._currentValue),$._currentValue=j;break;case 13:if($=s.memoizedState,$!==null)return $.dehydrated!==null?(G(M,M.current&1),s.flags|=128,null):a&s.child.childLanes?pj(o,s,a):(G(M,M.current&1),o=$i(o,s,a),o!==null?o.sibling:null);G(M,M.current&1);break;case 19:if($=(a&s.childLanes)!==0,o.flags&128){if($)return yj(o,s,a);s.flags|=128}if(j=s.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),G(M,M.current),$)break;return null;case 22:case 23:return s.lanes=0,ej(o,s,a)}return $i(o,s,a)}var Aj,Bj,Cj,Dj;Aj=function(o,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Bj=function(){};Cj=function(o,s,a,$){var j=o.memoizedProps;if(j!==$){o=s.stateNode,Hh(Eh.current);var _e=null;switch(a){case"input":j=Ya(o,j),$=Ya(o,$),_e=[];break;case"select":j=A({},j,{value:void 0}),$=A({},$,{value:void 0}),_e=[];break;case"textarea":j=gb(o,j),$=gb(o,$),_e=[];break;default:typeof j.onClick!="function"&&typeof $.onClick=="function"&&(o.onclick=Bf)}ub(a,$);var et;a=null;for(nt in j)if(!$.hasOwnProperty(nt)&&j.hasOwnProperty(nt)&&j[nt]!=null)if(nt==="style"){var tt=j[nt];for(et in tt)tt.hasOwnProperty(et)&&(a||(a={}),a[et]="")}else nt!=="dangerouslySetInnerHTML"&&nt!=="children"&&nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ea.hasOwnProperty(nt)?_e||(_e=[]):(_e=_e||[]).push(nt,null));for(nt in $){var rt=$[nt];if(tt=j!=null?j[nt]:void 0,$.hasOwnProperty(nt)&&rt!==tt&&(rt!=null||tt!=null))if(nt==="style")if(tt){for(et in tt)!tt.hasOwnProperty(et)||rt&&rt.hasOwnProperty(et)||(a||(a={}),a[et]="");for(et in rt)rt.hasOwnProperty(et)&&tt[et]!==rt[et]&&(a||(a={}),a[et]=rt[et])}else a||(_e||(_e=[]),_e.push(nt,a)),a=rt;else nt==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,tt=tt?tt.__html:void 0,rt!=null&&tt!==rt&&(_e=_e||[]).push(nt,rt)):nt==="children"?typeof rt!="string"&&typeof rt!="number"||(_e=_e||[]).push(nt,""+rt):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(nt)?(rt!=null&&nt==="onScroll"&&D("scroll",o),_e||tt===rt||(_e=[])):(_e=_e||[]).push(nt,rt))}a&&(_e=_e||[]).push("style",a);var nt=_e;(s.updateQueue=nt)&&(s.flags|=4)}};Dj=function(o,s,a,$){a!==$&&(s.flags|=4)};function Ej(o,s){if(!I)switch(o.tailMode){case"hidden":s=o.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?o.tail=null:a.sibling=null;break;case"collapsed":a=o.tail;for(var $=null;a!==null;)a.alternate!==null&&($=a),a=a.sibling;$===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:$.sibling=null}}function S(o){var s=o.alternate!==null&&o.alternate.child===o.child,a=0,$=0;if(s)for(var j=o.child;j!==null;)a|=j.lanes|j.childLanes,$|=j.subtreeFlags&14680064,$|=j.flags&14680064,j.return=o,j=j.sibling;else for(j=o.child;j!==null;)a|=j.lanes|j.childLanes,$|=j.subtreeFlags,$|=j.flags,j.return=o,j=j.sibling;return o.subtreeFlags|=$,o.childLanes=a,s}function Fj(o,s,a){var $=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return $=s.stateNode,Jh(),E(Wf),E(H),Oh(),$.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),(o===null||o.child===null)&&(Gg(s)?s.flags|=4:o===null||o.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(o,s),S(s),null;case 5:Lh(s);var j=Hh(Gh.current);if(a=s.type,o!==null&&s.stateNode!=null)Cj(o,s,a,$,j),o.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!$){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(o=Hh(Eh.current),Gg(s)){$=s.stateNode,a=s.type;var _e=s.memoizedProps;switch($[Of]=s,$[Pf]=_e,o=(s.mode&1)!==0,a){case"dialog":D("cancel",$),D("close",$);break;case"iframe":case"object":case"embed":D("load",$);break;case"video":case"audio":for(j=0;j<lf.length;j++)D(lf[j],$);break;case"source":D("error",$);break;case"img":case"image":case"link":D("error",$),D("load",$);break;case"details":D("toggle",$);break;case"input":Za($,_e),D("invalid",$);break;case"select":$._wrapperState={wasMultiple:!!_e.multiple},D("invalid",$);break;case"textarea":hb($,_e),D("invalid",$)}ub(a,_e),j=null;for(var et in _e)if(_e.hasOwnProperty(et)){var tt=_e[et];et==="children"?typeof tt=="string"?$.textContent!==tt&&(_e.suppressHydrationWarning!==!0&&Af($.textContent,tt,o),j=["children",tt]):typeof tt=="number"&&$.textContent!==""+tt&&(_e.suppressHydrationWarning!==!0&&Af($.textContent,tt,o),j=["children",""+tt]):ea.hasOwnProperty(et)&&tt!=null&&et==="onScroll"&&D("scroll",$)}switch(a){case"input":Va($),db($,_e,!0);break;case"textarea":Va($),jb($);break;case"select":case"option":break;default:typeof _e.onClick=="function"&&($.onclick=Bf)}$=j,s.updateQueue=$,$!==null&&(s.flags|=4)}else{et=j.nodeType===9?j:j.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(a)),o==="http://www.w3.org/1999/xhtml"?a==="script"?(o=et.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof $.is=="string"?o=et.createElement(a,{is:$.is}):(o=et.createElement(a),a==="select"&&(et=o,$.multiple?et.multiple=!0:$.size&&(et.size=$.size))):o=et.createElementNS(o,a),o[Of]=s,o[Pf]=$,Aj(o,s,!1,!1),s.stateNode=o;e:{switch(et=vb(a,$),a){case"dialog":D("cancel",o),D("close",o),j=$;break;case"iframe":case"object":case"embed":D("load",o),j=$;break;case"video":case"audio":for(j=0;j<lf.length;j++)D(lf[j],o);j=$;break;case"source":D("error",o),j=$;break;case"img":case"image":case"link":D("error",o),D("load",o),j=$;break;case"details":D("toggle",o),j=$;break;case"input":Za(o,$),j=Ya(o,$),D("invalid",o);break;case"option":j=$;break;case"select":o._wrapperState={wasMultiple:!!$.multiple},j=A({},$,{value:void 0}),D("invalid",o);break;case"textarea":hb(o,$),j=gb(o,$),D("invalid",o);break;default:j=$}ub(a,j),tt=j;for(_e in tt)if(tt.hasOwnProperty(_e)){var rt=tt[_e];_e==="style"?sb(o,rt):_e==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,rt!=null&&nb(o,rt)):_e==="children"?typeof rt=="string"?(a!=="textarea"||rt!=="")&&ob(o,rt):typeof rt=="number"&&ob(o,""+rt):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ea.hasOwnProperty(_e)?rt!=null&&_e==="onScroll"&&D("scroll",o):rt!=null&&ta(o,_e,rt,et))}switch(a){case"input":Va(o),db(o,$,!1);break;case"textarea":Va(o),jb(o);break;case"option":$.value!=null&&o.setAttribute("value",""+Sa($.value));break;case"select":o.multiple=!!$.multiple,_e=$.value,_e!=null?fb(o,!!$.multiple,_e,!1):$.defaultValue!=null&&fb(o,!!$.multiple,$.defaultValue,!0);break;default:typeof j.onClick=="function"&&(o.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":$=!!$.autoFocus;break e;case"img":$=!0;break e;default:$=!1}}$&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(o&&s.stateNode!=null)Dj(o,s,o.memoizedProps,$);else{if(typeof $!="string"&&s.stateNode===null)throw Error(p(166));if(a=Hh(Gh.current),Hh(Eh.current),Gg(s)){if($=s.stateNode,a=s.memoizedProps,$[Of]=s,(_e=$.nodeValue!==a)&&(o=xg,o!==null))switch(o.tag){case 3:Af($.nodeValue,a,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af($.nodeValue,a,(o.mode&1)!==0)}_e&&(s.flags|=4)}else $=(a.nodeType===9?a:a.ownerDocument).createTextNode($),$[Of]=s,s.stateNode=$}return S(s),null;case 13:if(E(M),$=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,_e=!1;else if(_e=Gg(s),$!==null&&$.dehydrated!==null){if(o===null){if(!_e)throw Error(p(318));if(_e=s.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p(317));_e[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),_e=!1}else zg!==null&&(Gj(zg),zg=null),_e=!0;if(!_e)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):($=$!==null,$!==(o!==null&&o.memoizedState!==null)&&$&&(s.child.flags|=8192,s.mode&1&&(o===null||M.current&1?T===0&&(T=3):uj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return Jh(),Bj(o,s),o===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return Rg(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(M),_e=s.memoizedState,_e===null)return S(s),null;if($=(s.flags&128)!==0,et=_e.rendering,et===null)if($)Ej(_e,!1);else{if(T!==0||o!==null&&o.flags&128)for(o=s.child;o!==null;){if(et=Mh(o),et!==null){for(s.flags|=128,Ej(_e,!1),$=et.updateQueue,$!==null&&(s.updateQueue=$,s.flags|=4),s.subtreeFlags=0,$=a,a=s.child;a!==null;)_e=a,o=$,_e.flags&=14680066,et=_e.alternate,et===null?(_e.childLanes=0,_e.lanes=o,_e.child=null,_e.subtreeFlags=0,_e.memoizedProps=null,_e.memoizedState=null,_e.updateQueue=null,_e.dependencies=null,_e.stateNode=null):(_e.childLanes=et.childLanes,_e.lanes=et.lanes,_e.child=et.child,_e.subtreeFlags=0,_e.deletions=null,_e.memoizedProps=et.memoizedProps,_e.memoizedState=et.memoizedState,_e.updateQueue=et.updateQueue,_e.type=et.type,o=et.dependencies,_e.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a=a.sibling;return G(M,M.current&1|2),s.child}o=o.sibling}_e.tail!==null&&B()>Hj&&(s.flags|=128,$=!0,Ej(_e,!1),s.lanes=4194304)}else{if(!$)if(o=Mh(et),o!==null){if(s.flags|=128,$=!0,a=o.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ej(_e,!0),_e.tail===null&&_e.tailMode==="hidden"&&!et.alternate&&!I)return S(s),null}else 2*B()-_e.renderingStartTime>Hj&&a!==1073741824&&(s.flags|=128,$=!0,Ej(_e,!1),s.lanes=4194304);_e.isBackwards?(et.sibling=s.child,s.child=et):(a=_e.last,a!==null?a.sibling=et:s.child=et,_e.last=et)}return _e.tail!==null?(s=_e.tail,_e.rendering=s,_e.tail=s.sibling,_e.renderingStartTime=B(),s.sibling=null,a=M.current,G(M,$?a&1|2:a&1),s):(S(s),null);case 22:case 23:return Ij(),$=s.memoizedState!==null,o!==null&&o.memoizedState!==null!==$&&(s.flags|=8192),$&&s.mode&1?gj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Jj(o,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Jh(),E(Wf),E(H),Oh(),o=s.flags,o&65536&&!(o&128)?(s.flags=o&-65537|128,s):null;case 5:return Lh(s),null;case 13:if(E(M),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(s.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(o,s){var a=o.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch($){W(o,s,$)}else a.current=null}function Nj(o,s,a){try{a()}catch($){W(o,s,$)}}var Oj=!1;function Pj(o,s){if(Cf=dd,o=Me(),Ne(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{a=(a=o.ownerDocument)&&a.defaultView||window;var $=a.getSelection&&a.getSelection();if($&&$.rangeCount!==0){a=$.anchorNode;var j=$.anchorOffset,_e=$.focusNode;$=$.focusOffset;try{a.nodeType,_e.nodeType}catch{a=null;break e}var et=0,tt=-1,rt=-1,nt=0,it=0,ot=o,st=null;t:for(;;){for(var at;ot!==a||j!==0&&ot.nodeType!==3||(tt=et+j),ot!==_e||$!==0&&ot.nodeType!==3||(rt=et+$),ot.nodeType===3&&(et+=ot.nodeValue.length),(at=ot.firstChild)!==null;)st=ot,ot=at;for(;;){if(ot===o)break t;if(st===a&&++nt===j&&(tt=et),st===_e&&++it===$&&(rt=et),(at=ot.nextSibling)!==null)break;ot=st,st=ot.parentNode}ot=at}a=tt===-1||rt===-1?null:{start:tt,end:rt}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:o,selectionRange:a},dd=!1,V=s;V!==null;)if(s=V,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,V=o;else for(;V!==null;){s=V;try{var lt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var ft=lt.memoizedProps,pt=lt.memoizedState,ut=s.stateNode,dt=ut.getSnapshotBeforeUpdate(s.elementType===s.type?ft:Lg(s.type,ft),pt);ut.__reactInternalSnapshotBeforeUpdate=dt}break;case 3:var ct=s.stateNode.containerInfo;ct.nodeType===1?ct.textContent="":ct.nodeType===9&&ct.documentElement&&ct.removeChild(ct.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ht){W(s,s.return,ht)}if(o=s.sibling,o!==null){o.return=s.return,V=o;break}V=s.return}return lt=Oj,Oj=!1,lt}function Qj(o,s,a){var $=s.updateQueue;if($=$!==null?$.lastEffect:null,$!==null){var j=$=$.next;do{if((j.tag&o)===o){var _e=j.destroy;j.destroy=void 0,_e!==void 0&&Nj(s,a,_e)}j=j.next}while(j!==$)}}function Rj(o,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&o)===o){var $=a.create;a.destroy=$()}a=a.next}while(a!==s)}}function Sj(o){var s=o.ref;if(s!==null){var a=o.stateNode;switch(o.tag){case 5:o=a;break;default:o=a}typeof s=="function"?s(o):s.current=o}}function Tj(o){var s=o.alternate;s!==null&&(o.alternate=null,Tj(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Uj(o){return o.tag===5||o.tag===3||o.tag===4}function Vj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Uj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wj(o,s,a){var $=o.tag;if($===5||$===6)o=o.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(o,s):a.insertBefore(o,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(o,a)):(s=a,s.appendChild(o)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Bf));else if($!==4&&(o=o.child,o!==null))for(Wj(o,s,a),o=o.sibling;o!==null;)Wj(o,s,a),o=o.sibling}function Xj(o,s,a){var $=o.tag;if($===5||$===6)o=o.stateNode,s?a.insertBefore(o,s):a.appendChild(o);else if($!==4&&(o=o.child,o!==null))for(Xj(o,s,a),o=o.sibling;o!==null;)Xj(o,s,a),o=o.sibling}var X=null,Yj=!1;function Zj(o,s,a){for(a=a.child;a!==null;)ak(o,s,a),a=a.sibling}function ak(o,s,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U||Mj(a,s);case 6:var $=X,j=Yj;X=null,Zj(o,s,a),X=$,Yj=j,X!==null&&(Yj?(o=X,a=a.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):X.removeChild(a.stateNode));break;case 18:X!==null&&(Yj?(o=X,a=a.stateNode,o.nodeType===8?Kf(o.parentNode,a):o.nodeType===1&&Kf(o,a),bd(o)):Kf(X,a.stateNode));break;case 4:$=X,j=Yj,X=a.stateNode.containerInfo,Yj=!0,Zj(o,s,a),X=$,Yj=j;break;case 0:case 11:case 14:case 15:if(!U&&($=a.updateQueue,$!==null&&($=$.lastEffect,$!==null))){j=$=$.next;do{var _e=j,et=_e.destroy;_e=_e.tag,et!==void 0&&(_e&2||_e&4)&&Nj(a,s,et),j=j.next}while(j!==$)}Zj(o,s,a);break;case 1:if(!U&&(Mj(a,s),$=a.stateNode,typeof $.componentWillUnmount=="function"))try{$.props=a.memoizedProps,$.state=a.memoizedState,$.componentWillUnmount()}catch(tt){W(a,s,tt)}Zj(o,s,a);break;case 21:Zj(o,s,a);break;case 22:a.mode&1?(U=($=U)||a.memoizedState!==null,Zj(o,s,a),U=$):Zj(o,s,a);break;default:Zj(o,s,a)}}function bk(o){var s=o.updateQueue;if(s!==null){o.updateQueue=null;var a=o.stateNode;a===null&&(a=o.stateNode=new Lj),s.forEach(function($){var j=ck.bind(null,o,$);a.has($)||(a.add($),$.then(j,j))})}}function dk(o,s){var a=s.deletions;if(a!==null)for(var $=0;$<a.length;$++){var j=a[$];try{var _e=o,et=s,tt=et;e:for(;tt!==null;){switch(tt.tag){case 5:X=tt.stateNode,Yj=!1;break e;case 3:X=tt.stateNode.containerInfo,Yj=!0;break e;case 4:X=tt.stateNode.containerInfo,Yj=!0;break e}tt=tt.return}if(X===null)throw Error(p(160));ak(_e,et,j),X=null,Yj=!1;var rt=j.alternate;rt!==null&&(rt.return=null),j.return=null}catch(nt){W(j,s,nt)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ek(s,o),s=s.sibling}function ek(o,s){var a=o.alternate,$=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(dk(s,o),fk(o),$&4){try{Qj(3,o,o.return),Rj(3,o)}catch(ft){W(o,o.return,ft)}try{Qj(5,o,o.return)}catch(ft){W(o,o.return,ft)}}break;case 1:dk(s,o),fk(o),$&512&&a!==null&&Mj(a,a.return);break;case 5:if(dk(s,o),fk(o),$&512&&a!==null&&Mj(a,a.return),o.flags&32){var j=o.stateNode;try{ob(j,"")}catch(ft){W(o,o.return,ft)}}if($&4&&(j=o.stateNode,j!=null)){var _e=o.memoizedProps,et=a!==null?a.memoizedProps:_e,tt=o.type,rt=o.updateQueue;if(o.updateQueue=null,rt!==null)try{tt==="input"&&_e.type==="radio"&&_e.name!=null&&ab(j,_e),vb(tt,et);var nt=vb(tt,_e);for(et=0;et<rt.length;et+=2){var it=rt[et],ot=rt[et+1];it==="style"?sb(j,ot):it==="dangerouslySetInnerHTML"?nb(j,ot):it==="children"?ob(j,ot):ta(j,it,ot,nt)}switch(tt){case"input":bb(j,_e);break;case"textarea":ib(j,_e);break;case"select":var st=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!_e.multiple;var at=_e.value;at!=null?fb(j,!!_e.multiple,at,!1):st!==!!_e.multiple&&(_e.defaultValue!=null?fb(j,!!_e.multiple,_e.defaultValue,!0):fb(j,!!_e.multiple,_e.multiple?[]:"",!1))}j[Pf]=_e}catch(ft){W(o,o.return,ft)}}break;case 6:if(dk(s,o),fk(o),$&4){if(o.stateNode===null)throw Error(p(162));j=o.stateNode,_e=o.memoizedProps;try{j.nodeValue=_e}catch(ft){W(o,o.return,ft)}}break;case 3:if(dk(s,o),fk(o),$&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(ft){W(o,o.return,ft)}break;case 4:dk(s,o),fk(o);break;case 13:dk(s,o),fk(o),j=o.child,j.flags&8192&&(_e=j.memoizedState!==null,j.stateNode.isHidden=_e,!_e||j.alternate!==null&&j.alternate.memoizedState!==null||(gk=B())),$&4&&bk(o);break;case 22:if(it=a!==null&&a.memoizedState!==null,o.mode&1?(U=(nt=U)||it,dk(s,o),U=nt):dk(s,o),fk(o),$&8192){if(nt=o.memoizedState!==null,(o.stateNode.isHidden=nt)&&!it&&o.mode&1)for(V=o,it=o.child;it!==null;){for(ot=V=it;V!==null;){switch(st=V,at=st.child,st.tag){case 0:case 11:case 14:case 15:Qj(4,st,st.return);break;case 1:Mj(st,st.return);var lt=st.stateNode;if(typeof lt.componentWillUnmount=="function"){$=st,a=st.return;try{s=$,lt.props=s.memoizedProps,lt.state=s.memoizedState,lt.componentWillUnmount()}catch(ft){W($,a,ft)}}break;case 5:Mj(st,st.return);break;case 22:if(st.memoizedState!==null){hk(ot);continue}}at!==null?(at.return=st,V=at):hk(ot)}it=it.sibling}e:for(it=null,ot=o;;){if(ot.tag===5){if(it===null){it=ot;try{j=ot.stateNode,nt?(_e=j.style,typeof _e.setProperty=="function"?_e.setProperty("display","none","important"):_e.display="none"):(tt=ot.stateNode,rt=ot.memoizedProps.style,et=rt!=null&&rt.hasOwnProperty("display")?rt.display:null,tt.style.display=rb("display",et))}catch(ft){W(o,o.return,ft)}}}else if(ot.tag===6){if(it===null)try{ot.stateNode.nodeValue=nt?"":ot.memoizedProps}catch(ft){W(o,o.return,ft)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===o)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===o)break e;for(;ot.sibling===null;){if(ot.return===null||ot.return===o)break e;it===ot&&(it=null),ot=ot.return}it===ot&&(it=null),ot.sibling.return=ot.return,ot=ot.sibling}}break;case 19:dk(s,o),fk(o),$&4&&bk(o);break;case 21:break;default:dk(s,o),fk(o)}}function fk(o){var s=o.flags;if(s&2){try{e:{for(var a=o.return;a!==null;){if(Uj(a)){var $=a;break e}a=a.return}throw Error(p(160))}switch($.tag){case 5:var j=$.stateNode;$.flags&32&&(ob(j,""),$.flags&=-33);var _e=Vj(o);Xj(o,_e,j);break;case 3:case 4:var et=$.stateNode.containerInfo,tt=Vj(o);Wj(o,tt,et);break;default:throw Error(p(161))}}catch(rt){W(o,o.return,rt)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function ik(o,s,a){V=o,jk(o)}function jk(o,s,a){for(var $=(o.mode&1)!==0;V!==null;){var j=V,_e=j.child;if(j.tag===22&&$){var et=j.memoizedState!==null||Kj;if(!et){var tt=j.alternate,rt=tt!==null&&tt.memoizedState!==null||U;tt=Kj;var nt=U;if(Kj=et,(U=rt)&&!nt)for(V=j;V!==null;)et=V,rt=et.child,et.tag===22&&et.memoizedState!==null?kk(j):rt!==null?(rt.return=et,V=rt):kk(j);for(;_e!==null;)V=_e,jk(_e),_e=_e.sibling;V=j,Kj=tt,U=nt}lk(o)}else j.subtreeFlags&8772&&_e!==null?(_e.return=j,V=_e):lk(o)}}function lk(o){for(;V!==null;){var s=V;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Rj(5,s);break;case 1:var $=s.stateNode;if(s.flags&4&&!U)if(a===null)$.componentDidMount();else{var j=s.elementType===s.type?a.memoizedProps:Lg(s.type,a.memoizedProps);$.componentDidUpdate(j,a.memoizedState,$.__reactInternalSnapshotBeforeUpdate)}var _e=s.updateQueue;_e!==null&&ih(s,_e,$);break;case 3:var et=s.updateQueue;if(et!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}ih(s,et,a)}break;case 5:var tt=s.stateNode;if(a===null&&s.flags&4){a=tt;var rt=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":rt.autoFocus&&a.focus();break;case"img":rt.src&&(a.src=rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var nt=s.alternate;if(nt!==null){var it=nt.memoizedState;if(it!==null){var ot=it.dehydrated;ot!==null&&bd(ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||s.flags&512&&Sj(s)}catch(st){W(s,s.return,st)}}if(s===o){V=null;break}if(a=s.sibling,a!==null){a.return=s.return,V=a;break}V=s.return}}function hk(o){for(;V!==null;){var s=V;if(s===o){V=null;break}var a=s.sibling;if(a!==null){a.return=s.return,V=a;break}V=s.return}}function kk(o){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Rj(4,s)}catch(rt){W(s,a,rt)}break;case 1:var $=s.stateNode;if(typeof $.componentDidMount=="function"){var j=s.return;try{$.componentDidMount()}catch(rt){W(s,j,rt)}}var _e=s.return;try{Sj(s)}catch(rt){W(s,_e,rt)}break;case 5:var et=s.return;try{Sj(s)}catch(rt){W(s,et,rt)}}}catch(rt){W(s,s.return,rt)}if(s===o){V=null;break}var tt=s.sibling;if(tt!==null){tt.return=s.return,V=tt;break}V=s.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(o){return o.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(o=C,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o):1}function mh(o,s,a,$){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(o,a,$),(!(K&2)||o!==R)&&(o===R&&(!(K&2)&&(rk|=a),T===4&&Dk(o,Z)),Ek(o,$),a===1&&K===0&&!(s.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(o,s){var a=o.callbackNode;wc(o,s);var $=uc(o,o===R?Z:0);if($===0)a!==null&&bc(a),o.callbackNode=null,o.callbackPriority=0;else if(s=$&-$,o.callbackPriority!==s){if(a!=null&&bc(a),s===1)o.tag===0?ig(Fk.bind(null,o)):hg(Fk.bind(null,o)),Jf(function(){!(K&6)&&jg()}),a=null;else{switch(Dc($)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Gk(a,Hk.bind(null,o))}o.callbackPriority=s,o.callbackNode=a}}function Hk(o,s){if(Bk=-1,Ck=0,K&6)throw Error(p(327));var a=o.callbackNode;if(Ik()&&o.callbackNode!==a)return null;var $=uc(o,o===R?Z:0);if($===0)return null;if($&30||$&o.expiredLanes||s)s=Jk(o,$);else{s=$;var j=K;K|=2;var _e=Kk();(R!==o||Z!==s)&&(vk=null,Hj=B()+500,Lk(o,s));do try{Mk();break}catch(tt){Nk(o,tt)}while(1);Qg(),nk.current=_e,K=j,Y!==null?s=0:(R=null,Z=0,s=T)}if(s!==0){if(s===2&&(j=xc(o),j!==0&&($=j,s=Ok(o,j))),s===1)throw a=qk,Lk(o,0),Dk(o,$),Ek(o,B()),a;if(s===6)Dk(o,$);else{if(j=o.current.alternate,!($&30)&&!Pk(j)&&(s=Jk(o,$),s===2&&(_e=xc(o),_e!==0&&($=_e,s=Ok(o,_e))),s===1))throw a=qk,Lk(o,0),Dk(o,$),Ek(o,B()),a;switch(o.finishedWork=j,o.finishedLanes=$,s){case 0:case 1:throw Error(p(345));case 2:Qk(o,uk,vk);break;case 3:if(Dk(o,$),($&130023424)===$&&(s=gk+500-B(),10<s)){if(uc(o,0)!==0)break;if(j=o.suspendedLanes,(j&$)!==$){L(),o.pingedLanes|=o.suspendedLanes&j;break}o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),s);break}Qk(o,uk,vk);break;case 4:if(Dk(o,$),($&4194240)===$)break;for(s=o.eventTimes,j=-1;0<$;){var et=31-oc($);_e=1<<et,et=s[et],et>j&&(j=et),$&=~_e}if($=j,$=B()-$,$=(120>$?120:480>$?480:1080>$?1080:1920>$?1920:3e3>$?3e3:4320>$?4320:1960*mk($/1960))-$,10<$){o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),$);break}Qk(o,uk,vk);break;case 5:Qk(o,uk,vk);break;default:throw Error(p(329))}}}return Ek(o,B()),o.callbackNode===a?Hk.bind(null,o):null}function Ok(o,s){var a=tk;return o.current.memoizedState.isDehydrated&&(Lk(o,s).flags|=256),o=Jk(o,s),o!==2&&(s=uk,uk=a,s!==null&&Gj(s)),o}function Gj(o){uk===null?uk=o:uk.push.apply(uk,o)}function Pk(o){for(var s=o;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var $=0;$<a.length;$++){var j=a[$],_e=j.getSnapshot;j=j.value;try{if(!He(_e(),j))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Dk(o,s){for(s&=~sk,s&=~rk,o.suspendedLanes|=s,o.pingedLanes&=~s,o=o.expirationTimes;0<s;){var a=31-oc(s),$=1<<a;o[a]=-1,s&=~$}}function Fk(o){if(K&6)throw Error(p(327));Ik();var s=uc(o,0);if(!(s&1))return Ek(o,B()),null;var a=Jk(o,s);if(o.tag!==0&&a===2){var $=xc(o);$!==0&&(s=$,a=Ok(o,$))}if(a===1)throw a=qk,Lk(o,0),Dk(o,s),Ek(o,B()),a;if(a===6)throw Error(p(345));return o.finishedWork=o.current.alternate,o.finishedLanes=s,Qk(o,uk,vk),Ek(o,B()),null}function Rk(o,s){var a=K;K|=1;try{return o(s)}finally{K=a,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(o){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var s=K;K|=1;var a=pk.transition,$=C;try{if(pk.transition=null,C=1,o)return o()}finally{C=$,pk.transition=a,K=s,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(o,s){o.finishedWork=null,o.finishedLanes=0;var a=o.timeoutHandle;if(a!==-1&&(o.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var $=a;switch(wg($),$.tag){case 1:$=$.type.childContextTypes,$!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh($);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg($.type._context);break;case 22:case 23:Ij()}a=a.return}if(R=o,Y=o=wh(o.current,null),Z=gj=s,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(s=0;s<Wg.length;s++)if(a=Wg[s],$=a.interleaved,$!==null){a.interleaved=null;var j=$.next,_e=a.pending;if(_e!==null){var et=_e.next;_e.next=j,$.next=et}a.pending=$}Wg=null}return o}function Nk(o,s){do{var a=Y;try{if(Qg(),Ph.current=ai,Sh){for(var $=N.memoizedState;$!==null;){var j=$.queue;j!==null&&(j.pending=null),$=$.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,a===null||a.return===null){T=1,qk=s,Y=null;break}e:{var _e=o,et=a.return,tt=a,rt=s;if(s=Z,tt.flags|=32768,rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var nt=rt,it=tt,ot=it.tag;if(!(it.mode&1)&&(ot===0||ot===11||ot===15)){var st=it.alternate;st?(it.updateQueue=st.updateQueue,it.memoizedState=st.memoizedState,it.lanes=st.lanes):(it.updateQueue=null,it.memoizedState=null)}var at=Vi(et);if(at!==null){at.flags&=-257,Wi(at,et,tt,_e,s),at.mode&1&&Ti(_e,nt,s),s=at,rt=nt;var lt=s.updateQueue;if(lt===null){var ft=new Set;ft.add(rt),s.updateQueue=ft}else lt.add(rt);break e}else{if(!(s&1)){Ti(_e,nt,s),uj();break e}rt=Error(p(426))}}else if(I&&tt.mode&1){var pt=Vi(et);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),Wi(pt,et,tt,_e,s),Jg(Ki(rt,tt));break e}}_e=rt=Ki(rt,tt),T!==4&&(T=2),tk===null?tk=[_e]:tk.push(_e),_e=et;do{switch(_e.tag){case 3:_e.flags|=65536,s&=-s,_e.lanes|=s;var ut=Oi(_e,rt,s);fh(_e,ut);break e;case 1:tt=rt;var dt=_e.type,ct=_e.stateNode;if(!(_e.flags&128)&&(typeof dt.getDerivedStateFromError=="function"||ct!==null&&typeof ct.componentDidCatch=="function"&&(Si===null||!Si.has(ct)))){_e.flags|=65536,s&=-s,_e.lanes|=s;var ht=Ri(_e,tt,s);fh(_e,ht);break e}}_e=_e.return}while(_e!==null)}Tk(a)}catch(mt){s=mt,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(1)}function Kk(){var o=nk.current;return nk.current=ai,o===null?ai:o}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(o,s){var a=K;K|=2;var $=Kk();(R!==o||Z!==s)&&(vk=null,Lk(o,s));do try{Uk();break}catch(j){Nk(o,j)}while(1);if(Qg(),K=a,nk.current=$,Y!==null)throw Error(p(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(o){var s=Wk(o.alternate,o,gj);o.memoizedProps=o.pendingProps,s===null?Tk(o):Y=s,ok.current=null}function Tk(o){var s=o;do{var a=s.alternate;if(o=s.return,s.flags&32768){if(a=Jj(a,s),a!==null){a.flags&=32767,Y=a;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T=6,Y=null;return}}else if(a=Fj(a,s,gj),a!==null){Y=a;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=o}while(s!==null);T===0&&(T=5)}function Qk(o,s,a){var $=C,j=pk.transition;try{pk.transition=null,C=1,Xk(o,s,a,$)}finally{pk.transition=j,C=$}return null}function Xk(o,s,a,$){do Ik();while(xk!==null);if(K&6)throw Error(p(327));a=o.finishedWork;var j=o.finishedLanes;if(a===null)return null;if(o.finishedWork=null,o.finishedLanes=0,a===o.current)throw Error(p(177));o.callbackNode=null,o.callbackPriority=0;var _e=a.lanes|a.childLanes;if(Bc(o,_e),o===R&&(Y=R=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),_e=(a.flags&15990)!==0,a.subtreeFlags&15990||_e){_e=pk.transition,pk.transition=null;var et=C;C=1;var tt=K;K|=4,ok.current=null,Pj(o,a),ek(a,o),Oe(Df),dd=!!Cf,Df=Cf=null,o.current=a,ik(a),dc(),K=tt,C=et,pk.transition=_e}else o.current=a;if(wk&&(wk=!1,xk=o,yk=j),_e=o.pendingLanes,_e===0&&(Si=null),mc(a.stateNode),Ek(o,B()),s!==null)for($=o.onRecoverableError,a=0;a<s.length;a++)j=s[a],$(j.value,{componentStack:j.stack,digest:j.digest});if(Pi)throw Pi=!1,o=Qi,Qi=null,o;return yk&1&&o.tag!==0&&Ik(),_e=o.pendingLanes,_e&1?o===Ak?zk++:(zk=0,Ak=o):zk=0,jg(),null}function Ik(){if(xk!==null){var o=Dc(yk),s=pk.transition,a=C;try{if(pk.transition=null,C=16>o?16:o,xk===null)var $=!1;else{if(o=xk,xk=null,yk=0,K&6)throw Error(p(331));var j=K;for(K|=4,V=o.current;V!==null;){var _e=V,et=_e.child;if(V.flags&16){var tt=_e.deletions;if(tt!==null){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];for(V=nt;V!==null;){var it=V;switch(it.tag){case 0:case 11:case 15:Qj(8,it,_e)}var ot=it.child;if(ot!==null)ot.return=it,V=ot;else for(;V!==null;){it=V;var st=it.sibling,at=it.return;if(Tj(it),it===nt){V=null;break}if(st!==null){st.return=at,V=st;break}V=at}}}var lt=_e.alternate;if(lt!==null){var ft=lt.child;if(ft!==null){lt.child=null;do{var pt=ft.sibling;ft.sibling=null,ft=pt}while(ft!==null)}}V=_e}}if(_e.subtreeFlags&2064&&et!==null)et.return=_e,V=et;else e:for(;V!==null;){if(_e=V,_e.flags&2048)switch(_e.tag){case 0:case 11:case 15:Qj(9,_e,_e.return)}var ut=_e.sibling;if(ut!==null){ut.return=_e.return,V=ut;break e}V=_e.return}}var dt=o.current;for(V=dt;V!==null;){et=V;var ct=et.child;if(et.subtreeFlags&2064&&ct!==null)ct.return=et,V=ct;else e:for(et=dt;V!==null;){if(tt=V,tt.flags&2048)try{switch(tt.tag){case 0:case 11:case 15:Rj(9,tt)}}catch(mt){W(tt,tt.return,mt)}if(tt===et){V=null;break e}var ht=tt.sibling;if(ht!==null){ht.return=tt.return,V=ht;break e}V=tt.return}}if(K=j,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}$=!0}return $}finally{C=a,pk.transition=s}}return!1}function Yk(o,s,a){s=Ki(a,s),s=Oi(o,s,1),o=dh(o,s,1),s=L(),o!==null&&(Ac(o,1,s),Ek(o,s))}function W(o,s,a){if(o.tag===3)Yk(o,o,a);else for(;s!==null;){if(s.tag===3){Yk(s,o,a);break}else if(s.tag===1){var $=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof $.componentDidCatch=="function"&&(Si===null||!Si.has($))){o=Ki(a,o),o=Ri(s,o,1),s=dh(s,o,1),o=L(),s!==null&&(Ac(s,1,o),Ek(s,o));break}}s=s.return}}function Ui(o,s,a){var $=o.pingCache;$!==null&&$.delete(s),s=L(),o.pingedLanes|=o.suspendedLanes&a,R===o&&(Z&a)===a&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(o,0):sk|=a),Ek(o,s)}function Zk(o,s){s===0&&(o.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var a=L();o=Zg(o,s),o!==null&&(Ac(o,s,a),Ek(o,a))}function vj(o){var s=o.memoizedState,a=0;s!==null&&(a=s.retryLane),Zk(o,a)}function ck(o,s){var a=0;switch(o.tag){case 13:var $=o.stateNode,j=o.memoizedState;j!==null&&(a=j.retryLane);break;case 19:$=o.stateNode;break;default:throw Error(p(314))}$!==null&&$.delete(s),Zk(o,a)}var Wk;Wk=function(o,s,a){if(o!==null)if(o.memoizedProps!==s.pendingProps||Wf.current)Ug=!0;else{if(!(o.lanes&a)&&!(s.flags&128))return Ug=!1,zj(o,s,a);Ug=!!(o.flags&131072)}else Ug=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var $=s.type;jj(o,s),o=s.pendingProps;var j=Yf(s,H.current);Tg(s,a),j=Xh(null,s,$,o,j,a);var _e=bi();return s.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf($)?(_e=!0,cg(s)):_e=!1,s.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,ah(s),j.updater=nh,s.stateNode=j,j._reactInternals=s,rh(s,$,o,a),s=kj(null,s,$,!0,_e,a)):(s.tag=0,I&&_e&&vg(s),Yi(null,s,j,a),s=s.child),s;case 16:$=s.elementType;e:{switch(jj(o,s),o=s.pendingProps,j=$._init,$=j($._payload),s.type=$,j=s.tag=$k($),o=Lg($,o),j){case 0:s=dj(null,s,$,o,a);break e;case 1:s=ij(null,s,$,o,a);break e;case 11:s=Zi(null,s,$,o,a);break e;case 14:s=aj(null,s,$,Lg($.type,o),a);break e}throw Error(p(306,$,""))}return s;case 0:return $=s.type,j=s.pendingProps,j=s.elementType===$?j:Lg($,j),dj(o,s,$,j,a);case 1:return $=s.type,j=s.pendingProps,j=s.elementType===$?j:Lg($,j),ij(o,s,$,j,a);case 3:e:{if(lj(s),o===null)throw Error(p(387));$=s.pendingProps,_e=s.memoizedState,j=_e.element,bh(o,s),gh(s,$,null,a);var et=s.memoizedState;if($=et.element,_e.isDehydrated)if(_e={element:$,isDehydrated:!1,cache:et.cache,pendingSuspenseBoundaries:et.pendingSuspenseBoundaries,transitions:et.transitions},s.updateQueue.baseState=_e,s.memoizedState=_e,s.flags&256){j=Ki(Error(p(423)),s),s=mj(o,s,$,a,j);break e}else if($!==j){j=Ki(Error(p(424)),s),s=mj(o,s,$,a,j);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,a=Ch(s,null,$,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),$===j){s=$i(o,s,a);break e}Yi(o,s,$,a)}s=s.child}return s;case 5:return Kh(s),o===null&&Eg(s),$=s.type,j=s.pendingProps,_e=o!==null?o.memoizedProps:null,et=j.children,Ef($,j)?et=null:_e!==null&&Ef($,_e)&&(s.flags|=32),hj(o,s),Yi(o,s,et,a),s.child;case 6:return o===null&&Eg(s),null;case 13:return pj(o,s,a);case 4:return Ih(s,s.stateNode.containerInfo),$=s.pendingProps,o===null?s.child=Bh(s,null,$,a):Yi(o,s,$,a),s.child;case 11:return $=s.type,j=s.pendingProps,j=s.elementType===$?j:Lg($,j),Zi(o,s,$,j,a);case 7:return Yi(o,s,s.pendingProps,a),s.child;case 8:return Yi(o,s,s.pendingProps.children,a),s.child;case 12:return Yi(o,s,s.pendingProps.children,a),s.child;case 10:e:{if($=s.type._context,j=s.pendingProps,_e=s.memoizedProps,et=j.value,G(Mg,$._currentValue),$._currentValue=et,_e!==null)if(He(_e.value,et)){if(_e.children===j.children&&!Wf.current){s=$i(o,s,a);break e}}else for(_e=s.child,_e!==null&&(_e.return=s);_e!==null;){var tt=_e.dependencies;if(tt!==null){et=_e.child;for(var rt=tt.firstContext;rt!==null;){if(rt.context===$){if(_e.tag===1){rt=ch(-1,a&-a),rt.tag=2;var nt=_e.updateQueue;if(nt!==null){nt=nt.shared;var it=nt.pending;it===null?rt.next=rt:(rt.next=it.next,it.next=rt),nt.pending=rt}}_e.lanes|=a,rt=_e.alternate,rt!==null&&(rt.lanes|=a),Sg(_e.return,a,s),tt.lanes|=a;break}rt=rt.next}}else if(_e.tag===10)et=_e.type===s.type?null:_e.child;else if(_e.tag===18){if(et=_e.return,et===null)throw Error(p(341));et.lanes|=a,tt=et.alternate,tt!==null&&(tt.lanes|=a),Sg(et,a,s),et=_e.sibling}else et=_e.child;if(et!==null)et.return=_e;else for(et=_e;et!==null;){if(et===s){et=null;break}if(_e=et.sibling,_e!==null){_e.return=et.return,et=_e;break}et=et.return}_e=et}Yi(o,s,j.children,a),s=s.child}return s;case 9:return j=s.type,$=s.pendingProps.children,Tg(s,a),j=Vg(j),$=$(j),s.flags|=1,Yi(o,s,$,a),s.child;case 14:return $=s.type,j=Lg($,s.pendingProps),j=Lg($.type,j),aj(o,s,$,j,a);case 15:return cj(o,s,s.type,s.pendingProps,a);case 17:return $=s.type,j=s.pendingProps,j=s.elementType===$?j:Lg($,j),jj(o,s),s.tag=1,Zf($)?(o=!0,cg(s)):o=!1,Tg(s,a),ph(s,$,j),rh(s,$,j,a),kj(null,s,$,!0,o,a);case 19:return yj(o,s,a);case 22:return ej(o,s,a)}throw Error(p(156,s.tag))};function Gk(o,s){return ac(o,s)}function al(o,s,a,$){this.tag=o,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,s,a,$){return new al(o,s,a,$)}function bj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $k(o){if(typeof o=="function")return bj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function wh(o,s){var a=o.alternate;return a===null?(a=Bg(o.tag,s,o.key,o.mode),a.elementType=o.elementType,a.type=o.type,a.stateNode=o.stateNode,a.alternate=o,o.alternate=a):(a.pendingProps=s,a.type=o.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=o.flags&14680064,a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,s=o.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=o.sibling,a.index=o.index,a.ref=o.ref,a}function yh(o,s,a,$,j,_e){var et=2;if($=o,typeof o=="function")bj(o)&&(et=1);else if(typeof o=="string")et=5;else e:switch(o){case ya:return Ah(a.children,j,_e,s);case za:et=8,j|=8;break;case Aa:return o=Bg(12,a,s,j|2),o.elementType=Aa,o.lanes=_e,o;case Ea:return o=Bg(13,a,s,j),o.elementType=Ea,o.lanes=_e,o;case Fa:return o=Bg(19,a,s,j),o.elementType=Fa,o.lanes=_e,o;case Ia:return qj(a,j,_e,s);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:et=10;break e;case Ca:et=9;break e;case Da:et=11;break e;case Ga:et=14;break e;case Ha:et=16,$=null;break e}throw Error(p(130,o==null?o:typeof o,""))}return s=Bg(et,a,s,j),s.elementType=o,s.type=$,s.lanes=_e,s}function Ah(o,s,a,$){return o=Bg(7,o,$,s),o.lanes=a,o}function qj(o,s,a,$){return o=Bg(22,o,$,s),o.elementType=Ia,o.lanes=a,o.stateNode={isHidden:!1},o}function xh(o,s,a){return o=Bg(6,o,null,s),o.lanes=a,o}function zh(o,s,a){return s=Bg(4,o.children!==null?o.children:[],o.key,s),s.lanes=a,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}function bl(o,s,a,$,j){this.tag=s,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=$,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function cl(o,s,a,$,j,_e,et,tt,rt){return o=new bl(o,s,a,tt,rt),s===1?(s=1,_e===!0&&(s|=8)):s=0,_e=Bg(3,null,null,s),o.current=_e,_e.stateNode=o,_e.memoizedState={element:$,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(_e),o}function dl(o,s,a){var $=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:$==null?null:""+$,children:o,containerInfo:s,implementation:a}}function el(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p(170));var s=o;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(o.tag===1){var a=o.type;if(Zf(a))return bg(o,a,s)}return s}function fl(o,s,a,$,j,_e,et,tt,rt){return o=cl(a,$,!0,o,j,_e,et,tt,rt),o.context=el(null),a=o.current,$=L(),j=lh(a),_e=ch($,j),_e.callback=s??null,dh(a,_e,j),o.current.lanes=j,Ac(o,j,$),Ek(o,$),o}function gl(o,s,a,$){var j=s.current,_e=L(),et=lh(j);return a=el(a),s.context===null?s.context=a:s.pendingContext=a,s=ch(_e,et),s.payload={element:o},$=$===void 0?null:$,$!==null&&(s.callback=$),o=dh(j,s,et),o!==null&&(mh(o,j,et,_e),eh(o,j,et)),et}function hl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function il(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var a=o.retryLane;o.retryLane=a!==0&&a<s?a:s}}function jl(o,s){il(o,s),(o=o.alternate)&&il(o,s)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(o){console.error(o)};function ml(o){this._internalRoot=o}nl.prototype.render=ml.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(p(409));gl(o,s,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;Sk(function(){gl(null,o,null,null)}),s[uf]=null}};function nl(o){this._internalRoot=o}nl.prototype.unstable_scheduleHydration=function(o){if(o){var s=Hc();o={blockedOn:null,target:o,priority:s};for(var a=0;a<Qc.length&&s!==0&&s<Qc[a].priority;a++);Qc.splice(a,0,o),a===0&&Vc(o)}};function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(o,s,a,$,j){if(j){if(typeof $=="function"){var _e=$;$=function(){var nt=hl(et);_e.call(nt)}}var et=fl(s,$,o,0,null,!1,!1,"",ql);return o._reactRootContainer=et,o[uf]=et.current,sf(o.nodeType===8?o.parentNode:o),Sk(),et}for(;j=o.lastChild;)o.removeChild(j);if(typeof $=="function"){var tt=$;$=function(){var nt=hl(rt);tt.call(nt)}}var rt=cl(o,0,!1,null,null,!1,!1,"",ql);return o._reactRootContainer=rt,o[uf]=rt.current,sf(o.nodeType===8?o.parentNode:o),Sk(function(){gl(s,rt,a,$)}),rt}function sl(o,s,a,$,j){var _e=a._reactRootContainer;if(_e){var et=_e;if(typeof j=="function"){var tt=j;j=function(){var rt=hl(et);tt.call(rt)}}gl(s,et,o,j)}else et=rl(a,s,o,j,$);return hl(et)}Ec=function(o){switch(o.tag){case 3:var s=o.stateNode;if(s.current.memoizedState.isDehydrated){var a=tc(s.pendingLanes);a!==0&&(Cc(s,a|1),Ek(s,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var $=Zg(o,1);if($!==null){var j=L();mh($,o,1,j)}}),jl(o,1)}};Fc=function(o){if(o.tag===13){var s=Zg(o,134217728);if(s!==null){var a=L();mh(s,o,134217728,a)}jl(o,134217728)}};Gc=function(o){if(o.tag===13){var s=lh(o),a=Zg(o,s);if(a!==null){var $=L();mh(a,o,s,$)}jl(o,s)}};Hc=function(){return C};Ic=function(o,s){var a=C;try{return C=o,s()}finally{C=a}};yb=function(o,s,a){switch(s){case"input":if(bb(o,a),s=a.name,a.type==="radio"&&s!=null){for(a=o;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var $=a[s];if($!==o&&$.form===o.form){var j=Db($);if(!j)throw Error(p(90));Wa($),bb($,j)}}}break;case"textarea":ib(o,a);break;case"select":s=a.value,s!=null&&fb(o,!!a.multiple,s,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(o,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(s))throw Error(p(200));return dl(o,s,null,a)};reactDom_production_min.createRoot=function(o,s){if(!ol(o))throw Error(p(299));var a=!1,$="",j=ll;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&($=s.identifierPrefix),s.onRecoverableError!==void 0&&(j=s.onRecoverableError)),s=cl(o,1,!1,null,null,a,!1,$,j),o[uf]=s.current,sf(o.nodeType===8?o.parentNode:o),new ml(s)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(p(188)):(o=Object.keys(o).join(","),Error(p(268,o)));return o=Zb(s),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Sk(o)};reactDom_production_min.hydrate=function(o,s,a){if(!pl(s))throw Error(p(200));return sl(null,o,s,!0,a)};reactDom_production_min.hydrateRoot=function(o,s,a){if(!ol(o))throw Error(p(405));var $=a!=null&&a.hydratedSources||null,j=!1,_e="",et=ll;if(a!=null&&(a.unstable_strictMode===!0&&(j=!0),a.identifierPrefix!==void 0&&(_e=a.identifierPrefix),a.onRecoverableError!==void 0&&(et=a.onRecoverableError)),s=fl(s,null,o,1,a??null,j,!1,_e,et),o[uf]=s.current,sf(o),$)for(o=0;o<$.length;o++)a=$[o],j=a._getVersion,j=j(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,j]:s.mutableSourceEagerHydrationData.push(a,j);return new nl(s)};reactDom_production_min.render=function(o,s,a){if(!pl(s))throw Error(p(200));return sl(null,o,s,!1,a)};reactDom_production_min.unmountComponentAtNode=function(o){if(!pl(o))throw Error(p(40));return o._reactRootContainer?(Sk(function(){sl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,s,a,$){if(!pl(a))throw Error(p(200));if(o==null||o._reactInternals===void 0)throw Error(p(38));return sl(o,s,a,!1,$)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);function getContainer$1(o){return typeof o=="function"?o():o}const Portal=reactExports.forwardRef(function o(s,a){const{children:$,container:j,disablePortal:_e=!1}=s,[et,tt]=reactExports.useState(null),rt=useForkRef(reactExports.isValidElement($)?$.ref:null,a);if(useEnhancedEffect$1(()=>{_e||tt(getContainer$1(j)||document.body)},[j,_e]),useEnhancedEffect$1(()=>{if(et&&!_e)return setRef(a,et),()=>{setRef(a,null)}},[a,et,_e]),_e){if(reactExports.isValidElement($)){const nt={ref:rt};return reactExports.cloneElement($,nt)}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:$})}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:et&&reactDomExports.createPortal($,et)})}),Portal$1=Portal;function isOverflowing(o){const s=ownerDocument(o);return s.body===o?ownerWindow(o).innerWidth>s.documentElement.clientWidth:o.scrollHeight>o.clientHeight}function ariaHidden(o,s){s?o.setAttribute("aria-hidden","true"):o.removeAttribute("aria-hidden")}function getPaddingRight(o){return parseInt(ownerWindow(o).getComputedStyle(o).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(o){const a=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(o.tagName)!==-1,$=o.tagName==="INPUT"&&o.getAttribute("type")==="hidden";return a||$}function ariaHiddenSiblings(o,s,a,$,j){const _e=[s,a,...$];[].forEach.call(o.children,et=>{const tt=_e.indexOf(et)===-1,rt=!isAriaHiddenForbiddenOnElement(et);tt&&rt&&ariaHidden(et,j)})}function findIndexOf(o,s){let a=-1;return o.some(($,j)=>s($)?(a=j,!0):!1),a}function handleContainer(o,s){const a=[],$=o.container;if(!s.disableScrollLock){if(isOverflowing($)){const et=getScrollbarSize(ownerDocument($));a.push({value:$.style.paddingRight,property:"padding-right",el:$}),$.style.paddingRight=`${getPaddingRight($)+et}px`;const tt=ownerDocument($).querySelectorAll(".mui-fixed");[].forEach.call(tt,rt=>{a.push({value:rt.style.paddingRight,property:"padding-right",el:rt}),rt.style.paddingRight=`${getPaddingRight(rt)+et}px`})}let _e;if($.parentNode instanceof DocumentFragment)_e=ownerDocument($).body;else{const et=$.parentElement,tt=ownerWindow($);_e=(et==null?void 0:et.nodeName)==="HTML"&&tt.getComputedStyle(et).overflowY==="scroll"?et:$}a.push({value:_e.style.overflow,property:"overflow",el:_e},{value:_e.style.overflowX,property:"overflow-x",el:_e},{value:_e.style.overflowY,property:"overflow-y",el:_e}),_e.style.overflow="hidden"}return()=>{a.forEach(({value:_e,el:et,property:tt})=>{_e?et.style.setProperty(tt,_e):et.style.removeProperty(tt)})}}function getHiddenSiblings(o){const s=[];return[].forEach.call(o.children,a=>{a.getAttribute("aria-hidden")==="true"&&s.push(a)}),s}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(s,a){let $=this.modals.indexOf(s);if($!==-1)return $;$=this.modals.length,this.modals.push(s),s.modalRef&&ariaHidden(s.modalRef,!1);const j=getHiddenSiblings(a);ariaHiddenSiblings(a,s.mount,s.modalRef,j,!0);const _e=findIndexOf(this.containers,et=>et.container===a);return _e!==-1?(this.containers[_e].modals.push(s),$):(this.containers.push({modals:[s],container:a,restore:null,hiddenSiblings:j}),$)}mount(s,a){const $=findIndexOf(this.containers,_e=>_e.modals.indexOf(s)!==-1),j=this.containers[$];j.restore||(j.restore=handleContainer(j,a))}remove(s,a=!0){const $=this.modals.indexOf(s);if($===-1)return $;const j=findIndexOf(this.containers,et=>et.modals.indexOf(s)!==-1),_e=this.containers[j];if(_e.modals.splice(_e.modals.indexOf(s),1),this.modals.splice($,1),_e.modals.length===0)_e.restore&&_e.restore(),s.modalRef&&ariaHidden(s.modalRef,a),ariaHiddenSiblings(_e.container,s.mount,s.modalRef,_e.hiddenSiblings,!1),this.containers.splice(j,1);else{const et=_e.modals[_e.modals.length-1];et.modalRef&&ariaHidden(et.modalRef,!1)}return $}isTopModal(s){return this.modals.length>0&&this.modals[this.modals.length-1]===s}}function getModalUtilityClass(o){return generateUtilityClass("MuiModal",o)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const _excluded$u=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],useUtilityClasses$n=o=>{const{open:s,exited:a}=o;return composeClasses({root:["root",!s&&a&&"hidden"],backdrop:["backdrop"]},useClassNamesOverride(getModalUtilityClass))};function getContainer(o){return typeof o=="function"?o():o}function getHasTransition(o){return o?o.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager,Modal$2=reactExports.forwardRef(function o(s,a){var $,j;const{children:_e,closeAfterTransition:et=!1,container:tt,disableAutoFocus:rt=!1,disableEnforceFocus:nt=!1,disableEscapeKeyDown:it=!1,disablePortal:ot=!1,disableRestoreFocus:st=!1,disableScrollLock:at=!1,hideBackdrop:lt=!1,keepMounted:ft=!1,manager:pt=defaultManager,onBackdropClick:ut,onClose:dt,onKeyDown:ct,open:ht,onTransitionEnter:mt,onTransitionExited:vt,slotProps:yt={},slots:xt={}}=s,bt=_objectWithoutPropertiesLoose(s,_excluded$u),gt=pt,[wt,Et]=reactExports.useState(!ht),kt=reactExports.useRef({}),Ct=reactExports.useRef(null),Mt=reactExports.useRef(null),Ft=useForkRef(Mt,a),Tt=getHasTransition(_e),$t=($=s["aria-hidden"])!=null?$:!0,Dt=()=>ownerDocument(Ct.current),It=()=>(kt.current.modalRef=Mt.current,kt.current.mountNode=Ct.current,kt.current),Yt=()=>{gt.mount(It(),{disableScrollLock:at}),Mt.current&&(Mt.current.scrollTop=0)},Ht=useEventCallback(()=>{const qt=getContainer(tt)||Dt().body;gt.add(It(),qt),Mt.current&&Yt()}),jt=reactExports.useCallback(()=>gt.isTopModal(It()),[gt]),Bt=useEventCallback(qt=>{Ct.current=qt,!(!qt||!Mt.current)&&(ht&&jt()?Yt():ariaHidden(Mt.current,$t))}),Ot=reactExports.useCallback(()=>{gt.remove(It(),$t)},[gt,$t]);reactExports.useEffect(()=>()=>{Ot()},[Ot]),reactExports.useEffect(()=>{ht?Ht():(!Tt||!et)&&Ot()},[ht,Ot,Tt,et,Ht]);const Ut=_extends({},s,{closeAfterTransition:et,disableAutoFocus:rt,disableEnforceFocus:nt,disableEscapeKeyDown:it,disablePortal:ot,disableRestoreFocus:st,disableScrollLock:at,exited:wt,hideBackdrop:lt,keepMounted:ft}),Gt=useUtilityClasses$n(Ut),dn=()=>{Et(!1),mt&&mt()},tn=()=>{Et(!0),vt&&vt(),et&&Ot()},fn=qt=>{qt.target===qt.currentTarget&&(ut&&ut(qt),dt&&dt(qt,"backdropClick"))},nn=qt=>{ct&&ct(qt),!(qt.key!=="Escape"||!jt())&&(it||(qt.stopPropagation(),dt&&dt(qt,"escapeKeyDown")))},Xt={};_e.props.tabIndex===void 0&&(Xt.tabIndex="-1"),Tt&&(Xt.onEnter=createChainedFunction(dn,_e.props.onEnter),Xt.onExited=createChainedFunction(tn,_e.props.onExited));const an=(j=xt.root)!=null?j:"div",Kt=useSlotProps({elementType:an,externalSlotProps:yt.root,externalForwardedProps:bt,additionalProps:{ref:Ft,role:"presentation",onKeyDown:nn},className:Gt.root,ownerState:Ut}),zt=xt.backdrop,pn=useSlotProps({elementType:zt,externalSlotProps:yt.backdrop,additionalProps:{"aria-hidden":!0,onClick:fn,open:ht},className:Gt.backdrop,ownerState:Ut});return!ft&&!ht&&(!Tt||wt)?null:jsxRuntimeExports.jsx(Portal$1,{ref:Bt,container:tt,disablePortal:ot,children:jsxRuntimeExports.jsxs(an,_extends({},Kt,{children:[!lt&&zt?jsxRuntimeExports.jsx(zt,_extends({},pn)):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:nt,disableAutoFocus:rt,disableRestoreFocus:st,isEnabled:jt,open:ht,children:reactExports.cloneElement(_e,Xt)})]}))})}),ModalUnstyled=Modal$2,_excluded$t=["onChange","maxRows","minRows","style","value"];function getStyleValue(o){return parseInt(o,10)||0}const styles$2={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isEmpty$1(o){return o==null||Object.keys(o).length===0||o.outerHeightStyle===0&&!o.overflow}const TextareaAutosize=reactExports.forwardRef(function o(s,a){const{onChange:$,maxRows:j,minRows:_e=1,style:et,value:tt}=s,rt=_objectWithoutPropertiesLoose(s,_excluded$t),{current:nt}=reactExports.useRef(tt!=null),it=reactExports.useRef(null),ot=useForkRef(a,it),st=reactExports.useRef(null),at=reactExports.useRef(0),[lt,ft]=reactExports.useState({outerHeightStyle:0}),pt=reactExports.useCallback(()=>{const mt=it.current,yt=ownerWindow(mt).getComputedStyle(mt);if(yt.width==="0px")return{outerHeightStyle:0};const xt=st.current;xt.style.width=yt.width,xt.value=mt.value||s.placeholder||"x",xt.value.slice(-1)===`
`&&(xt.value+=" ");const bt=yt.boxSizing,gt=getStyleValue(yt.paddingBottom)+getStyleValue(yt.paddingTop),wt=getStyleValue(yt.borderBottomWidth)+getStyleValue(yt.borderTopWidth),Et=xt.scrollHeight;xt.value="x";const kt=xt.scrollHeight;let Ct=Et;_e&&(Ct=Math.max(Number(_e)*kt,Ct)),j&&(Ct=Math.min(Number(j)*kt,Ct)),Ct=Math.max(Ct,kt);const Mt=Ct+(bt==="border-box"?gt+wt:0),Ft=Math.abs(Ct-Et)<=1;return{outerHeightStyle:Mt,overflow:Ft}},[j,_e,s.placeholder]),ut=(mt,vt)=>{const{outerHeightStyle:yt,overflow:xt}=vt;return at.current<20&&(yt>0&&Math.abs((mt.outerHeightStyle||0)-yt)>1||mt.overflow!==xt)?(at.current+=1,{overflow:xt,outerHeightStyle:yt}):mt},dt=reactExports.useCallback(()=>{const mt=pt();isEmpty$1(mt)||ft(vt=>ut(vt,mt))},[pt]),ct=()=>{const mt=pt();isEmpty$1(mt)||reactDomExports.flushSync(()=>{ft(vt=>ut(vt,mt))})};reactExports.useEffect(()=>{const mt=debounce(()=>{at.current=0,it.current&&ct()});let vt;const yt=it.current,xt=ownerWindow(yt);return xt.addEventListener("resize",mt),typeof ResizeObserver<"u"&&(vt=new ResizeObserver(mt),vt.observe(yt)),()=>{mt.clear(),xt.removeEventListener("resize",mt),vt&&vt.disconnect()}}),useEnhancedEffect$1(()=>{dt()}),reactExports.useEffect(()=>{at.current=0},[tt]);const ht=mt=>{at.current=0,nt||dt(),$&&$(mt)};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",_extends({value:tt,onChange:ht,ref:ot,rows:_e,style:_extends({height:lt.outerHeightStyle,overflow:lt.overflow?"hidden":void 0},et)},rt)),jsxRuntimeExports.jsx("textarea",{"aria-hidden":!0,className:s.className,readOnly:!0,ref:st,tabIndex:-1,style:_extends({},styles$2.shadow,et,{paddingTop:0,paddingBottom:0})})]})}),TextareaAutosize$1=TextareaAutosize;function getSvgIconUtilityClass(o){return generateUtilityClass("MuiSvgIcon",o)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$s=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$m=o=>{const{color:s,fontSize:a,classes:$}=o,j={root:["root",s!=="inherit"&&`color${capitalize$1(s)}`,`fontSize${capitalize$1(a)}`]};return composeClasses(j,getSvgIconUtilityClass,$)},SvgIconRoot=styled$1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.root,a.color!=="inherit"&&s[`color${capitalize$1(a.color)}`],s[`fontSize${capitalize$1(a.fontSize)}`]]}})(({theme:o,ownerState:s})=>{var a,$,j,_e,et,tt,rt,nt,it,ot,st,at,lt,ft,pt,ut,dt;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:s.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(a=o.transitions)==null||($=a.create)==null?void 0:$.call(a,"fill",{duration:(j=o.transitions)==null||(_e=j.duration)==null?void 0:_e.shorter}),fontSize:{inherit:"inherit",small:((et=o.typography)==null||(tt=et.pxToRem)==null?void 0:tt.call(et,20))||"1.25rem",medium:((rt=o.typography)==null||(nt=rt.pxToRem)==null?void 0:nt.call(rt,24))||"1.5rem",large:((it=o.typography)==null||(ot=it.pxToRem)==null?void 0:ot.call(it,35))||"2.1875rem"}[s.fontSize],color:(st=(at=(o.vars||o).palette)==null||(lt=at[s.color])==null?void 0:lt.main)!=null?st:{action:(ft=(o.vars||o).palette)==null||(pt=ft.action)==null?void 0:pt.active,disabled:(ut=(o.vars||o).palette)==null||(dt=ut.action)==null?void 0:dt.disabled,inherit:void 0}[s.color]}}),SvgIcon=reactExports.forwardRef(function o(s,a){const $=useThemeProps({props:s,name:"MuiSvgIcon"}),{children:j,className:_e,color:et="inherit",component:tt="svg",fontSize:rt="medium",htmlColor:nt,inheritViewBox:it=!1,titleAccess:ot,viewBox:st="0 0 24 24"}=$,at=_objectWithoutPropertiesLoose($,_excluded$s),lt=reactExports.isValidElement(j)&&j.type==="svg",ft=_extends({},$,{color:et,component:tt,fontSize:rt,instanceFontSize:s.fontSize,inheritViewBox:it,viewBox:st,hasSvgAsChild:lt}),pt={};it||(pt.viewBox=st);const ut=useUtilityClasses$m(ft);return jsxRuntimeExports.jsxs(SvgIconRoot,_extends({as:tt,className:clsx(ut.root,_e),focusable:"false",color:nt,"aria-hidden":ot?void 0:!0,role:ot?"img":void 0,ref:a},pt,at,lt&&j.props,{ownerState:ft,children:[lt?j.props.children:j,ot?jsxRuntimeExports.jsx("title",{children:ot}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon$1=SvgIcon;function createSvgIcon$1(o,s){function a($,j){return jsxRuntimeExports.jsx(SvgIcon$1,_extends({"data-testid":`${s}Icon`,ref:j},$,{children:o}))}return a.muiName=SvgIcon$1.muiName,reactExports.memo(reactExports.forwardRef(a))}const unstable_ClassNameGenerator={configure:o=>{ClassNameGenerator$1.configure(o)}},utils=Object.freeze(Object.defineProperty({__proto__:null,capitalize:capitalize$1,createChainedFunction,createSvgIcon:createSvgIcon$1,debounce,deprecatedPropType,isMuiElement,ownerDocument,ownerWindow,requirePropFactory,setRef,unstable_ClassNameGenerator,unstable_useEnhancedEffect:useEnhancedEffect$1,unstable_useId:useId,unsupportedProp,useControlled,useEventCallback,useForkRef,useIsFocusVisible},Symbol.toStringTag,{value:"Module"}));function _setPrototypeOf(o,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf(o,s)}function _inheritsLoose(o,s){o.prototype=Object.create(s.prototype),o.prototype.constructor=o,_setPrototypeOf(o,s)}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function o(s){return s.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(o){_inheritsLoose(s,o);function s($,j){var _e;_e=o.call(this,$,j)||this;var et=j,tt=et&&!et.isMounting?$.enter:$.appear,rt;return _e.appearStatus=null,$.in?tt?(rt=EXITED,_e.appearStatus=ENTERING):rt=ENTERED:$.unmountOnExit||$.mountOnEnter?rt=UNMOUNTED:rt=EXITED,_e.state={status:rt},_e.nextCallback=null,_e}s.getDerivedStateFromProps=function(j,_e){var et=j.in;return et&&_e.status===UNMOUNTED?{status:EXITED}:null};var a=s.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(j){var _e=null;if(j!==this.props){var et=this.state.status;this.props.in?et!==ENTERING&&et!==ENTERED&&(_e=ENTERING):(et===ENTERING||et===ENTERED)&&(_e=EXITING)}this.updateStatus(!1,_e)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var j=this.props.timeout,_e,et,tt;return _e=et=tt=j,j!=null&&typeof j!="number"&&(_e=j.exit,et=j.enter,tt=j.appear!==void 0?j.appear:et),{exit:_e,enter:et,appear:tt}},a.updateStatus=function(j,_e){if(j===void 0&&(j=!1),_e!==null)if(this.cancelNextCallback(),_e===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var et=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);et&&forceReflow(et)}this.performEnter(j)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},a.performEnter=function(j){var _e=this,et=this.props.enter,tt=this.context?this.context.isMounting:j,rt=this.props.nodeRef?[tt]:[ReactDOM.findDOMNode(this),tt],nt=rt[0],it=rt[1],ot=this.getTimeouts(),st=tt?ot.appear:ot.enter;if(!j&&!et||config.disabled){this.safeSetState({status:ENTERED},function(){_e.props.onEntered(nt)});return}this.props.onEnter(nt,it),this.safeSetState({status:ENTERING},function(){_e.props.onEntering(nt,it),_e.onTransitionEnd(st,function(){_e.safeSetState({status:ENTERED},function(){_e.props.onEntered(nt,it)})})})},a.performExit=function(){var j=this,_e=this.props.exit,et=this.getTimeouts(),tt=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!_e||config.disabled){this.safeSetState({status:EXITED},function(){j.props.onExited(tt)});return}this.props.onExit(tt),this.safeSetState({status:EXITING},function(){j.props.onExiting(tt),j.onTransitionEnd(et.exit,function(){j.safeSetState({status:EXITED},function(){j.props.onExited(tt)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(j,_e){_e=this.setNextCallback(_e),this.setState(j,_e)},a.setNextCallback=function(j){var _e=this,et=!0;return this.nextCallback=function(tt){et&&(et=!1,_e.nextCallback=null,j(tt))},this.nextCallback.cancel=function(){et=!1},this.nextCallback},a.onTransitionEnd=function(j,_e){this.setNextCallback(_e);var et=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),tt=j==null&&!this.props.addEndListener;if(!et||tt){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var rt=this.props.nodeRef?[this.nextCallback]:[et,this.nextCallback],nt=rt[0],it=rt[1];this.props.addEndListener(nt,it)}j!=null&&setTimeout(this.nextCallback,j)},a.render=function(){var j=this.state.status;if(j===UNMOUNTED)return null;var _e=this.props,et=_e.children;_e.in,_e.mountOnEnter,_e.unmountOnExit,_e.appear,_e.enter,_e.exit,_e.timeout,_e.addEndListener,_e.onEnter,_e.onEntering,_e.onEntered,_e.onExit,_e.onExiting,_e.onExited,_e.nodeRef;var tt=_objectWithoutPropertiesLoose(_e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof et=="function"?et(j,tt):React.cloneElement(React.Children.only(et),tt))},s}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$1(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$1,onEntering:noop$1,onEntered:noop$1,onExit:noop$1,onExiting:noop$1,onExited:noop$1};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function _assertThisInitialized(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function getChildMapping(o,s){var a=function(_e){return s&&reactExports.isValidElement(_e)?s(_e):_e},$=Object.create(null);return o&&reactExports.Children.map(o,function(j){return j}).forEach(function(j){$[j.key]=a(j)}),$}function mergeChildMappings(o,s){o=o||{},s=s||{};function a(it){return it in s?s[it]:o[it]}var $=Object.create(null),j=[];for(var _e in o)_e in s?j.length&&($[_e]=j,j=[]):j.push(_e);var et,tt={};for(var rt in s){if($[rt])for(et=0;et<$[rt].length;et++){var nt=$[rt][et];tt[$[rt][et]]=a(nt)}tt[rt]=a(rt)}for(et=0;et<j.length;et++)tt[j[et]]=a(j[et]);return tt}function getProp(o,s,a){return a[s]!=null?a[s]:o.props[s]}function getInitialChildMapping(o,s){return getChildMapping(o.children,function(a){return reactExports.cloneElement(a,{onExited:s.bind(null,a),in:!0,appear:getProp(a,"appear",o),enter:getProp(a,"enter",o),exit:getProp(a,"exit",o)})})}function getNextChildMapping(o,s,a){var $=getChildMapping(o.children),j=mergeChildMappings(s,$);return Object.keys(j).forEach(function(_e){var et=j[_e];if(reactExports.isValidElement(et)){var tt=_e in s,rt=_e in $,nt=s[_e],it=reactExports.isValidElement(nt)&&!nt.props.in;rt&&(!tt||it)?j[_e]=reactExports.cloneElement(et,{onExited:a.bind(null,et),in:!0,exit:getProp(et,"exit",o),enter:getProp(et,"enter",o)}):!rt&&tt&&!it?j[_e]=reactExports.cloneElement(et,{in:!1}):rt&&tt&&reactExports.isValidElement(nt)&&(j[_e]=reactExports.cloneElement(et,{onExited:a.bind(null,et),in:nt.props.in,exit:getProp(et,"exit",o),enter:getProp(et,"enter",o)}))}}),j}var values=Object.values||function(o){return Object.keys(o).map(function(s){return o[s]})},defaultProps={component:"div",childFactory:function o(s){return s}},TransitionGroup=function(o){_inheritsLoose(s,o);function s($,j){var _e;_e=o.call(this,$,j)||this;var et=_e.handleExited.bind(_assertThisInitialized(_e));return _e.state={contextValue:{isMounting:!0},handleExited:et,firstRender:!0},_e}var a=s.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(j,_e){var et=_e.children,tt=_e.handleExited,rt=_e.firstRender;return{children:rt?getInitialChildMapping(j,tt):getNextChildMapping(j,et,tt),firstRender:!1}},a.handleExited=function(j,_e){var et=getChildMapping(this.props.children);j.key in et||(j.props.onExited&&j.props.onExited(_e),this.mounted&&this.setState(function(tt){var rt=_extends({},tt.children);return delete rt[j.key],{children:rt}}))},a.render=function(){var j=this.props,_e=j.component,et=j.childFactory,tt=_objectWithoutPropertiesLoose(j,["component","childFactory"]),rt=this.state.contextValue,nt=values(this.state.children).map(et);return delete tt.appear,delete tt.enter,delete tt.exit,_e===null?React.createElement(TransitionGroupContext.Provider,{value:rt},nt):React.createElement(TransitionGroupContext.Provider,{value:rt},React.createElement(_e,tt,nt))},s}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const TransitionGroup$1=TransitionGroup,reflow=o=>o.scrollTop;function getTransitionProps(o,s){var a,$;const{timeout:j,easing:_e,style:et={}}=o;return{duration:(a=et.transitionDuration)!=null?a:typeof j=="number"?j:j[s.mode]||0,easing:($=et.transitionTimingFunction)!=null?$:typeof _e=="object"?_e[s.mode]:_e,delay:et.transitionDelay}}function getPaperUtilityClass(o){return generateUtilityClass("MuiPaper",o)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$r=["className","component","elevation","square","variant"],useUtilityClasses$l=o=>{const{square:s,elevation:a,variant:$,classes:j}=o,_e={root:["root",$,!s&&"rounded",$==="elevation"&&`elevation${a}`]};return composeClasses(_e,getPaperUtilityClass,j)},PaperRoot=styled$1("div",{name:"MuiPaper",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.root,s[a.variant],!a.square&&s.rounded,a.variant==="elevation"&&s[`elevation${a.elevation}`]]}})(({theme:o,ownerState:s})=>{var a;return _extends({backgroundColor:(o.vars||o).palette.background.paper,color:(o.vars||o).palette.text.primary,transition:o.transitions.create("box-shadow")},!s.square&&{borderRadius:o.shape.borderRadius},s.variant==="outlined"&&{border:`1px solid ${(o.vars||o).palette.divider}`},s.variant==="elevation"&&_extends({boxShadow:(o.vars||o).shadows[s.elevation]},!o.vars&&o.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha$1(s.elevation))}, ${alpha("#fff",getOverlayAlpha$1(s.elevation))})`},o.vars&&{backgroundImage:(a=o.vars.overlays)==null?void 0:a[s.elevation]}))}),Paper=reactExports.forwardRef(function o(s,a){const $=useThemeProps({props:s,name:"MuiPaper"}),{className:j,component:_e="div",elevation:et=1,square:tt=!1,variant:rt="elevation"}=$,nt=_objectWithoutPropertiesLoose($,_excluded$r),it=_extends({},$,{component:_e,elevation:et,square:tt,variant:rt}),ot=useUtilityClasses$l(it);return jsxRuntimeExports.jsx(PaperRoot,_extends({as:_e,ownerState:it,className:clsx(ot.root,j),ref:a},nt))}),Paper$1=Paper;function Ripple(o){const{className:s,classes:a,pulsate:$=!1,rippleX:j,rippleY:_e,rippleSize:et,in:tt,onExited:rt,timeout:nt}=o,[it,ot]=reactExports.useState(!1),st=clsx(s,a.ripple,a.rippleVisible,$&&a.ripplePulsate),at={width:et,height:et,top:-(et/2)+_e,left:-(et/2)+j},lt=clsx(a.child,it&&a.childLeaving,$&&a.childPulsate);return!tt&&!it&&ot(!0),reactExports.useEffect(()=>{if(!tt&&rt!=null){const ft=setTimeout(rt,nt);return()=>{clearTimeout(ft)}}},[rt,tt,nt]),jsxRuntimeExports.jsx("span",{className:st,style:at,children:jsxRuntimeExports.jsx("span",{className:lt})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),touchRippleClasses$1=touchRippleClasses,_excluded$q=["center","classes","className"];let _=o=>o,_t,_t2,_t3,_t4;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t||(_t=_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2||(_t2=_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3||(_t3=_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled$1("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled$1(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4||(_t4=_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:o})=>o.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:o})=>o.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:o})=>o.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:o})=>o.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function o(s,a){const $=useThemeProps({props:s,name:"MuiTouchRipple"}),{center:j=!1,classes:_e={},className:et}=$,tt=_objectWithoutPropertiesLoose($,_excluded$q),[rt,nt]=reactExports.useState([]),it=reactExports.useRef(0),ot=reactExports.useRef(null);reactExports.useEffect(()=>{ot.current&&(ot.current(),ot.current=null)},[rt]);const st=reactExports.useRef(!1),at=reactExports.useRef(0),lt=reactExports.useRef(null),ft=reactExports.useRef(null);reactExports.useEffect(()=>()=>{at.current&&clearTimeout(at.current)},[]);const pt=reactExports.useCallback(ht=>{const{pulsate:mt,rippleX:vt,rippleY:yt,rippleSize:xt,cb:bt}=ht;nt(gt=>[...gt,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(_e.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx(_e.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx(_e.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx(_e.child,touchRippleClasses$1.child),childLeaving:clsx(_e.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx(_e.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:mt,rippleX:vt,rippleY:yt,rippleSize:xt},it.current)]),it.current+=1,ot.current=bt},[_e]),ut=reactExports.useCallback((ht={},mt={},vt=()=>{})=>{const{pulsate:yt=!1,center:xt=j||mt.pulsate,fakeElement:bt=!1}=mt;if((ht==null?void 0:ht.type)==="mousedown"&&st.current){st.current=!1;return}(ht==null?void 0:ht.type)==="touchstart"&&(st.current=!0);const gt=bt?null:ft.current,wt=gt?gt.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Et,kt,Ct;if(xt||ht===void 0||ht.clientX===0&&ht.clientY===0||!ht.clientX&&!ht.touches)Et=Math.round(wt.width/2),kt=Math.round(wt.height/2);else{const{clientX:Mt,clientY:Ft}=ht.touches&&ht.touches.length>0?ht.touches[0]:ht;Et=Math.round(Mt-wt.left),kt=Math.round(Ft-wt.top)}if(xt)Ct=Math.sqrt((2*wt.width**2+wt.height**2)/3),Ct%2===0&&(Ct+=1);else{const Mt=Math.max(Math.abs((gt?gt.clientWidth:0)-Et),Et)*2+2,Ft=Math.max(Math.abs((gt?gt.clientHeight:0)-kt),kt)*2+2;Ct=Math.sqrt(Mt**2+Ft**2)}ht!=null&&ht.touches?lt.current===null&&(lt.current=()=>{pt({pulsate:yt,rippleX:Et,rippleY:kt,rippleSize:Ct,cb:vt})},at.current=setTimeout(()=>{lt.current&&(lt.current(),lt.current=null)},DELAY_RIPPLE)):pt({pulsate:yt,rippleX:Et,rippleY:kt,rippleSize:Ct,cb:vt})},[j,pt]),dt=reactExports.useCallback(()=>{ut({},{pulsate:!0})},[ut]),ct=reactExports.useCallback((ht,mt)=>{if(clearTimeout(at.current),(ht==null?void 0:ht.type)==="touchend"&&lt.current){lt.current(),lt.current=null,at.current=setTimeout(()=>{ct(ht,mt)});return}lt.current=null,nt(vt=>vt.length>0?vt.slice(1):vt),ot.current=mt},[]);return reactExports.useImperativeHandle(a,()=>({pulsate:dt,start:ut,stop:ct}),[dt,ut,ct]),jsxRuntimeExports.jsx(TouchRippleRoot,_extends({className:clsx(touchRippleClasses$1.root,_e.root,et),ref:ft},tt,{children:jsxRuntimeExports.jsx(TransitionGroup$1,{component:null,exit:!0,children:rt})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(o){return generateUtilityClass("MuiButtonBase",o)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),buttonBaseClasses$1=buttonBaseClasses,_excluded$p=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$k=o=>{const{disabled:s,focusVisible:a,focusVisibleClassName:$,classes:j}=o,et=composeClasses({root:["root",s&&"disabled",a&&"focusVisible"]},getButtonBaseUtilityClass,j);return a&&$&&(et.root+=` ${$}`),et},ButtonBaseRoot=styled$1("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(o,s)=>s.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function o(s,a){const $=useThemeProps({props:s,name:"MuiButtonBase"}),{action:j,centerRipple:_e=!1,children:et,className:tt,component:rt="button",disabled:nt=!1,disableRipple:it=!1,disableTouchRipple:ot=!1,focusRipple:st=!1,LinkComponent:at="a",onBlur:lt,onClick:ft,onContextMenu:pt,onDragLeave:ut,onFocus:dt,onFocusVisible:ct,onKeyDown:ht,onKeyUp:mt,onMouseDown:vt,onMouseLeave:yt,onMouseUp:xt,onTouchEnd:bt,onTouchMove:gt,onTouchStart:wt,tabIndex:Et=0,TouchRippleProps:kt,touchRippleRef:Ct,type:Mt}=$,Ft=_objectWithoutPropertiesLoose($,_excluded$p),Tt=reactExports.useRef(null),$t=reactExports.useRef(null),Dt=useForkRef($t,Ct),{isFocusVisibleRef:It,onFocus:Yt,onBlur:Ht,ref:jt}=useIsFocusVisible(),[Bt,Ot]=reactExports.useState(!1);nt&&Bt&&Ot(!1),reactExports.useImperativeHandle(j,()=>({focusVisible:()=>{Ot(!0),Tt.current.focus()}}),[]);const[Ut,Gt]=reactExports.useState(!1);reactExports.useEffect(()=>{Gt(!0)},[]);const dn=Ut&&!it&&!nt;reactExports.useEffect(()=>{Bt&&st&&!it&&Ut&&$t.current.pulsate()},[it,st,Bt,Ut]);function tn(Lt,Wt,un=ot){return useEventCallback(on=>(Wt&&Wt(on),!un&&$t.current&&$t.current[Lt](on),!0))}const fn=tn("start",vt),nn=tn("stop",pt),Xt=tn("stop",ut),an=tn("stop",xt),Kt=tn("stop",Lt=>{Bt&&Lt.preventDefault(),yt&&yt(Lt)}),zt=tn("start",wt),pn=tn("stop",bt),qt=tn("stop",gt),hn=tn("stop",Lt=>{Ht(Lt),It.current===!1&&Ot(!1),lt&&lt(Lt)},!1),At=useEventCallback(Lt=>{Tt.current||(Tt.current=Lt.currentTarget),Yt(Lt),It.current===!0&&(Ot(!0),ct&&ct(Lt)),dt&&dt(Lt)}),Qt=()=>{const Lt=Tt.current;return rt&&rt!=="button"&&!(Lt.tagName==="A"&&Lt.href)},Jt=reactExports.useRef(!1),ln=useEventCallback(Lt=>{st&&!Jt.current&&Bt&&$t.current&&Lt.key===" "&&(Jt.current=!0,$t.current.stop(Lt,()=>{$t.current.start(Lt)})),Lt.target===Lt.currentTarget&&Qt()&&Lt.key===" "&&Lt.preventDefault(),ht&&ht(Lt),Lt.target===Lt.currentTarget&&Qt()&&Lt.key==="Enter"&&!nt&&(Lt.preventDefault(),ft&&ft(Lt))}),Nt=useEventCallback(Lt=>{st&&Lt.key===" "&&$t.current&&Bt&&!Lt.defaultPrevented&&(Jt.current=!1,$t.current.stop(Lt,()=>{$t.current.pulsate(Lt)})),mt&&mt(Lt),ft&&Lt.target===Lt.currentTarget&&Qt()&&Lt.key===" "&&!Lt.defaultPrevented&&ft(Lt)});let mn=rt;mn==="button"&&(Ft.href||Ft.to)&&(mn=at);const gn={};mn==="button"?(gn.type=Mt===void 0?"button":Mt,gn.disabled=nt):(!Ft.href&&!Ft.to&&(gn.role="button"),nt&&(gn["aria-disabled"]=nt));const en=useForkRef(a,jt,Tt),rn=_extends({},$,{centerRipple:_e,component:rt,disabled:nt,disableRipple:it,disableTouchRipple:ot,focusRipple:st,tabIndex:Et,focusVisible:Bt}),Zt=useUtilityClasses$k(rn);return jsxRuntimeExports.jsxs(ButtonBaseRoot,_extends({as:mn,className:clsx(Zt.root,tt),ownerState:rn,onBlur:hn,onClick:ft,onContextMenu:nn,onFocus:At,onKeyDown:ln,onKeyUp:Nt,onMouseDown:fn,onMouseLeave:Kt,onMouseUp:an,onDragLeave:Xt,onTouchEnd:pn,onTouchMove:qt,onTouchStart:zt,ref:en,tabIndex:nt?-1:Et,type:Mt},gn,Ft,{children:[et,dn?jsxRuntimeExports.jsx(TouchRipple$1,_extends({ref:Dt,center:_e},kt)):null]}))}),ButtonBase$1=ButtonBase;function getIconButtonUtilityClass(o){return generateUtilityClass("MuiIconButton",o)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),iconButtonClasses$1=iconButtonClasses,_excluded$o=["edge","children","className","color","disabled","disableFocusRipple","size"],useUtilityClasses$j=o=>{const{classes:s,disabled:a,color:$,edge:j,size:_e}=o,et={root:["root",a&&"disabled",$!=="default"&&`color${capitalize$1($)}`,j&&`edge${capitalize$1(j)}`,`size${capitalize$1(_e)}`]};return composeClasses(et,getIconButtonUtilityClass,s)},IconButtonRoot=styled$1(ButtonBase$1,{name:"MuiIconButton",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.root,a.color!=="default"&&s[`color${capitalize$1(a.color)}`],a.edge&&s[`edge${capitalize$1(a.edge)}`],s[`size${capitalize$1(a.size)}`]]}})(({theme:o,ownerState:s})=>_extends({textAlign:"center",flex:"0 0 auto",fontSize:o.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(o.vars||o).palette.action.active,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest})},!s.disableRipple&&{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.action.activeChannel} / ${o.vars.palette.action.hoverOpacity})`:alpha(o.palette.action.active,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},s.edge==="start"&&{marginLeft:s.size==="small"?-3:-12},s.edge==="end"&&{marginRight:s.size==="small"?-3:-12}),({theme:o,ownerState:s})=>{var a;const $=(a=(o.vars||o).palette)==null?void 0:a[s.color];return _extends({},s.color==="inherit"&&{color:"inherit"},s.color!=="inherit"&&s.color!=="default"&&_extends({color:$==null?void 0:$.main},!s.disableRipple&&{"&:hover":_extends({},$&&{backgroundColor:o.vars?`rgba(${$.mainChannel} / ${o.vars.palette.action.hoverOpacity})`:alpha($.main,o.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),s.size==="small"&&{padding:5,fontSize:o.typography.pxToRem(18)},s.size==="large"&&{padding:12,fontSize:o.typography.pxToRem(28)},{[`&.${iconButtonClasses$1.disabled}`]:{backgroundColor:"transparent",color:(o.vars||o).palette.action.disabled}})}),IconButton=reactExports.forwardRef(function o(s,a){const $=useThemeProps({props:s,name:"MuiIconButton"}),{edge:j=!1,children:_e,className:et,color:tt="default",disabled:rt=!1,disableFocusRipple:nt=!1,size:it="medium"}=$,ot=_objectWithoutPropertiesLoose($,_excluded$o),st=_extends({},$,{edge:j,color:tt,disabled:rt,disableFocusRipple:nt,size:it}),at=useUtilityClasses$j(st);return jsxRuntimeExports.jsx(IconButtonRoot,_extends({className:clsx(at.root,et),centerRipple:!0,focusRipple:!nt,disabled:rt,ref:a,ownerState:st},ot,{children:_e}))}),IconButton$1=IconButton;function getTypographyUtilityClass(o){return generateUtilityClass("MuiTypography",o)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$n=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$i=o=>{const{align:s,gutterBottom:a,noWrap:$,paragraph:j,variant:_e,classes:et}=o,tt={root:["root",_e,o.align!=="inherit"&&`align${capitalize$1(s)}`,a&&"gutterBottom",$&&"noWrap",j&&"paragraph"]};return composeClasses(tt,getTypographyUtilityClass,et)},TypographyRoot=styled$1("span",{name:"MuiTypography",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.root,a.variant&&s[a.variant],a.align!=="inherit"&&s[`align${capitalize$1(a.align)}`],a.noWrap&&s.noWrap,a.gutterBottom&&s.gutterBottom,a.paragraph&&s.paragraph]}})(({theme:o,ownerState:s})=>_extends({margin:0},s.variant&&o.typography[s.variant],s.align!=="inherit"&&{textAlign:s.align},s.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},s.gutterBottom&&{marginBottom:"0.35em"},s.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=o=>colorTransformations[o]||o,Typography=reactExports.forwardRef(function o(s,a){const $=useThemeProps({props:s,name:"MuiTypography"}),j=transformDeprecatedColors($.color),_e=extendSxProp(_extends({},$,{color:j})),{align:et="inherit",className:tt,component:rt,gutterBottom:nt=!1,noWrap:it=!1,paragraph:ot=!1,variant:st="body1",variantMapping:at=defaultVariantMapping}=_e,lt=_objectWithoutPropertiesLoose(_e,_excluded$n),ft=_extends({},_e,{align:et,color:j,className:tt,component:rt,gutterBottom:nt,noWrap:it,paragraph:ot,variant:st,variantMapping:at}),pt=rt||(ot?"p":at[st]||defaultVariantMapping[st])||"span",ut=useUtilityClasses$i(ft);return jsxRuntimeExports.jsx(TypographyRoot,_extends({as:pt,ref:a,ownerState:ft,className:clsx(ut.root,tt)},lt))}),Typography$1=Typography;function getAppBarUtilityClass(o){return generateUtilityClass("MuiAppBar",o)}generateUtilityClasses("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const _excluded$m=["className","color","enableColorOnDark","position"],useUtilityClasses$h=o=>{const{color:s,position:a,classes:$}=o,j={root:["root",`color${capitalize$1(s)}`,`position${capitalize$1(a)}`]};return composeClasses(j,getAppBarUtilityClass,$)},joinVars=(o,s)=>o?`${o==null?void 0:o.replace(")","")}, ${s})`:s,AppBarRoot=styled$1(Paper$1,{name:"MuiAppBar",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.root,s[`position${capitalize$1(a.position)}`],s[`color${capitalize$1(a.color)}`]]}})(({theme:o,ownerState:s})=>{const a=o.palette.mode==="light"?o.palette.grey[100]:o.palette.grey[900];return _extends({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},s.position==="fixed"&&{position:"fixed",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},s.position==="absolute"&&{position:"absolute",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0},s.position==="sticky"&&{position:"sticky",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0},s.position==="static"&&{position:"static"},s.position==="relative"&&{position:"relative"},!o.vars&&_extends({},s.color==="default"&&{backgroundColor:a,color:o.palette.getContrastText(a)},s.color&&s.color!=="default"&&s.color!=="inherit"&&s.color!=="transparent"&&{backgroundColor:o.palette[s.color].main,color:o.palette[s.color].contrastText},s.color==="inherit"&&{color:"inherit"},o.palette.mode==="dark"&&!s.enableColorOnDark&&{backgroundColor:null,color:null},s.color==="transparent"&&_extends({backgroundColor:"transparent",color:"inherit"},o.palette.mode==="dark"&&{backgroundImage:"none"})),o.vars&&_extends({},s.color==="default"&&{"--AppBar-background":s.enableColorOnDark?o.vars.palette.AppBar.defaultBg:joinVars(o.vars.palette.AppBar.darkBg,o.vars.palette.AppBar.defaultBg),"--AppBar-color":s.enableColorOnDark?o.vars.palette.text.primary:joinVars(o.vars.palette.AppBar.darkColor,o.vars.palette.text.primary)},s.color&&!s.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":s.enableColorOnDark?o.vars.palette[s.color].main:joinVars(o.vars.palette.AppBar.darkBg,o.vars.palette[s.color].main),"--AppBar-color":s.enableColorOnDark?o.vars.palette[s.color].contrastText:joinVars(o.vars.palette.AppBar.darkColor,o.vars.palette[s.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:s.color==="inherit"?"inherit":"var(--AppBar-color)"},s.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),AppBar=reactExports.forwardRef(function o(s,a){const $=useThemeProps({props:s,name:"MuiAppBar"}),{className:j,color:_e="primary",enableColorOnDark:et=!1,position:tt="fixed"}=$,rt=_objectWithoutPropertiesLoose($,_excluded$m),nt=_extends({},$,{color:_e,position:tt,enableColorOnDark:et}),it=useUtilityClasses$h(nt);return jsxRuntimeExports.jsx(AppBarRoot,_extends({square:!0,component:"header",ownerState:nt,elevation:4,className:clsx(it.root,j,tt==="fixed"&&"mui-fixed"),ref:a},rt))}),AppBar$1=AppBar;function formControlState({props:o,states:s,muiFormControl:a}){return s.reduce(($,j)=>($[j]=o[j],a&&typeof o[j]>"u"&&($[j]=a[j]),$),{})}const FormControlContext=reactExports.createContext(void 0),FormControlContext$1=FormControlContext;function useFormControl(){return reactExports.useContext(FormControlContext$1)}function GlobalStyles(o){return jsxRuntimeExports.jsx(GlobalStyles$1,_extends({},o,{defaultTheme:defaultTheme$1,themeId:THEME_ID}))}function hasValue(o){return o!=null&&!(Array.isArray(o)&&o.length===0)}function isFilled(o,s=!1){return o&&(hasValue(o.value)&&o.value!==""||s&&hasValue(o.defaultValue)&&o.defaultValue!=="")}function isAdornedStart(o){return o.startAdornment}function getInputBaseUtilityClass(o){return generateUtilityClass("MuiInputBase",o)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),inputBaseClasses$1=inputBaseClasses,_excluded$l=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rootOverridesResolver=(o,s)=>{const{ownerState:a}=o;return[s.root,a.formControl&&s.formControl,a.startAdornment&&s.adornedStart,a.endAdornment&&s.adornedEnd,a.error&&s.error,a.size==="small"&&s.sizeSmall,a.multiline&&s.multiline,a.color&&s[`color${capitalize$1(a.color)}`],a.fullWidth&&s.fullWidth,a.hiddenLabel&&s.hiddenLabel]},inputOverridesResolver=(o,s)=>{const{ownerState:a}=o;return[s.input,a.size==="small"&&s.inputSizeSmall,a.multiline&&s.inputMultiline,a.type==="search"&&s.inputTypeSearch,a.startAdornment&&s.inputAdornedStart,a.endAdornment&&s.inputAdornedEnd,a.hiddenLabel&&s.inputHiddenLabel]},useUtilityClasses$g=o=>{const{classes:s,color:a,disabled:$,error:j,endAdornment:_e,focused:et,formControl:tt,fullWidth:rt,hiddenLabel:nt,multiline:it,readOnly:ot,size:st,startAdornment:at,type:lt}=o,ft={root:["root",`color${capitalize$1(a)}`,$&&"disabled",j&&"error",rt&&"fullWidth",et&&"focused",tt&&"formControl",st==="small"&&"sizeSmall",it&&"multiline",at&&"adornedStart",_e&&"adornedEnd",nt&&"hiddenLabel",ot&&"readOnly"],input:["input",$&&"disabled",lt==="search"&&"inputTypeSearch",it&&"inputMultiline",st==="small"&&"inputSizeSmall",nt&&"inputHiddenLabel",at&&"inputAdornedStart",_e&&"inputAdornedEnd",ot&&"readOnly"]};return composeClasses(ft,getInputBaseUtilityClass,s)},InputBaseRoot=styled$1("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:o,ownerState:s})=>_extends({},o.typography.body1,{color:(o.vars||o).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses$1.disabled}`]:{color:(o.vars||o).palette.text.disabled,cursor:"default"}},s.multiline&&_extends({padding:"4px 0 5px"},s.size==="small"&&{paddingTop:1}),s.fullWidth&&{width:"100%"})),InputBaseComponent=styled$1("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:o,ownerState:s})=>{const a=o.palette.mode==="light",$=_extends({color:"currentColor"},o.vars?{opacity:o.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5},{transition:o.transitions.create("opacity",{duration:o.transitions.duration.shorter})}),j={opacity:"0 !important"},_e=o.vars?{opacity:o.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5};return _extends({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":$,"&::-moz-placeholder":$,"&:-ms-input-placeholder":$,"&::-ms-input-placeholder":$,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses$1.formControl} &`]:{"&::-webkit-input-placeholder":j,"&::-moz-placeholder":j,"&:-ms-input-placeholder":j,"&::-ms-input-placeholder":j,"&:focus::-webkit-input-placeholder":_e,"&:focus::-moz-placeholder":_e,"&:focus:-ms-input-placeholder":_e,"&:focus::-ms-input-placeholder":_e},[`&.${inputBaseClasses$1.disabled}`]:{opacity:1,WebkitTextFillColor:(o.vars||o).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},s.size==="small"&&{paddingTop:1},s.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},s.type==="search"&&{MozAppearance:"textfield"})}),inputGlobalStyles=jsxRuntimeExports.jsx(GlobalStyles,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=reactExports.forwardRef(function o(s,a){var $;const j=useThemeProps({props:s,name:"MuiInputBase"}),{"aria-describedby":_e,autoComplete:et,autoFocus:tt,className:rt,components:nt={},componentsProps:it={},defaultValue:ot,disabled:st,disableInjectingGlobalStyles:at,endAdornment:lt,fullWidth:ft=!1,id:pt,inputComponent:ut="input",inputProps:dt={},inputRef:ct,maxRows:ht,minRows:mt,multiline:vt=!1,name:yt,onBlur:xt,onChange:bt,onClick:gt,onFocus:wt,onKeyDown:Et,onKeyUp:kt,placeholder:Ct,readOnly:Mt,renderSuffix:Ft,rows:Tt,slotProps:$t={},slots:Dt={},startAdornment:It,type:Yt="text",value:Ht}=j,jt=_objectWithoutPropertiesLoose(j,_excluded$l),Bt=dt.value!=null?dt.value:Ht,{current:Ot}=reactExports.useRef(Bt!=null),Ut=reactExports.useRef(),Gt=reactExports.useCallback(Zt=>{},[]),dn=useForkRef(Ut,ct,dt.ref,Gt),[tn,fn]=reactExports.useState(!1),nn=useFormControl(),Xt=formControlState({props:j,muiFormControl:nn,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Xt.focused=nn?nn.focused:tn,reactExports.useEffect(()=>{!nn&&st&&tn&&(fn(!1),xt&&xt())},[nn,st,tn,xt]);const an=nn&&nn.onFilled,Kt=nn&&nn.onEmpty,zt=reactExports.useCallback(Zt=>{isFilled(Zt)?an&&an():Kt&&Kt()},[an,Kt]);useEnhancedEffect$1(()=>{Ot&&zt({value:Bt})},[Bt,zt,Ot]);const pn=Zt=>{if(Xt.disabled){Zt.stopPropagation();return}wt&&wt(Zt),dt.onFocus&&dt.onFocus(Zt),nn&&nn.onFocus?nn.onFocus(Zt):fn(!0)},qt=Zt=>{xt&&xt(Zt),dt.onBlur&&dt.onBlur(Zt),nn&&nn.onBlur?nn.onBlur(Zt):fn(!1)},hn=(Zt,...Lt)=>{if(!Ot){const Wt=Zt.target||Ut.current;if(Wt==null)throw new Error(formatMuiErrorMessage(1));zt({value:Wt.value})}dt.onChange&&dt.onChange(Zt,...Lt),bt&&bt(Zt,...Lt)};reactExports.useEffect(()=>{zt(Ut.current)},[]);const At=Zt=>{Ut.current&&Zt.currentTarget===Zt.target&&Ut.current.focus(),gt&&!Xt.disabled&&gt(Zt)};let Qt=ut,Jt=dt;vt&&Qt==="input"&&(Tt?Jt=_extends({type:void 0,minRows:Tt,maxRows:Tt},Jt):Jt=_extends({type:void 0,maxRows:ht,minRows:mt},Jt),Qt=TextareaAutosize$1);const ln=Zt=>{zt(Zt.animationName==="mui-auto-fill-cancel"?Ut.current:{value:"x"})};reactExports.useEffect(()=>{nn&&nn.setAdornedStart(!!It)},[nn,It]);const Nt=_extends({},j,{color:Xt.color||"primary",disabled:Xt.disabled,endAdornment:lt,error:Xt.error,focused:Xt.focused,formControl:nn,fullWidth:ft,hiddenLabel:Xt.hiddenLabel,multiline:vt,size:Xt.size,startAdornment:It,type:Yt}),mn=useUtilityClasses$g(Nt),gn=Dt.root||nt.Root||InputBaseRoot,en=$t.root||it.root||{},rn=Dt.input||nt.Input||InputBaseComponent;return Jt=_extends({},Jt,($=$t.input)!=null?$:it.input),jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[!at&&inputGlobalStyles,jsxRuntimeExports.jsxs(gn,_extends({},en,!isHostComponent(gn)&&{ownerState:_extends({},Nt,en.ownerState)},{ref:a,onClick:At},jt,{className:clsx(mn.root,en.className,rt,Mt&&"MuiInputBase-readOnly"),children:[It,jsxRuntimeExports.jsx(FormControlContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(rn,_extends({ownerState:Nt,"aria-invalid":Xt.error,"aria-describedby":_e,autoComplete:et,autoFocus:tt,defaultValue:ot,disabled:Xt.disabled,id:pt,onAnimationStart:ln,name:yt,placeholder:Ct,readOnly:Mt,required:Xt.required,rows:Tt,value:Bt,onKeyDown:Et,onKeyUp:kt,type:Yt},Jt,!isHostComponent(rn)&&{as:Qt,ownerState:_extends({},Nt,Jt.ownerState)},{ref:dn,className:clsx(mn.input,Jt.className,Mt&&"MuiInputBase-readOnly"),onBlur:qt,onChange:hn,onFocus:pn}))}),lt,Ft?Ft(_extends({},Xt,{startAdornment:It})):null]}))]})}),InputBase$1=InputBase;function getInputUtilityClass(o){return generateUtilityClass("MuiInput",o)}const inputClasses=_extends({},inputBaseClasses$1,generateUtilityClasses("MuiInput",["root","underline","input"])),inputClasses$1=inputClasses;function getOutlinedInputUtilityClass(o){return generateUtilityClass("MuiOutlinedInput",o)}const outlinedInputClasses=_extends({},inputBaseClasses$1,generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"])),outlinedInputClasses$1=outlinedInputClasses;function getFilledInputUtilityClass(o){return generateUtilityClass("MuiFilledInput",o)}const filledInputClasses=_extends({},inputBaseClasses$1,generateUtilityClasses("MuiFilledInput",["root","underline","input"])),filledInputClasses$1=filledInputClasses,ArrowDropDownIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),_excluded$k=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$1={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function o(s,a){const $=useTheme(),j={enter:$.transitions.duration.enteringScreen,exit:$.transitions.duration.leavingScreen},{addEndListener:_e,appear:et=!0,children:tt,easing:rt,in:nt,onEnter:it,onEntered:ot,onEntering:st,onExit:at,onExited:lt,onExiting:ft,style:pt,timeout:ut=j,TransitionComponent:dt=Transition$1}=s,ct=_objectWithoutPropertiesLoose(s,_excluded$k),ht=reactExports.useRef(null),mt=useForkRef(ht,tt.ref,a),vt=Ct=>Mt=>{if(Ct){const Ft=ht.current;Mt===void 0?Ct(Ft):Ct(Ft,Mt)}},yt=vt(st),xt=vt((Ct,Mt)=>{reflow(Ct);const Ft=getTransitionProps({style:pt,timeout:ut,easing:rt},{mode:"enter"});Ct.style.webkitTransition=$.transitions.create("opacity",Ft),Ct.style.transition=$.transitions.create("opacity",Ft),it&&it(Ct,Mt)}),bt=vt(ot),gt=vt(ft),wt=vt(Ct=>{const Mt=getTransitionProps({style:pt,timeout:ut,easing:rt},{mode:"exit"});Ct.style.webkitTransition=$.transitions.create("opacity",Mt),Ct.style.transition=$.transitions.create("opacity",Mt),at&&at(Ct)}),Et=vt(lt),kt=Ct=>{_e&&_e(ht.current,Ct)};return jsxRuntimeExports.jsx(dt,_extends({appear:et,in:nt,nodeRef:ht,onEnter:xt,onEntered:bt,onEntering:yt,onExit:wt,onExited:Et,onExiting:gt,addEndListener:kt,timeout:ut},ct,{children:(Ct,Mt)=>reactExports.cloneElement(tt,_extends({style:_extends({opacity:0,visibility:Ct==="exited"&&!nt?"hidden":void 0},styles$1[Ct],pt,tt.props.style),ref:mt},Mt))}))}),Fade$1=Fade;function getBackdropUtilityClass(o){return generateUtilityClass("MuiBackdrop",o)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const _excluded$j=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],useUtilityClasses$f=o=>{const{classes:s,invisible:a}=o;return composeClasses({root:["root",a&&"invisible"]},getBackdropUtilityClass,s)},BackdropRoot=styled$1("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.root,a.invisible&&s.invisible]}})(({ownerState:o})=>_extends({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},o.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function o(s,a){var $,j,_e;const et=useThemeProps({props:s,name:"MuiBackdrop"}),{children:tt,className:rt,component:nt="div",components:it={},componentsProps:ot={},invisible:st=!1,open:at,slotProps:lt={},slots:ft={},TransitionComponent:pt=Fade$1,transitionDuration:ut}=et,dt=_objectWithoutPropertiesLoose(et,_excluded$j),ct=_extends({},et,{component:nt,invisible:st}),ht=useUtilityClasses$f(ct),mt=($=lt.root)!=null?$:ot.root;return jsxRuntimeExports.jsx(pt,_extends({in:at,timeout:ut},dt,{children:jsxRuntimeExports.jsx(BackdropRoot,_extends({"aria-hidden":!0},mt,{as:(j=(_e=ft.root)!=null?_e:it.Root)!=null?j:nt,className:clsx(ht.root,rt,mt==null?void 0:mt.className),ownerState:_extends({},ct,mt==null?void 0:mt.ownerState),classes:ht,ref:a,children:tt}))}))}),Backdrop$1=Backdrop,_excluded$i=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],ModalRoot=styled$1("div",{name:"MuiModal",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.root,!a.open&&a.exited&&s.hidden]}})(({theme:o,ownerState:s})=>_extends({position:"fixed",zIndex:(o.vars||o).zIndex.modal,right:0,bottom:0,top:0,left:0},!s.open&&s.exited&&{visibility:"hidden"})),ModalBackdrop=styled$1(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(o,s)=>s.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function o(s,a){var $,j,_e,et,tt,rt;const nt=useThemeProps({name:"MuiModal",props:s}),{BackdropComponent:it=ModalBackdrop,BackdropProps:ot,classes:st,className:at,closeAfterTransition:lt=!1,children:ft,container:pt,component:ut,components:dt={},componentsProps:ct={},disableAutoFocus:ht=!1,disableEnforceFocus:mt=!1,disableEscapeKeyDown:vt=!1,disablePortal:yt=!1,disableRestoreFocus:xt=!1,disableScrollLock:bt=!1,hideBackdrop:gt=!1,keepMounted:wt=!1,onBackdropClick:Et,onClose:kt,open:Ct,slotProps:Mt,slots:Ft,theme:Tt}=nt,$t=_objectWithoutPropertiesLoose(nt,_excluded$i),[Dt,It]=reactExports.useState(!0),Yt={container:pt,closeAfterTransition:lt,disableAutoFocus:ht,disableEnforceFocus:mt,disableEscapeKeyDown:vt,disablePortal:yt,disableRestoreFocus:xt,disableScrollLock:bt,hideBackdrop:gt,keepMounted:wt,onBackdropClick:Et,onClose:kt,open:Ct},Ht=_extends({},nt,Yt,{exited:Dt}),jt=($=(j=Ft==null?void 0:Ft.root)!=null?j:dt.Root)!=null?$:ModalRoot,Bt=(_e=(et=Ft==null?void 0:Ft.backdrop)!=null?et:dt.Backdrop)!=null?_e:it,Ot=(tt=Mt==null?void 0:Mt.root)!=null?tt:ct.root,Ut=(rt=Mt==null?void 0:Mt.backdrop)!=null?rt:ct.backdrop;return jsxRuntimeExports.jsx(ModalUnstyled,_extends({slots:{root:jt,backdrop:Bt},slotProps:{root:()=>_extends({},resolveComponentProps(Ot,Ht),!isHostComponent(jt)&&{as:ut,theme:Tt},{className:clsx(at,Ot==null?void 0:Ot.className,st==null?void 0:st.root,!Ht.open&&Ht.exited&&(st==null?void 0:st.hidden))}),backdrop:()=>_extends({},ot,resolveComponentProps(Ut,Ht),{className:clsx(Ut==null?void 0:Ut.className,ot==null?void 0:ot.className,st==null?void 0:st.backdrop)})},onTransitionEnter:()=>It(!1),onTransitionExited:()=>It(!0),ref:a},$t,Yt,{children:ft}))}),Modal$1=Modal,_excluded$h=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$e=o=>{const{classes:s,disableUnderline:a}=o,j=composeClasses({root:["root",!a&&"underline"],input:["input"]},getFilledInputUtilityClass,s);return _extends({},s,j)},FilledInputRoot=styled$1(InputBaseRoot,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[...rootOverridesResolver(o,s),!a.disableUnderline&&s.underline]}})(({theme:o,ownerState:s})=>{var a;const $=o.palette.mode==="light",j=$?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",_e=$?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",et=$?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",tt=$?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return _extends({position:"relative",backgroundColor:o.vars?o.vars.palette.FilledInput.bg:_e,borderTopLeftRadius:(o.vars||o).shape.borderRadius,borderTopRightRadius:(o.vars||o).shape.borderRadius,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),"&:hover":{backgroundColor:o.vars?o.vars.palette.FilledInput.hoverBg:et,"@media (hover: none)":{backgroundColor:o.vars?o.vars.palette.FilledInput.bg:_e}},[`&.${filledInputClasses$1.focused}`]:{backgroundColor:o.vars?o.vars.palette.FilledInput.bg:_e},[`&.${filledInputClasses$1.disabled}`]:{backgroundColor:o.vars?o.vars.palette.FilledInput.disabledBg:tt}},!s.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(a=(o.vars||o).palette[s.color||"primary"])==null?void 0:a.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses$1.error}`]:{"&:before, &:after":{borderBottomColor:(o.vars||o).palette.error.main}},"&:before":{borderBottom:`1px solid ${o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / ${o.vars.opacity.inputUnderline})`:j}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:o.transitions.create("border-bottom-color",{duration:o.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses$1.disabled}, .${filledInputClasses$1.error}):before`]:{borderBottom:`1px solid ${(o.vars||o).palette.text.primary}`},[`&.${filledInputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}},s.startAdornment&&{paddingLeft:12},s.endAdornment&&{paddingRight:12},s.multiline&&_extends({padding:"25px 12px 8px"},s.size==="small"&&{paddingTop:21,paddingBottom:4},s.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),FilledInputInput=styled$1(InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:o,ownerState:s})=>_extends({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!o.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:o.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:o.palette.mode==="light"?null:"#fff",caretColor:o.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},o.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[o.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},s.size==="small"&&{paddingTop:21,paddingBottom:4},s.hiddenLabel&&{paddingTop:16,paddingBottom:17},s.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},s.startAdornment&&{paddingLeft:0},s.endAdornment&&{paddingRight:0},s.hiddenLabel&&s.size==="small"&&{paddingTop:8,paddingBottom:9})),FilledInput=reactExports.forwardRef(function o(s,a){var $,j,_e,et;const tt=useThemeProps({props:s,name:"MuiFilledInput"}),{components:rt={},componentsProps:nt,fullWidth:it=!1,inputComponent:ot="input",multiline:st=!1,slotProps:at,slots:lt={},type:ft="text"}=tt,pt=_objectWithoutPropertiesLoose(tt,_excluded$h),ut=_extends({},tt,{fullWidth:it,inputComponent:ot,multiline:st,type:ft}),dt=useUtilityClasses$e(tt),ct={root:{ownerState:ut},input:{ownerState:ut}},ht=at??nt?deepmerge(at??nt,ct):ct,mt=($=(j=lt.root)!=null?j:rt.Root)!=null?$:FilledInputRoot,vt=(_e=(et=lt.input)!=null?et:rt.Input)!=null?_e:FilledInputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends({slots:{root:mt,input:vt},componentsProps:ht,fullWidth:it,inputComponent:ot,multiline:st,ref:a,type:ft},pt,{classes:dt}))});FilledInput.muiName="Input";const FilledInput$1=FilledInput;function getFormControlUtilityClasses(o){return generateUtilityClass("MuiFormControl",o)}generateUtilityClasses("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _excluded$g=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],useUtilityClasses$d=o=>{const{classes:s,margin:a,fullWidth:$}=o,j={root:["root",a!=="none"&&`margin${capitalize$1(a)}`,$&&"fullWidth"]};return composeClasses(j,getFormControlUtilityClasses,s)},FormControlRoot=styled$1("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:o},s)=>_extends({},s.root,s[`margin${capitalize$1(o.margin)}`],o.fullWidth&&s.fullWidth)})(({ownerState:o})=>_extends({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},o.margin==="normal"&&{marginTop:16,marginBottom:8},o.margin==="dense"&&{marginTop:8,marginBottom:4},o.fullWidth&&{width:"100%"})),FormControl=reactExports.forwardRef(function o(s,a){const $=useThemeProps({props:s,name:"MuiFormControl"}),{children:j,className:_e,color:et="primary",component:tt="div",disabled:rt=!1,error:nt=!1,focused:it,fullWidth:ot=!1,hiddenLabel:st=!1,margin:at="none",required:lt=!1,size:ft="medium",variant:pt="outlined"}=$,ut=_objectWithoutPropertiesLoose($,_excluded$g),dt=_extends({},$,{color:et,component:tt,disabled:rt,error:nt,fullWidth:ot,hiddenLabel:st,margin:at,required:lt,size:ft,variant:pt}),ct=useUtilityClasses$d(dt),[ht,mt]=reactExports.useState(()=>{let kt=!1;return j&&reactExports.Children.forEach(j,Ct=>{if(!isMuiElement(Ct,["Input","Select"]))return;const Mt=isMuiElement(Ct,["Select"])?Ct.props.input:Ct;Mt&&isAdornedStart(Mt.props)&&(kt=!0)}),kt}),[vt,yt]=reactExports.useState(()=>{let kt=!1;return j&&reactExports.Children.forEach(j,Ct=>{isMuiElement(Ct,["Input","Select"])&&(isFilled(Ct.props,!0)||isFilled(Ct.props.inputProps,!0))&&(kt=!0)}),kt}),[xt,bt]=reactExports.useState(!1);rt&&xt&&bt(!1);const gt=it!==void 0&&!rt?it:xt;let wt;const Et=reactExports.useMemo(()=>({adornedStart:ht,setAdornedStart:mt,color:et,disabled:rt,error:nt,filled:vt,focused:gt,fullWidth:ot,hiddenLabel:st,size:ft,onBlur:()=>{bt(!1)},onEmpty:()=>{yt(!1)},onFilled:()=>{yt(!0)},onFocus:()=>{bt(!0)},registerEffect:wt,required:lt,variant:pt}),[ht,et,rt,nt,vt,gt,ot,st,wt,lt,ft,pt]);return jsxRuntimeExports.jsx(FormControlContext$1.Provider,{value:Et,children:jsxRuntimeExports.jsx(FormControlRoot,_extends({as:tt,ownerState:dt,className:clsx(ct.root,_e),ref:a},ut,{children:j}))})}),FormControl$1=FormControl;function getFormHelperTextUtilityClasses(o){return generateUtilityClass("MuiFormHelperText",o)}const formHelperTextClasses=generateUtilityClasses("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),formHelperTextClasses$1=formHelperTextClasses;var _span$2;const _excluded$f=["children","className","component","disabled","error","filled","focused","margin","required","variant"],useUtilityClasses$c=o=>{const{classes:s,contained:a,size:$,disabled:j,error:_e,filled:et,focused:tt,required:rt}=o,nt={root:["root",j&&"disabled",_e&&"error",$&&`size${capitalize$1($)}`,a&&"contained",tt&&"focused",et&&"filled",rt&&"required"]};return composeClasses(nt,getFormHelperTextUtilityClasses,s)},FormHelperTextRoot=styled$1("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.root,a.size&&s[`size${capitalize$1(a.size)}`],a.contained&&s.contained,a.filled&&s.filled]}})(({theme:o,ownerState:s})=>_extends({color:(o.vars||o).palette.text.secondary},o.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${formHelperTextClasses$1.disabled}`]:{color:(o.vars||o).palette.text.disabled},[`&.${formHelperTextClasses$1.error}`]:{color:(o.vars||o).palette.error.main}},s.size==="small"&&{marginTop:4},s.contained&&{marginLeft:14,marginRight:14})),FormHelperText=reactExports.forwardRef(function o(s,a){const $=useThemeProps({props:s,name:"MuiFormHelperText"}),{children:j,className:_e,component:et="p"}=$,tt=_objectWithoutPropertiesLoose($,_excluded$f),rt=useFormControl(),nt=formControlState({props:$,muiFormControl:rt,states:["variant","size","disabled","error","filled","focused","required"]}),it=_extends({},$,{component:et,contained:nt.variant==="filled"||nt.variant==="outlined",variant:nt.variant,size:nt.size,disabled:nt.disabled,error:nt.error,filled:nt.filled,focused:nt.focused,required:nt.required}),ot=useUtilityClasses$c(it);return jsxRuntimeExports.jsx(FormHelperTextRoot,_extends({as:et,ownerState:it,className:clsx(ot.root,_e),ref:a},tt,{children:j===" "?_span$2||(_span$2=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"})):j}))}),FormHelperText$1=FormHelperText;function getFormLabelUtilityClasses(o){return generateUtilityClass("MuiFormLabel",o)}const formLabelClasses=generateUtilityClasses("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),formLabelClasses$1=formLabelClasses,_excluded$e=["children","className","color","component","disabled","error","filled","focused","required"],useUtilityClasses$b=o=>{const{classes:s,color:a,focused:$,disabled:j,error:_e,filled:et,required:tt}=o,rt={root:["root",`color${capitalize$1(a)}`,j&&"disabled",_e&&"error",et&&"filled",$&&"focused",tt&&"required"],asterisk:["asterisk",_e&&"error"]};return composeClasses(rt,getFormLabelUtilityClasses,s)},FormLabelRoot=styled$1("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:o},s)=>_extends({},s.root,o.color==="secondary"&&s.colorSecondary,o.filled&&s.filled)})(({theme:o,ownerState:s})=>_extends({color:(o.vars||o).palette.text.secondary},o.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${formLabelClasses$1.focused}`]:{color:(o.vars||o).palette[s.color].main},[`&.${formLabelClasses$1.disabled}`]:{color:(o.vars||o).palette.text.disabled},[`&.${formLabelClasses$1.error}`]:{color:(o.vars||o).palette.error.main}})),AsteriskComponent=styled$1("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(o,s)=>s.asterisk})(({theme:o})=>({[`&.${formLabelClasses$1.error}`]:{color:(o.vars||o).palette.error.main}})),FormLabel=reactExports.forwardRef(function o(s,a){const $=useThemeProps({props:s,name:"MuiFormLabel"}),{children:j,className:_e,component:et="label"}=$,tt=_objectWithoutPropertiesLoose($,_excluded$e),rt=useFormControl(),nt=formControlState({props:$,muiFormControl:rt,states:["color","required","focused","disabled","error","filled"]}),it=_extends({},$,{color:nt.color||"primary",component:et,disabled:nt.disabled,error:nt.error,filled:nt.filled,focused:nt.focused,required:nt.required}),ot=useUtilityClasses$b(it);return jsxRuntimeExports.jsxs(FormLabelRoot,_extends({as:et,ownerState:it,className:clsx(ot.root,_e),ref:a},tt,{children:[j,nt.required&&jsxRuntimeExports.jsxs(AsteriskComponent,{ownerState:it,"aria-hidden":!0,className:ot.asterisk,children:[" ","*"]})]}))}),FormLabel$1=FormLabel,_excluded$d=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getScale(o){return`scale(${o}, ${o**2})`}const styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function o(s,a){const{addEndListener:$,appear:j=!0,children:_e,easing:et,in:tt,onEnter:rt,onEntered:nt,onEntering:it,onExit:ot,onExited:st,onExiting:at,style:lt,timeout:ft="auto",TransitionComponent:pt=Transition$1}=s,ut=_objectWithoutPropertiesLoose(s,_excluded$d),dt=reactExports.useRef(),ct=reactExports.useRef(),ht=useTheme(),mt=reactExports.useRef(null),vt=useForkRef(mt,_e.ref,a),yt=Mt=>Ft=>{if(Mt){const Tt=mt.current;Ft===void 0?Mt(Tt):Mt(Tt,Ft)}},xt=yt(it),bt=yt((Mt,Ft)=>{reflow(Mt);const{duration:Tt,delay:$t,easing:Dt}=getTransitionProps({style:lt,timeout:ft,easing:et},{mode:"enter"});let It;ft==="auto"?(It=ht.transitions.getAutoHeightDuration(Mt.clientHeight),ct.current=It):It=Tt,Mt.style.transition=[ht.transitions.create("opacity",{duration:It,delay:$t}),ht.transitions.create("transform",{duration:isWebKit154?It:It*.666,delay:$t,easing:Dt})].join(","),rt&&rt(Mt,Ft)}),gt=yt(nt),wt=yt(at),Et=yt(Mt=>{const{duration:Ft,delay:Tt,easing:$t}=getTransitionProps({style:lt,timeout:ft,easing:et},{mode:"exit"});let Dt;ft==="auto"?(Dt=ht.transitions.getAutoHeightDuration(Mt.clientHeight),ct.current=Dt):Dt=Ft,Mt.style.transition=[ht.transitions.create("opacity",{duration:Dt,delay:Tt}),ht.transitions.create("transform",{duration:isWebKit154?Dt:Dt*.666,delay:isWebKit154?Tt:Tt||Dt*.333,easing:$t})].join(","),Mt.style.opacity=0,Mt.style.transform=getScale(.75),ot&&ot(Mt)}),kt=yt(st),Ct=Mt=>{ft==="auto"&&(dt.current=setTimeout(Mt,ct.current||0)),$&&$(mt.current,Mt)};return reactExports.useEffect(()=>()=>{clearTimeout(dt.current)},[]),jsxRuntimeExports.jsx(pt,_extends({appear:j,in:tt,nodeRef:mt,onEnter:bt,onEntered:gt,onEntering:xt,onExit:Et,onExited:kt,onExiting:wt,addEndListener:Ct,timeout:ft==="auto"?null:ft},ut,{children:(Mt,Ft)=>reactExports.cloneElement(_e,_extends({style:_extends({opacity:0,transform:getScale(.75),visibility:Mt==="exited"&&!tt?"hidden":void 0},styles[Mt],lt,_e.props.style),ref:vt},Ft))}))});Grow.muiSupportAuto=!0;const Grow$1=Grow,_excluded$c=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$a=o=>{const{classes:s,disableUnderline:a}=o,j=composeClasses({root:["root",!a&&"underline"],input:["input"]},getInputUtilityClass,s);return _extends({},s,j)},InputRoot=styled$1(InputBaseRoot,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiInput",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[...rootOverridesResolver(o,s),!a.disableUnderline&&s.underline]}})(({theme:o,ownerState:s})=>{let $=o.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return o.vars&&($=`rgba(${o.vars.palette.common.onBackgroundChannel} / ${o.vars.opacity.inputUnderline})`),_extends({position:"relative"},s.formControl&&{"label + &":{marginTop:16}},!s.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(o.vars||o).palette[s.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses$1.error}`]:{"&:before, &:after":{borderBottomColor:(o.vars||o).palette.error.main}},"&:before":{borderBottom:`1px solid ${$}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:o.transitions.create("border-bottom-color",{duration:o.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses$1.disabled}, .${inputClasses$1.error}):before`]:{borderBottom:`2px solid ${(o.vars||o).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${$}`}},[`&.${inputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}})}),InputInput=styled$1(InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=reactExports.forwardRef(function o(s,a){var $,j,_e,et;const tt=useThemeProps({props:s,name:"MuiInput"}),{disableUnderline:rt,components:nt={},componentsProps:it,fullWidth:ot=!1,inputComponent:st="input",multiline:at=!1,slotProps:lt,slots:ft={},type:pt="text"}=tt,ut=_objectWithoutPropertiesLoose(tt,_excluded$c),dt=useUtilityClasses$a(tt),ht={root:{ownerState:{disableUnderline:rt}}},mt=lt??it?deepmerge(lt??it,ht):ht,vt=($=(j=ft.root)!=null?j:nt.Root)!=null?$:InputRoot,yt=(_e=(et=ft.input)!=null?et:nt.Input)!=null?_e:InputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends({slots:{root:vt,input:yt},slotProps:mt,fullWidth:ot,inputComponent:st,multiline:at,ref:a,type:pt},ut,{classes:dt}))});Input.muiName="Input";const Input$1=Input;function getInputLabelUtilityClasses(o){return generateUtilityClass("MuiInputLabel",o)}generateUtilityClasses("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _excluded$b=["disableAnimation","margin","shrink","variant","className"],useUtilityClasses$9=o=>{const{classes:s,formControl:a,size:$,shrink:j,disableAnimation:_e,variant:et,required:tt}=o,nt=composeClasses({root:["root",a&&"formControl",!_e&&"animated",j&&"shrink",$==="small"&&"sizeSmall",et],asterisk:[tt&&"asterisk"]},getInputLabelUtilityClasses,s);return _extends({},s,nt)},InputLabelRoot=styled$1(FormLabel$1,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[{[`& .${formLabelClasses$1.asterisk}`]:s.asterisk},s.root,a.formControl&&s.formControl,a.size==="small"&&s.sizeSmall,a.shrink&&s.shrink,!a.disableAnimation&&s.animated,s[a.variant]]}})(({theme:o,ownerState:s})=>_extends({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},s.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},s.size==="small"&&{transform:"translate(0, 17px) scale(1)"},s.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!s.disableAnimation&&{transition:o.transitions.create(["color","transform","max-width"],{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut})},s.variant==="filled"&&_extends({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},s.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},s.shrink&&_extends({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},s.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),s.variant==="outlined"&&_extends({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},s.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},s.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),InputLabel=reactExports.forwardRef(function o(s,a){const $=useThemeProps({name:"MuiInputLabel",props:s}),{disableAnimation:j=!1,shrink:_e,className:et}=$,tt=_objectWithoutPropertiesLoose($,_excluded$b),rt=useFormControl();let nt=_e;typeof nt>"u"&&rt&&(nt=rt.filled||rt.focused||rt.adornedStart);const it=formControlState({props:$,muiFormControl:rt,states:["size","variant","required"]}),ot=_extends({},$,{disableAnimation:j,formControl:rt,shrink:nt,size:it.size,variant:it.variant,required:it.required}),st=useUtilityClasses$9(ot);return jsxRuntimeExports.jsx(InputLabelRoot,_extends({"data-shrink":nt,ownerState:ot,ref:a,className:clsx(st.root,et)},tt,{classes:st}))}),InputLabel$1=InputLabel,ListContext=reactExports.createContext({}),ListContext$1=ListContext;function getListUtilityClass(o){return generateUtilityClass("MuiList",o)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const _excluded$a=["children","className","component","dense","disablePadding","subheader"],useUtilityClasses$8=o=>{const{classes:s,disablePadding:a,dense:$,subheader:j}=o;return composeClasses({root:["root",!a&&"padding",$&&"dense",j&&"subheader"]},getListUtilityClass,s)},ListRoot=styled$1("ul",{name:"MuiList",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.root,!a.disablePadding&&s.padding,a.dense&&s.dense,a.subheader&&s.subheader]}})(({ownerState:o})=>_extends({listStyle:"none",margin:0,padding:0,position:"relative"},!o.disablePadding&&{paddingTop:8,paddingBottom:8},o.subheader&&{paddingTop:0})),List=reactExports.forwardRef(function o(s,a){const $=useThemeProps({props:s,name:"MuiList"}),{children:j,className:_e,component:et="ul",dense:tt=!1,disablePadding:rt=!1,subheader:nt}=$,it=_objectWithoutPropertiesLoose($,_excluded$a),ot=reactExports.useMemo(()=>({dense:tt}),[tt]),st=_extends({},$,{component:et,dense:tt,disablePadding:rt}),at=useUtilityClasses$8(st);return jsxRuntimeExports.jsx(ListContext$1.Provider,{value:ot,children:jsxRuntimeExports.jsxs(ListRoot,_extends({as:et,className:clsx(at.root,_e),ref:a,ownerState:st},it,{children:[nt,j]}))})}),List$1=List,_excluded$9=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nextItem(o,s,a){return o===s?o.firstChild:s&&s.nextElementSibling?s.nextElementSibling:a?null:o.firstChild}function previousItem(o,s,a){return o===s?a?o.firstChild:o.lastChild:s&&s.previousElementSibling?s.previousElementSibling:a?null:o.lastChild}function textCriteriaMatches(o,s){if(s===void 0)return!0;let a=o.innerText;return a===void 0&&(a=o.textContent),a=a.trim().toLowerCase(),a.length===0?!1:s.repeating?a[0]===s.keys[0]:a.indexOf(s.keys.join(""))===0}function moveFocus(o,s,a,$,j,_e){let et=!1,tt=j(o,s,s?a:!1);for(;tt;){if(tt===o.firstChild){if(et)return!1;et=!0}const rt=$?!1:tt.disabled||tt.getAttribute("aria-disabled")==="true";if(!tt.hasAttribute("tabindex")||!textCriteriaMatches(tt,_e)||rt)tt=j(o,tt,a);else return tt.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function o(s,a){const{actions:$,autoFocus:j=!1,autoFocusItem:_e=!1,children:et,className:tt,disabledItemsFocusable:rt=!1,disableListWrap:nt=!1,onKeyDown:it,variant:ot="selectedMenu"}=s,st=_objectWithoutPropertiesLoose(s,_excluded$9),at=reactExports.useRef(null),lt=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect$1(()=>{j&&at.current.focus()},[j]),reactExports.useImperativeHandle($,()=>({adjustStyleForScrollbar:(ct,ht)=>{const mt=!at.current.style.width;if(ct.clientHeight<at.current.clientHeight&&mt){const vt=`${getScrollbarSize(ownerDocument(ct))}px`;at.current.style[ht.direction==="rtl"?"paddingLeft":"paddingRight"]=vt,at.current.style.width=`calc(100% + ${vt})`}return at.current}}),[]);const ft=ct=>{const ht=at.current,mt=ct.key,vt=ownerDocument(ht).activeElement;if(mt==="ArrowDown")ct.preventDefault(),moveFocus(ht,vt,nt,rt,nextItem);else if(mt==="ArrowUp")ct.preventDefault(),moveFocus(ht,vt,nt,rt,previousItem);else if(mt==="Home")ct.preventDefault(),moveFocus(ht,null,nt,rt,nextItem);else if(mt==="End")ct.preventDefault(),moveFocus(ht,null,nt,rt,previousItem);else if(mt.length===1){const yt=lt.current,xt=mt.toLowerCase(),bt=performance.now();yt.keys.length>0&&(bt-yt.lastTime>500?(yt.keys=[],yt.repeating=!0,yt.previousKeyMatched=!0):yt.repeating&&xt!==yt.keys[0]&&(yt.repeating=!1)),yt.lastTime=bt,yt.keys.push(xt);const gt=vt&&!yt.repeating&&textCriteriaMatches(vt,yt);yt.previousKeyMatched&&(gt||moveFocus(ht,vt,!1,rt,nextItem,yt))?ct.preventDefault():yt.previousKeyMatched=!1}it&&it(ct)},pt=useForkRef(at,a);let ut=-1;reactExports.Children.forEach(et,(ct,ht)=>{if(!reactExports.isValidElement(ct)){ut===ht&&(ut+=1,ut>=et.length&&(ut=-1));return}ct.props.disabled||(ot==="selectedMenu"&&ct.props.selected||ut===-1)&&(ut=ht),ut===ht&&(ct.props.disabled||ct.props.muiSkipListHighlight||ct.type.muiSkipListHighlight)&&(ut+=1,ut>=et.length&&(ut=-1))});const dt=reactExports.Children.map(et,(ct,ht)=>{if(ht===ut){const mt={};return _e&&(mt.autoFocus=!0),ct.props.tabIndex===void 0&&ot==="selectedMenu"&&(mt.tabIndex=0),reactExports.cloneElement(ct,mt)}return ct});return jsxRuntimeExports.jsx(List$1,_extends({role:"menu",ref:pt,className:tt,onKeyDown:ft,tabIndex:j?0:-1},st,{children:dt}))}),MenuList$1=MenuList;function getPopoverUtilityClass(o){return generateUtilityClass("MuiPopover",o)}generateUtilityClasses("MuiPopover",["root","paper"]);const _excluded$8=["onEntering"],_excluded2$1=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],_excluded3=["slotProps"];function getOffsetTop(o,s){let a=0;return typeof s=="number"?a=s:s==="center"?a=o.height/2:s==="bottom"&&(a=o.height),a}function getOffsetLeft(o,s){let a=0;return typeof s=="number"?a=s:s==="center"?a=o.width/2:s==="right"&&(a=o.width),a}function getTransformOriginValue(o){return[o.horizontal,o.vertical].map(s=>typeof s=="number"?`${s}px`:s).join(" ")}function resolveAnchorEl(o){return typeof o=="function"?o():o}const useUtilityClasses$7=o=>{const{classes:s}=o;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,s)},PopoverRoot=styled$1(Modal$1,{name:"MuiPopover",slot:"Root",overridesResolver:(o,s)=>s.root})({}),PopoverPaper=styled$1(Paper$1,{name:"MuiPopover",slot:"Paper",overridesResolver:(o,s)=>s.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function o(s,a){var $,j,_e;const et=useThemeProps({props:s,name:"MuiPopover"}),{action:tt,anchorEl:rt,anchorOrigin:nt={vertical:"top",horizontal:"left"},anchorPosition:it,anchorReference:ot="anchorEl",children:st,className:at,container:lt,elevation:ft=8,marginThreshold:pt=16,open:ut,PaperProps:dt={},slots:ct,slotProps:ht,transformOrigin:mt={vertical:"top",horizontal:"left"},TransitionComponent:vt=Grow$1,transitionDuration:yt="auto",TransitionProps:{onEntering:xt}={}}=et,bt=_objectWithoutPropertiesLoose(et.TransitionProps,_excluded$8),gt=_objectWithoutPropertiesLoose(et,_excluded2$1),wt=($=ht==null?void 0:ht.paper)!=null?$:dt,Et=reactExports.useRef(),kt=useForkRef(Et,wt.ref),Ct=_extends({},et,{anchorOrigin:nt,anchorReference:ot,elevation:ft,marginThreshold:pt,externalPaperSlotProps:wt,transformOrigin:mt,TransitionComponent:vt,transitionDuration:yt,TransitionProps:bt}),Mt=useUtilityClasses$7(Ct),Ft=reactExports.useCallback(()=>{if(ot==="anchorPosition")return it;const Xt=resolveAnchorEl(rt),Kt=(Xt&&Xt.nodeType===1?Xt:ownerDocument(Et.current).body).getBoundingClientRect();return{top:Kt.top+getOffsetTop(Kt,nt.vertical),left:Kt.left+getOffsetLeft(Kt,nt.horizontal)}},[rt,nt.horizontal,nt.vertical,it,ot]),Tt=reactExports.useCallback(Xt=>({vertical:getOffsetTop(Xt,mt.vertical),horizontal:getOffsetLeft(Xt,mt.horizontal)}),[mt.horizontal,mt.vertical]),$t=reactExports.useCallback(Xt=>{const an={width:Xt.offsetWidth,height:Xt.offsetHeight},Kt=Tt(an);if(ot==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(Kt)};const zt=Ft();let pn=zt.top-Kt.vertical,qt=zt.left-Kt.horizontal;const hn=pn+an.height,At=qt+an.width,Qt=ownerWindow(resolveAnchorEl(rt)),Jt=Qt.innerHeight-pt,ln=Qt.innerWidth-pt;if(pn<pt){const Nt=pn-pt;pn-=Nt,Kt.vertical+=Nt}else if(hn>Jt){const Nt=hn-Jt;pn-=Nt,Kt.vertical+=Nt}if(qt<pt){const Nt=qt-pt;qt-=Nt,Kt.horizontal+=Nt}else if(At>ln){const Nt=At-ln;qt-=Nt,Kt.horizontal+=Nt}return{top:`${Math.round(pn)}px`,left:`${Math.round(qt)}px`,transformOrigin:getTransformOriginValue(Kt)}},[rt,ot,Ft,Tt,pt]),[Dt,It]=reactExports.useState(ut),Yt=reactExports.useCallback(()=>{const Xt=Et.current;if(!Xt)return;const an=$t(Xt);an.top!==null&&(Xt.style.top=an.top),an.left!==null&&(Xt.style.left=an.left),Xt.style.transformOrigin=an.transformOrigin,It(!0)},[$t]),Ht=(Xt,an)=>{xt&&xt(Xt,an),Yt()},jt=()=>{It(!1)};reactExports.useEffect(()=>{ut&&Yt()}),reactExports.useImperativeHandle(tt,()=>ut?{updatePosition:()=>{Yt()}}:null,[ut,Yt]),reactExports.useEffect(()=>{if(!ut)return;const Xt=debounce(()=>{Yt()}),an=ownerWindow(rt);return an.addEventListener("resize",Xt),()=>{Xt.clear(),an.removeEventListener("resize",Xt)}},[rt,ut,Yt]);let Bt=yt;yt==="auto"&&!vt.muiSupportAuto&&(Bt=void 0);const Ot=lt||(rt?ownerDocument(resolveAnchorEl(rt)).body:void 0),Ut=(j=ct==null?void 0:ct.root)!=null?j:PopoverRoot,Gt=(_e=ct==null?void 0:ct.paper)!=null?_e:PopoverPaper,dn=useSlotProps({elementType:Gt,externalSlotProps:_extends({},wt,{style:Dt?wt.style:_extends({},wt.style,{opacity:0})}),additionalProps:{elevation:ft,ref:kt},ownerState:Ct,className:clsx(Mt.paper,wt==null?void 0:wt.className)}),tn=useSlotProps({elementType:Ut,externalSlotProps:(ht==null?void 0:ht.root)||{},externalForwardedProps:gt,additionalProps:{ref:a,slotProps:{backdrop:{invisible:!0}},container:Ot,open:ut},ownerState:Ct,className:clsx(Mt.root,at)}),{slotProps:fn}=tn,nn=_objectWithoutPropertiesLoose(tn,_excluded3);return jsxRuntimeExports.jsx(Ut,_extends({},nn,!isHostComponent(Ut)&&{slotProps:fn},{children:jsxRuntimeExports.jsx(vt,_extends({appear:!0,in:ut,onEntering:Ht,onExited:jt,timeout:Bt},bt,{children:jsxRuntimeExports.jsx(Gt,_extends({},dn,{children:st}))}))}))}),Popover$1=Popover;function getMenuUtilityClass(o){return generateUtilityClass("MuiMenu",o)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const _excluded$7=["onEntering"],_excluded2=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$6=o=>{const{classes:s}=o;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,s)},MenuRoot=styled$1(Popover$1,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(o,s)=>s.root})({}),MenuPaper=styled$1(PopoverPaper,{name:"MuiMenu",slot:"Paper",overridesResolver:(o,s)=>s.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled$1(MenuList$1,{name:"MuiMenu",slot:"List",overridesResolver:(o,s)=>s.list})({outline:0}),Menu=reactExports.forwardRef(function o(s,a){const $=useThemeProps({props:s,name:"MuiMenu"}),{autoFocus:j=!0,children:_e,disableAutoFocusItem:et=!1,MenuListProps:tt={},onClose:rt,open:nt,PaperProps:it={},PopoverClasses:ot,transitionDuration:st="auto",TransitionProps:{onEntering:at}={},variant:lt="selectedMenu"}=$,ft=_objectWithoutPropertiesLoose($.TransitionProps,_excluded$7),pt=_objectWithoutPropertiesLoose($,_excluded2),ut=useTheme(),dt=ut.direction==="rtl",ct=_extends({},$,{autoFocus:j,disableAutoFocusItem:et,MenuListProps:tt,onEntering:at,PaperProps:it,transitionDuration:st,TransitionProps:ft,variant:lt}),ht=useUtilityClasses$6(ct),mt=j&&!et&&nt,vt=reactExports.useRef(null),yt=(gt,wt)=>{vt.current&&vt.current.adjustStyleForScrollbar(gt,ut),at&&at(gt,wt)},xt=gt=>{gt.key==="Tab"&&(gt.preventDefault(),rt&&rt(gt,"tabKeyDown"))};let bt=-1;return reactExports.Children.map(_e,(gt,wt)=>{reactExports.isValidElement(gt)&&(gt.props.disabled||(lt==="selectedMenu"&&gt.props.selected||bt===-1)&&(bt=wt))}),jsxRuntimeExports.jsx(MenuRoot,_extends({onClose:rt,anchorOrigin:{vertical:"bottom",horizontal:dt?"right":"left"},transformOrigin:dt?RTL_ORIGIN:LTR_ORIGIN,slots:{paper:MenuPaper},slotProps:{paper:_extends({},it,{classes:_extends({},it.classes,{root:ht.paper})})},className:ht.root,open:nt,ref:a,transitionDuration:st,TransitionProps:_extends({onEntering:yt},ft),ownerState:ct},pt,{classes:ot,children:jsxRuntimeExports.jsx(MenuMenuList,_extends({onKeyDown:xt,actions:vt,autoFocus:j&&(bt===-1||et),autoFocusItem:mt,variant:lt},tt,{className:clsx(ht.list,tt.className),children:_e}))}))}),Menu$1=Menu;function getNativeSelectUtilityClasses(o){return generateUtilityClass("MuiNativeSelect",o)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),nativeSelectClasses$1=nativeSelectClasses,_excluded$6=["className","disabled","error","IconComponent","inputRef","variant"],useUtilityClasses$5=o=>{const{classes:s,variant:a,disabled:$,multiple:j,open:_e,error:et}=o,tt={select:["select",a,$&&"disabled",j&&"multiple",et&&"error"],icon:["icon",`icon${capitalize$1(a)}`,_e&&"iconOpen",$&&"disabled"]};return composeClasses(tt,getNativeSelectUtilityClasses,s)},nativeSelectSelectStyles=({ownerState:o,theme:s})=>_extends({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":_extends({},s.vars?{backgroundColor:`rgba(${s.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:s.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${nativeSelectClasses$1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(s.vars||s).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},o.variant==="filled"&&{"&&&":{paddingRight:32}},o.variant==="outlined"&&{borderRadius:(s.vars||s).shape.borderRadius,"&:focus":{borderRadius:(s.vars||s).shape.borderRadius},"&&&":{paddingRight:32}}),NativeSelectSelect=styled$1("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp,overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.select,s[a.variant],a.error&&s.error,{[`&.${nativeSelectClasses$1.multiple}`]:s.multiple}]}})(nativeSelectSelectStyles),nativeSelectIconStyles=({ownerState:o,theme:s})=>_extends({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(s.vars||s).palette.action.active,[`&.${nativeSelectClasses$1.disabled}`]:{color:(s.vars||s).palette.action.disabled}},o.open&&{transform:"rotate(180deg)"},o.variant==="filled"&&{right:7},o.variant==="outlined"&&{right:7}),NativeSelectIcon=styled$1("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.icon,a.variant&&s[`icon${capitalize$1(a.variant)}`],a.open&&s.iconOpen]}})(nativeSelectIconStyles),NativeSelectInput=reactExports.forwardRef(function o(s,a){const{className:$,disabled:j,error:_e,IconComponent:et,inputRef:tt,variant:rt="standard"}=s,nt=_objectWithoutPropertiesLoose(s,_excluded$6),it=_extends({},s,{disabled:j,variant:rt,error:_e}),ot=useUtilityClasses$5(it);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(NativeSelectSelect,_extends({ownerState:it,className:clsx(ot.select,$),disabled:j,ref:tt||a},nt)),s.multiple?null:jsxRuntimeExports.jsx(NativeSelectIcon,{as:et,ownerState:it,className:ot.icon})]})}),NativeSelectInput$1=NativeSelectInput;var _span$1;const _excluded$5=["children","classes","className","label","notched"],NotchedOutlineRoot$1=styled$1("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled$1("legend")(({ownerState:o,theme:s})=>_extends({float:"unset",width:"auto",overflow:"hidden"},!o.withLabel&&{padding:0,lineHeight:"11px",transition:s.transitions.create("width",{duration:150,easing:s.transitions.easing.easeOut})},o.withLabel&&_extends({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:s.transitions.create("max-width",{duration:50,easing:s.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},o.notched&&{maxWidth:"100%",transition:s.transitions.create("max-width",{duration:100,easing:s.transitions.easing.easeOut,delay:50})})));function NotchedOutline(o){const{className:s,label:a,notched:$}=o,j=_objectWithoutPropertiesLoose(o,_excluded$5),_e=a!=null&&a!=="",et=_extends({},o,{notched:$,withLabel:_e});return jsxRuntimeExports.jsx(NotchedOutlineRoot$1,_extends({"aria-hidden":!0,className:s,ownerState:et},j,{children:jsxRuntimeExports.jsx(NotchedOutlineLegend,{ownerState:et,children:_e?jsxRuntimeExports.jsx("span",{children:a}):_span$1||(_span$1=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"}))})}))}const _excluded$4=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],useUtilityClasses$4=o=>{const{classes:s}=o,$=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,s);return _extends({},s,$)},OutlinedInputRoot=styled$1(InputBaseRoot,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:o,ownerState:s})=>{const a=o.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return _extends({position:"relative",borderRadius:(o.vars||o).shape.borderRadius,[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(o.vars||o).palette.text.primary},"@media (hover: none)":{[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / 0.23)`:a}},[`&.${outlinedInputClasses$1.focused} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(o.vars||o).palette[s.color].main,borderWidth:2},[`&.${outlinedInputClasses$1.error} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(o.vars||o).palette.error.main},[`&.${outlinedInputClasses$1.disabled} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(o.vars||o).palette.action.disabled}},s.startAdornment&&{paddingLeft:14},s.endAdornment&&{paddingRight:14},s.multiline&&_extends({padding:"16.5px 14px"},s.size==="small"&&{padding:"8.5px 14px"}))}),NotchedOutlineRoot=styled$1(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(o,s)=>s.notchedOutline})(({theme:o})=>{const s=o.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / 0.23)`:s}}),OutlinedInputInput=styled$1(InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:o,ownerState:s})=>_extends({padding:"16.5px 14px"},!o.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:o.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:o.palette.mode==="light"?null:"#fff",caretColor:o.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},o.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[o.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},s.size==="small"&&{padding:"8.5px 14px"},s.multiline&&{padding:0},s.startAdornment&&{paddingLeft:0},s.endAdornment&&{paddingRight:0})),OutlinedInput=reactExports.forwardRef(function o(s,a){var $,j,_e,et,tt;const rt=useThemeProps({props:s,name:"MuiOutlinedInput"}),{components:nt={},fullWidth:it=!1,inputComponent:ot="input",label:st,multiline:at=!1,notched:lt,slots:ft={},type:pt="text"}=rt,ut=_objectWithoutPropertiesLoose(rt,_excluded$4),dt=useUtilityClasses$4(rt),ct=useFormControl(),ht=formControlState({props:rt,muiFormControl:ct,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),mt=_extends({},rt,{color:ht.color||"primary",disabled:ht.disabled,error:ht.error,focused:ht.focused,formControl:ct,fullWidth:it,hiddenLabel:ht.hiddenLabel,multiline:at,size:ht.size,type:pt}),vt=($=(j=ft.root)!=null?j:nt.Root)!=null?$:OutlinedInputRoot,yt=(_e=(et=ft.input)!=null?et:nt.Input)!=null?_e:OutlinedInputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends({slots:{root:vt,input:yt},renderSuffix:xt=>jsxRuntimeExports.jsx(NotchedOutlineRoot,{ownerState:mt,className:dt.notchedOutline,label:st!=null&&st!==""&&ht.required?tt||(tt=jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[st," ","*"]})):st,notched:typeof lt<"u"?lt:!!(xt.startAdornment||xt.filled||xt.focused)}),fullWidth:it,inputComponent:ot,multiline:at,ref:a,type:pt},ut,{classes:_extends({},dt,{notchedOutline:null})}))});OutlinedInput.muiName="Input";const OutlinedInput$1=OutlinedInput;function getSelectUtilityClasses(o){return generateUtilityClass("MuiSelect",o)}const selectClasses=generateUtilityClasses("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),selectClasses$1=selectClasses;var _span;const _excluded$3=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SelectSelect=styled$1("div",{name:"MuiSelect",slot:"Select",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[{[`&.${selectClasses$1.select}`]:s.select},{[`&.${selectClasses$1.select}`]:s[a.variant]},{[`&.${selectClasses$1.error}`]:s.error},{[`&.${selectClasses$1.multiple}`]:s.multiple}]}})(nativeSelectSelectStyles,{[`&.${selectClasses$1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled$1("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.icon,a.variant&&s[`icon${capitalize$1(a.variant)}`],a.open&&s.iconOpen]}})(nativeSelectIconStyles),SelectNativeInput=styled$1("input",{shouldForwardProp:o=>slotShouldForwardProp(o)&&o!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(o,s)=>s.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(o,s){return typeof s=="object"&&s!==null?o===s:String(o)===String(s)}function isEmpty(o){return o==null||typeof o=="string"&&!o.trim()}const useUtilityClasses$3=o=>{const{classes:s,variant:a,disabled:$,multiple:j,open:_e,error:et}=o,tt={select:["select",a,$&&"disabled",j&&"multiple",et&&"error"],icon:["icon",`icon${capitalize$1(a)}`,_e&&"iconOpen",$&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(tt,getSelectUtilityClasses,s)},SelectInput=reactExports.forwardRef(function o(s,a){const{"aria-describedby":$,"aria-label":j,autoFocus:_e,autoWidth:et,children:tt,className:rt,defaultOpen:nt,defaultValue:it,disabled:ot,displayEmpty:st,error:at=!1,IconComponent:lt,inputRef:ft,labelId:pt,MenuProps:ut={},multiple:dt,name:ct,onBlur:ht,onChange:mt,onClose:vt,onFocus:yt,onOpen:xt,open:bt,readOnly:gt,renderValue:wt,SelectDisplayProps:Et={},tabIndex:kt,value:Ct,variant:Mt="standard"}=s,Ft=_objectWithoutPropertiesLoose(s,_excluded$3),[Tt,$t]=useControlled({controlled:Ct,default:it,name:"Select"}),[Dt,It]=useControlled({controlled:bt,default:nt,name:"Select"}),Yt=reactExports.useRef(null),Ht=reactExports.useRef(null),[jt,Bt]=reactExports.useState(null),{current:Ot}=reactExports.useRef(bt!=null),[Ut,Gt]=reactExports.useState(),dn=useForkRef(a,ft),tn=reactExports.useCallback(Wt=>{Ht.current=Wt,Wt&&Bt(Wt)},[]),fn=jt==null?void 0:jt.parentNode;reactExports.useImperativeHandle(dn,()=>({focus:()=>{Ht.current.focus()},node:Yt.current,value:Tt}),[Tt]),reactExports.useEffect(()=>{nt&&Dt&&jt&&!Ot&&(Gt(et?null:fn.clientWidth),Ht.current.focus())},[jt,et]),reactExports.useEffect(()=>{_e&&Ht.current.focus()},[_e]),reactExports.useEffect(()=>{if(!pt)return;const Wt=ownerDocument(Ht.current).getElementById(pt);if(Wt){const un=()=>{getSelection().isCollapsed&&Ht.current.focus()};return Wt.addEventListener("click",un),()=>{Wt.removeEventListener("click",un)}}},[pt]);const nn=(Wt,un)=>{Wt?xt&&xt(un):vt&&vt(un),Ot||(Gt(et?null:fn.clientWidth),It(Wt))},Xt=Wt=>{Wt.button===0&&(Wt.preventDefault(),Ht.current.focus(),nn(!0,Wt))},an=Wt=>{nn(!1,Wt)},Kt=reactExports.Children.toArray(tt),zt=Wt=>{const un=Kt.find(on=>on.props.value===Wt.target.value);un!==void 0&&($t(un.props.value),mt&&mt(Wt,un))},pn=Wt=>un=>{let on;if(un.currentTarget.hasAttribute("tabindex")){if(dt){on=Array.isArray(Tt)?Tt.slice():[];const xn=Tt.indexOf(Wt.props.value);xn===-1?on.push(Wt.props.value):on.splice(xn,1)}else on=Wt.props.value;if(Wt.props.onClick&&Wt.props.onClick(un),Tt!==on&&($t(on),mt)){const xn=un.nativeEvent||un,yn=new xn.constructor(xn.type,xn);Object.defineProperty(yn,"target",{writable:!0,value:{value:on,name:ct}}),mt(yn,Wt)}dt||nn(!1,un)}},qt=Wt=>{gt||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Wt.key)!==-1&&(Wt.preventDefault(),nn(!0,Wt))},hn=jt!==null&&Dt,At=Wt=>{!hn&&ht&&(Object.defineProperty(Wt,"target",{writable:!0,value:{value:Tt,name:ct}}),ht(Wt))};delete Ft["aria-invalid"];let Qt,Jt;const ln=[];let Nt=!1;(isFilled({value:Tt})||st)&&(wt?Qt=wt(Tt):Nt=!0);const mn=Kt.map(Wt=>{if(!reactExports.isValidElement(Wt))return null;let un;if(dt){if(!Array.isArray(Tt))throw new Error(formatMuiErrorMessage(2));un=Tt.some(on=>areEqualValues(on,Wt.props.value)),un&&Nt&&ln.push(Wt.props.children)}else un=areEqualValues(Tt,Wt.props.value),un&&Nt&&(Jt=Wt.props.children);return reactExports.cloneElement(Wt,{"aria-selected":un?"true":"false",onClick:pn(Wt),onKeyUp:on=>{on.key===" "&&on.preventDefault(),Wt.props.onKeyUp&&Wt.props.onKeyUp(on)},role:"option",selected:un,value:void 0,"data-value":Wt.props.value})});Nt&&(dt?ln.length===0?Qt=null:Qt=ln.reduce((Wt,un,on)=>(Wt.push(un),on<ln.length-1&&Wt.push(", "),Wt),[]):Qt=Jt);let gn=Ut;!et&&Ot&&jt&&(gn=fn.clientWidth);let en;typeof kt<"u"?en=kt:en=ot?null:0;const rn=Et.id||(ct?`mui-component-select-${ct}`:void 0),Zt=_extends({},s,{variant:Mt,value:Tt,open:hn,error:at}),Lt=useUtilityClasses$3(Zt);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectSelect,_extends({ref:tn,tabIndex:en,role:"button","aria-disabled":ot?"true":void 0,"aria-expanded":hn?"true":"false","aria-haspopup":"listbox","aria-label":j,"aria-labelledby":[pt,rn].filter(Boolean).join(" ")||void 0,"aria-describedby":$,onKeyDown:qt,onMouseDown:ot||gt?null:Xt,onBlur:At,onFocus:yt},Et,{ownerState:Zt,className:clsx(Et.className,Lt.select,rt),id:rn,children:isEmpty(Qt)?_span||(_span=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"})):Qt})),jsxRuntimeExports.jsx(SelectNativeInput,_extends({"aria-invalid":at,value:Array.isArray(Tt)?Tt.join(","):Tt,name:ct,ref:Yt,"aria-hidden":!0,onChange:zt,tabIndex:-1,disabled:ot,className:Lt.nativeInput,autoFocus:_e,ownerState:Zt},Ft)),jsxRuntimeExports.jsx(SelectIcon,{as:lt,className:Lt.icon,ownerState:Zt}),jsxRuntimeExports.jsx(Menu$1,_extends({id:`menu-${ct||""}`,anchorEl:fn,open:hn,onClose:an,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},ut,{MenuListProps:_extends({"aria-labelledby":pt,role:"listbox",disableListWrap:!0},ut.MenuListProps),PaperProps:_extends({},ut.PaperProps,{style:_extends({minWidth:gn},ut.PaperProps!=null?ut.PaperProps.style:null)}),children:mn}))]})}),SelectInput$1=SelectInput,_excluded$2=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],useUtilityClasses$2=o=>{const{classes:s}=o;return s},styledRootConfig={name:"MuiSelect",overridesResolver:(o,s)=>s.root,shouldForwardProp:o=>rootShouldForwardProp(o)&&o!=="variant",slot:"Root"},StyledInput=styled$1(Input$1,styledRootConfig)(""),StyledOutlinedInput=styled$1(OutlinedInput$1,styledRootConfig)(""),StyledFilledInput=styled$1(FilledInput$1,styledRootConfig)(""),Select=reactExports.forwardRef(function o(s,a){const $=useThemeProps({name:"MuiSelect",props:s}),{autoWidth:j=!1,children:_e,classes:et={},className:tt,defaultOpen:rt=!1,displayEmpty:nt=!1,IconComponent:it=ArrowDropDownIcon,id:ot,input:st,inputProps:at,label:lt,labelId:ft,MenuProps:pt,multiple:ut=!1,native:dt=!1,onClose:ct,onOpen:ht,open:mt,renderValue:vt,SelectDisplayProps:yt,variant:xt="outlined"}=$,bt=_objectWithoutPropertiesLoose($,_excluded$2),gt=dt?NativeSelectInput$1:SelectInput$1,wt=useFormControl(),Et=formControlState({props:$,muiFormControl:wt,states:["variant","error"]}),kt=Et.variant||xt,Ct=_extends({},$,{variant:kt,classes:et}),Mt=useUtilityClasses$2(Ct),Ft=st||{standard:jsxRuntimeExports.jsx(StyledInput,{ownerState:Ct}),outlined:jsxRuntimeExports.jsx(StyledOutlinedInput,{label:lt,ownerState:Ct}),filled:jsxRuntimeExports.jsx(StyledFilledInput,{ownerState:Ct})}[kt],Tt=useForkRef(a,Ft.ref);return jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(Ft,_extends({inputComponent:gt,inputProps:_extends({children:_e,error:Et.error,IconComponent:it,variant:kt,type:void 0,multiple:ut},dt?{id:ot}:{autoWidth:j,defaultOpen:rt,displayEmpty:nt,labelId:ft,MenuProps:pt,onClose:ct,onOpen:ht,open:mt,renderValue:vt,SelectDisplayProps:_extends({id:ot},yt)},at,{classes:at?deepmerge(Mt,at.classes):Mt},st?st.props.inputProps:{})},ut&&dt&&kt==="outlined"?{notched:!0}:{},{ref:Tt,className:clsx(Ft.props.className,tt)},!st&&{variant:kt},bt))})});Select.muiName="Select";const Select$1=Select;function getToolbarUtilityClass(o){return generateUtilityClass("MuiToolbar",o)}generateUtilityClasses("MuiToolbar",["root","gutters","regular","dense"]);const _excluded$1=["className","component","disableGutters","variant"],useUtilityClasses$1=o=>{const{classes:s,disableGutters:a,variant:$}=o;return composeClasses({root:["root",!a&&"gutters",$]},getToolbarUtilityClass,s)},ToolbarRoot=styled$1("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.root,!a.disableGutters&&s.gutters,s[a.variant]]}})(({theme:o,ownerState:s})=>_extends({position:"relative",display:"flex",alignItems:"center"},!s.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}},s.variant==="dense"&&{minHeight:48}),({theme:o,ownerState:s})=>s.variant==="regular"&&o.mixins.toolbar),Toolbar=reactExports.forwardRef(function o(s,a){const $=useThemeProps({props:s,name:"MuiToolbar"}),{className:j,component:_e="div",disableGutters:et=!1,variant:tt="regular"}=$,rt=_objectWithoutPropertiesLoose($,_excluded$1),nt=_extends({},$,{component:_e,disableGutters:et,variant:tt}),it=useUtilityClasses$1(nt);return jsxRuntimeExports.jsx(ToolbarRoot,_extends({as:_e,className:clsx(it.root,j),ref:a,ownerState:nt},rt))}),Toolbar$1=Toolbar;function getTextFieldUtilityClass(o){return generateUtilityClass("MuiTextField",o)}generateUtilityClasses("MuiTextField",["root"]);const _excluded=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],variantComponent={standard:Input$1,filled:FilledInput$1,outlined:OutlinedInput$1},useUtilityClasses=o=>{const{classes:s}=o;return composeClasses({root:["root"]},getTextFieldUtilityClass,s)},TextFieldRoot=styled$1(FormControl$1,{name:"MuiTextField",slot:"Root",overridesResolver:(o,s)=>s.root})({}),TextField=reactExports.forwardRef(function o(s,a){const $=useThemeProps({props:s,name:"MuiTextField"}),{autoComplete:j,autoFocus:_e=!1,children:et,className:tt,color:rt="primary",defaultValue:nt,disabled:it=!1,error:ot=!1,FormHelperTextProps:st,fullWidth:at=!1,helperText:lt,id:ft,InputLabelProps:pt,inputProps:ut,InputProps:dt,inputRef:ct,label:ht,maxRows:mt,minRows:vt,multiline:yt=!1,name:xt,onBlur:bt,onChange:gt,onClick:wt,onFocus:Et,placeholder:kt,required:Ct=!1,rows:Mt,select:Ft=!1,SelectProps:Tt,type:$t,value:Dt,variant:It="outlined"}=$,Yt=_objectWithoutPropertiesLoose($,_excluded),Ht=_extends({},$,{autoFocus:_e,color:rt,disabled:it,error:ot,fullWidth:at,multiline:yt,required:Ct,select:Ft,variant:It}),jt=useUtilityClasses(Ht),Bt={};It==="outlined"&&(pt&&typeof pt.shrink<"u"&&(Bt.notched=pt.shrink),Bt.label=ht),Ft&&((!Tt||!Tt.native)&&(Bt.id=void 0),Bt["aria-describedby"]=void 0);const Ot=useId(ft),Ut=lt&&Ot?`${Ot}-helper-text`:void 0,Gt=ht&&Ot?`${Ot}-label`:void 0,dn=variantComponent[It],tn=jsxRuntimeExports.jsx(dn,_extends({"aria-describedby":Ut,autoComplete:j,autoFocus:_e,defaultValue:nt,fullWidth:at,multiline:yt,name:xt,rows:Mt,maxRows:mt,minRows:vt,type:$t,value:Dt,id:Ot,inputRef:ct,onBlur:bt,onChange:gt,onFocus:Et,onClick:wt,placeholder:kt,inputProps:ut},Bt,dt));return jsxRuntimeExports.jsxs(TextFieldRoot,_extends({className:clsx(jt.root,tt),disabled:it,error:ot,fullWidth:at,ref:a,required:Ct,color:rt,variant:It,ownerState:Ht},Yt,{children:[ht!=null&&ht!==""&&jsxRuntimeExports.jsx(InputLabel$1,_extends({htmlFor:Ot,id:Gt},pt,{children:ht})),Ft?jsxRuntimeExports.jsx(Select$1,_extends({"aria-describedby":Ut,id:Ot,labelId:Gt,value:Dt,input:tn},Tt,{children:et})):tn,lt&&jsxRuntimeExports.jsx(FormHelperText$1,_extends({id:Ut},st,{children:lt}))]}))}),TextField$1=TextField;var ARRAY_TYPE=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var o=0,s=arguments.length;s--;)o+=arguments[s]*arguments[s];return Math.sqrt(o)});function create(){var o=new ARRAY_TYPE(16);return ARRAY_TYPE!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o}const shaderHeaderFrag=`precision mediump float;\r
varying vec2 vTexCoord;\r
\r
vec3 HSVtoRGB(vec3 hsv) {\r
  vec3 rgb = vec3(hsv.z);\r
\r
  if (hsv.y > 0.0) {\r
    float h = hsv.x * 6.0;\r
    int i = int(h);\r
    float f = h - float(i);\r
    float p = hsv.z * (1.0 - hsv.y);\r
    float q = hsv.z * (1.0 - (hsv.y * f));\r
    float t = hsv.z * (1.0 - (hsv.y * (1.0 - f)));\r
\r
    if (i == 0) {\r
      rgb = vec3(hsv.z, t, p);\r
    } else if (i == 1) {\r
      rgb = vec3(q, hsv.z, p);\r
    } else if (i == 2) {\r
      rgb = vec3(p, hsv.z, t);\r
    } else if (i == 3) {\r
      rgb = vec3(p, q, hsv.z);\r
    } else if (i == 4) {\r
      rgb = vec3(t, p, hsv.z);\r
    } else {\r
      rgb = vec3(hsv.z, p, q);\r
    }\r
  }\r
\r
  return rgb;\r
}\r
\r
float CalcHueDegreeFromProcreateBarPosition(float deg) {\r
  if (0.0 <= deg && deg < 120.0) {\r
    return mix(0.0, 60.0, deg / 120.0);\r
  } else if (120.0 <= deg && deg < 210.0) {\r
    return mix(60.0, 180.0, (deg - 120.0) / 90.0);\r
  } else if (210.0 <= deg && deg < 330.0) {\r
    return mix(180.0, 300.0, (deg - 210.0) / 120.0);\r
  } else {\r
    return mix(300.0, 360.0, (deg - 330.0) / 30.0);\r
  }\r
}\r
\r
// maps procreate bar position [0, 1] to hue [0, 1]\r
float CalcHueFromProcreateBarPosition(float hue) {\r
  return CalcHueDegreeFromProcreateBarPosition(hue * 360.0) / 360.0;\r
}\r
\r
float CalcProcreateBarPositionFromHueDegree(float pdeg) {\r
  if (0.0 <= pdeg && pdeg < 60.0) {\r
    return mix(0.0, 120.0, pdeg / 60.0);\r
  } else if (60.0 <= pdeg && pdeg < 180.0) {\r
    return mix(120.0, 210.0, (pdeg - 60.0) / 120.0);\r
  } else if (180.0 < pdeg && pdeg < 300.0) {\r
    return mix(210.0, 330.0, (pdeg - 180.0) / 120.0);\r
  } else {\r
    return mix(330.0, 360.0, (pdeg - 330.0) / 60.0);\r
  }\r
}\r
\r
// maps hue [0, 1] to procreate bar position [0, 1]\r
float CalcProcreateBarPositionFromHue(float hue) {\r
  return CalcProcreateBarPositionFromHueDegree(hue * 360.0) / 360.0;\r
}\r
\r
vec2 GetProcreateHueBarSV(float hue) {\r
  const vec2 sv0 = vec2(1.0, 1.0);\r
  const vec2 sv50 = vec2(1.0, 1.0);\r
  const vec2 sv60 = vec2(1.0, 0.87);\r
  const vec2 sv100 = vec2(1.0, 1.0);\r
  const vec2 sv120 = vec2(0.8, 1.0);\r
  const vec2 sv175 = vec2(1.0, 1.0);\r
  const vec2 sv180 = vec2(1.0, 0.93);\r
  const vec2 sv230 = vec2(1.0, 1.0);\r
  const vec2 sv240 = vec2(0.9, 1.0);\r
  const vec2 sv280 = vec2(1.0, 1.0);\r
  const vec2 sv300 = vec2(1.0, 0.75);\r
  const vec2 sv360 = vec2(1.0, 1.0);\r
  float deg = hue * 360.0;\r
  if (0.0 <= deg && deg < 50.0) {\r
    return sv50;\r
  } else if (50.0 <= deg && deg < 60.0) {\r
    return mix(sv50, sv60, (deg - 50.0) / 10.0);\r
  } else if (60.0 <= deg && deg < 100.0) {\r
    return mix(sv60, sv100, (deg - 60.0) / 40.0);\r
  } else if (100.0 <= deg && deg < 120.0) {\r
    return mix(sv100, sv120, (deg - 100.0) / 20.0);\r
  } else if (120.0 <= deg && deg < 175.0) {\r
    return mix(sv120, sv175, (deg - 120.0) / 55.0);\r
  } else if (175.0 <= deg && deg < 180.0) {\r
    return mix(sv175, sv180, (deg - 175.0) / 5.0);\r
  } else if (180.0 <= deg && deg < 230.0) {\r
    return mix(sv180, sv230, (deg - 180.0) / 50.0);\r
  } else if (230.0 <= deg && deg < 240.0) {\r
    return mix(sv230, sv240, (deg - 230.0) / 10.0);\r
  } else if (240.0 <= deg && deg < 280.0) {\r
    return mix(sv240, sv280, (deg - 240.0) / 40.0);\r
  } else if (280.0 <= deg && deg < 300.0) {\r
    return mix(sv280, sv300, (deg - 280.0) / 20.0);\r
  } else if (300.0 <= deg && deg < 360.0) {\r
    return mix(sv300, sv360, (deg - 300.0) / 60.0);\r
  }\r
  return sv0;\r
}`,shaderHeaderVert=`precision mediump float;\r
attribute vec4 aVertexPosition;\r
attribute vec2 aTexCoord;\r
varying vec2 vTexCoord;\r
uniform mat4 uModelMatrix;\r
uniform mat4 uViewMatrix;\r
uniform mat4 uProjectionMatrix;\r
`,shaderMainVert=`void main() {\r
  gl_Position =\r
      uProjectionMatrix * uViewMatrix * uModelMatrix * aVertexPosition;\r
  vTexCoord = aTexCoord;\r
}\r
`;function glCreateShader(o,s,a){const $=o.createShader(s);return $?(o.shaderSource($,a),o.compileShader($),o.getShaderParameter($,o.COMPILE_STATUS)?$:(console.error("Shader compilation error:",o.getShaderInfoLog($)),o.deleteShader($),null)):null}function glCreateProgram(o,s,a){const $=o.createProgram();return $?(o.attachShader($,s),o.attachShader($,a),o.linkProgram($),o.getProgramParameter($,o.LINK_STATUS)?$:(console.error("Program linking error:",o.getProgramInfoLog($)),o.deleteProgram($),null)):null}function glBindVertexAttribute(o,s,a,$,j,_e){o.bindBuffer(o.ARRAY_BUFFER,s),o.enableVertexAttribArray(a),o.vertexAttribPointer(a,$,o.FLOAT,!1,j,_e)}class Vec4UniformEntry{constructor(s,a){this.name=s,this.value=a}getName(){return this.name}pushToContext(s,a){s.uniform4fv(a,this.value)}}class Material{constructor(){this.program=null,this.uniforms=[],this.positionAttributeLocation=-1,this.texCoordAttributeLocation=-1,this.fragmentShaderSource=`
    void main() {
      gl_FragColor = vec4(vTexCoord.x, vTexCoord.y, 0.0, 1.0);
    }
    `}initialize(s,a=null,$=null){const j=glCreateShader(s,s.VERTEX_SHADER,shaderHeaderVert+(a??shaderMainVert)),_e=glCreateShader(s,s.FRAGMENT_SHADER,shaderHeaderFrag+($??this.fragmentShaderSource));if(!j||!_e){console.log("Failed to create shader.");return}if(this.program=glCreateProgram(s,j,_e),!this.program){console.log("Failed to create program.");return}this.positionAttributeLocation=s.getAttribLocation(this.program,"aVertexPosition"),this.texCoordAttributeLocation=s.getAttribLocation(this.program,"aTexCoord")}pushToContext(s){s.useProgram(this.program),this.uniforms.forEach(a=>{const $=this.findUniformLocation(s,a.getName());$&&a.pushToContext(s,$)})}findUniformLocation(s,a){return this.program?s.getUniformLocation(this.program,a):(console.log("program is null."),null)}addUniform(s){this.uniforms.push(s)}clearUniforms(){this.uniforms=[]}}class Geometry{constructor(){this.positions=[],this.texCoords=[],this.indices=[]}}class Model{constructor(s,a,$){this.positionBuffer=null,this.texCoordBuffer=null,this.indexBuffer=null,this.modelMatrix=create(),this.modelMatrixLocation=null,this.geometry=a,this.material=$,this.positionBuffer=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this.positionBuffer),s.bufferData(s.ARRAY_BUFFER,new Float32Array(a.positions),s.STATIC_DRAW),this.texCoordBuffer=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this.texCoordBuffer),s.bufferData(s.ARRAY_BUFFER,new Float32Array(a.texCoords),s.STATIC_DRAW),this.indexBuffer=s.createBuffer(),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this.indexBuffer),s.bufferData(s.ELEMENT_ARRAY_BUFFER,new Uint16Array(a.indices),s.STATIC_DRAW),this.modelMatrixLocation=$.findUniformLocation(s,"uModelMatrix")}setModelMatrix(s){this.modelMatrix=s}getModelMatrix(){return this.modelMatrix}render(s,a){this.material.pushToContext(s),a.pushToContext(s,this.material);const $=this.material.positionAttributeLocation;glBindVertexAttribute(s,this.positionBuffer,$,3,0,0);const j=this.material.texCoordAttributeLocation;glBindVertexAttribute(s,this.texCoordBuffer,j,2,0,0),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this.indexBuffer),s.uniformMatrix4fv(this.modelMatrixLocation,!1,this.modelMatrix),s.drawElements(s.TRIANGLES,this.geometry.indices.length,s.UNSIGNED_SHORT,0)}}class ModelHandle{constructor(s){this.value=s}getValue(){return this.value}}class Camera{constructor(){this.projectionMatrix=create(),this.viewMatrix=create(),this.viewMatrixLocation=null,this.projectionMatrixLocation=null}pushToContext(s,a){this.viewMatrixLocation=a.findUniformLocation(s,"uViewMatrix"),this.projectionMatrixLocation=a.findUniformLocation(s,"uProjectionMatrix"),s.uniformMatrix4fv(this.viewMatrixLocation,!1,this.viewMatrix),s.uniformMatrix4fv(this.projectionMatrixLocation,!1,this.projectionMatrix)}}class Scene{constructor(s){this.camera=null,this.models=[],this.gl=s}setCamera(s){this.camera=s}addModel(s){return this.models.push(s),new ModelHandle(this.models.length-1)}removeModel(s){return!!this.models.splice(s.getValue())}render(){this.gl.clearColor(1,1,1,1),this.gl.clearDepth(1),this.gl.depthFunc(this.gl.LEQUAL),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT);for(let s=0;s<this.models.length;s++){if(!this.camera){console.log("Camera has not been set to the scene.");continue}this.models[s].render(this.gl,this.camera)}}}const shaderPickerHsvSvMainFrag=`uniform vec4 uParams;\r
uniform vec4 uCenters[512];\r
\r
void main() {\r
  float s = vTexCoord.x;\r
  float v = vTexCoord.y;\r
  float hue = uParams.x;\r
  float alpha = 0.0;\r
  for (int i = 0; i < 512; i++) {\r
    vec2 d = uCenters[i].xy - vec2(s, v);\r
    alpha += exp(-(d.x * d.x + d.y * d.y) * 3000.0) * 0.1 * uCenters[i].z;\r
  }\r
  alpha = clamp(0.0, 1.0, alpha + 0.1);\r
\r
  // WebGL expects premultiplied alpha by default.\r
  gl_FragColor = vec4(HSVtoRGB(vec3(hue, s, v)), 1.0) * alpha;\r
}\r
`,shaderPickerPhsvHueMainFrag=`uniform vec4 uCenters[100];\r
\r
void main() {\r
  float hue = vTexCoord.x;\r
  float phue = CalcHueFromProcreateBarPosition(hue);\r
  float alpha = 0.0;\r
  for (int i = 0; i < 100; i++) {\r
    float d = uCenters[i].x - phue;\r
    alpha += exp(-d * d * 3000.0) * 0.1 * uCenters[i].y;\r
  }\r
  alpha = clamp(0.0, 1.0, alpha + 0.1);\r
\r
  // WebGL expects premultiplied alpha by default.\r
  gl_FragColor =\r
      vec4(HSVtoRGB(vec3(phue, GetProcreateHueBarSV(phue))), 1.0) * alpha;\r
}\r
`,squareGeometry=new Geometry;squareGeometry.positions=[-1,-1,0,1,-1,0,1,1,0,-1,1,0];squareGeometry.texCoords=[0,0,1,0,1,1,0,1];squareGeometry.indices=[0,1,2,0,2,3];function HsvRect2({histogram:o,currentRgb:s}){const a=reactExports.useRef(null),$=reactExports.useRef(null),[j,_e]=reactExports.useState(null),[et,tt]=reactExports.useState(null),[rt,nt]=reactExports.useState(null),[it,ot]=reactExports.useState(null),[st,at]=reactExports.useState(!1),[lt,ft]=reactExports.useState([0,1,1]),[pt,ut,dt]=lt,ct=200,ht=10,mt=s?RGBtoHSV(s):null;if(reactExports.useEffect(()=>{s&&ft(RGBtoHSV(s))},[s]),reactExports.useEffect(()=>{var Tt;const Et=(Tt=a.current)==null?void 0:Tt.getContext("webgl",{alpha:!0});if(!Et){console.log("WebGL not supported.");return}Et.enable(Et.BLEND),Et.enable(Et.DEPTH_TEST);const kt=new Scene(Et),Ct=new Camera;kt.setCamera(Ct);const Mt=new Material;Mt.initialize(Et,null,shaderPickerHsvSvMainFrag),nt(Mt);const Ft=new Model(Et,squareGeometry,Mt);kt.addModel(Ft),kt.render(),_e(kt),console.log("svCanvas initialized.")},[a]),reactExports.useEffect(()=>{var Tt;const Et=(Tt=$.current)==null?void 0:Tt.getContext("webgl",{alpha:!0});if(!Et){console.log("WebGL not supported.");return}Et.enable(Et.BLEND),Et.enable(Et.DEPTH_TEST);const kt=new Scene(Et),Ct=new Camera;kt.setCamera(Ct);const Mt=new Material;Mt.initialize(Et,null,shaderPickerPhsvHueMainFrag),ot(Mt);const Ft=new Model(Et,squareGeometry,Mt);kt.addModel(Ft),kt.render(),tt(kt),console.log("hueCanvas initialized.")},[$]),rt&&it&&j&&et){let Et=0;for(let Tt=0;Tt<100;Tt++){const $t=o.get(Tt)??[];Et+=$t.reduce((Dt,It)=>Dt+It[2],0)}let kt=[];const Ct=Math.floor(pt*100);let Mt=o.get(Ct)??[];for(let Tt=0;Tt<512;Tt++)Tt<Mt.length?(kt.push(Mt[Tt][0]),kt.push(Mt[Tt][1]),kt.push(Mt[Tt][2]/Et*1e4),kt.push(0)):(kt.push(-1),kt.push(-1),kt.push(0),kt.push(0));rt.clearUniforms(),rt.addUniform(new Vec4UniformEntry("uParams",[pt,0,0,0])),rt.addUniform(new Vec4UniformEntry("uCenters",kt)),j==null||j.render();let Ft=[];for(let Tt=0;Tt<100;Tt++){let $t=o.get(Tt)??[];Ft.push(Tt/100),Ft.push($t.map(Dt=>Dt[2]).reduce((Dt,It)=>Dt+It,0)/Et*100),Ft.push(0),Ft.push(0)}it.clearUniforms(),it.addUniform(new Vec4UniformEntry("uCenters",Ft)),et==null||et.render()}const vt=(Et,kt,Ct)=>Math.min(Math.max(Et,Ct),kt),yt=Et=>{if(!Et.buttons||!st)return;const kt=Et.nativeEvent.offsetX;let Ct=CalcHueFromProcreateBarPosition(vt(0,1,kt/ct));mt&&Math.abs(mt[0]-Ct)<.01&&(Ct=mt[0]),ft([Ct,ut,dt])},xt=Et=>{var kt;(kt=$==null?void 0:$.current)==null||kt.setPointerCapture(Et.pointerId),at(!0)},bt=Et=>{var kt;(kt=$==null?void 0:$.current)==null||kt.releasePointerCapture(Et.pointerId),at(!1)},gt=Et=>{var kt;(kt=$==null?void 0:$.current)==null||kt.setPointerCapture(Et.pointerId),at(!0)},wt=Et=>{var kt;(kt=$==null?void 0:$.current)==null||kt.releasePointerCapture(Et.pointerId),at(!1)};return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsx("canvas",{ref:a,width:ct,height:ct,style:{margin:"10px",userSelect:"none"},onTouchStart:Et=>Et.preventDefault()}),!!mt&&mt[0]==lt[0]&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:10+Math.floor((1-dt)*ct),left:10,width:ct,height:"1px",backgroundColor:"#a0a0a0"}}),!!mt&&mt[0]==lt[0]&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:10,left:10+Math.floor(ut*ct),width:"1px",height:ct,backgroundColor:"#a0a0a0"}})]}),jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsx("canvas",{ref:$,width:ct,height:ht,style:{margin:"0px 10px 10px 10px",position:"absolute",top:0,left:0,touchAction:"none",userSelect:"none"},onTouchStart:Et=>Et.preventDefault(),onPointerMove:yt,onPointerDown:xt,onPointerUp:bt}),jsxRuntimeExports.jsx("div",{onTouchStart:Et=>Et.preventDefault(),onPointerDown:gt,onPointerUp:wt,style:{top:-5,left:ct*CalcProcreateBarPositionFromHue(pt),width:16,height:16,border:"2px solid #ffffff",borderRadius:"50%",background:"rgb("+HSVtoRGB256([pt,1,1]).join(",")+")",position:"absolute",boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.5)",touchAction:"none"}})]})]})}var Close={},interopRequireDefault={exports:{}};(function(o){function s(a){return a&&a.__esModule?a:{default:a}}o.exports=s,o.exports.__esModule=!0,o.exports.default=o.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports,createSvgIcon={};const require$$0=getAugmentedNamespace(utils);var hasRequiredCreateSvgIcon;function requireCreateSvgIcon(){return hasRequiredCreateSvgIcon||(hasRequiredCreateSvgIcon=1,function(o){"use client";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"default",{enumerable:!0,get:function(){return s.createSvgIcon}});var s=require$$0}(createSvgIcon)),createSvgIcon}var _interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(Close,"__esModule",{value:!0});var default_1=Close.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=jsxRuntimeExports,_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");default_1=Close.default=_default;function warn(){if(console&&console.warn){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];typeof s[0]=="string"&&(s[0]=`react-i18next:: ${s[0]}`),console.warn(...s)}}const alreadyWarned={};function warnOnce(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];typeof s[0]=="string"&&alreadyWarned[s[0]]||(typeof s[0]=="string"&&(alreadyWarned[s[0]]=new Date),warn(...s))}const loadedClb=(o,s)=>()=>{if(o.isInitialized)s();else{const a=()=>{setTimeout(()=>{o.off("initialized",a)},0),s()};o.on("initialized",a)}};function loadNamespaces(o,s,a){o.loadNamespaces(s,loadedClb(o,a))}function loadLanguages(o,s,a,$){typeof a=="string"&&(a=[a]),a.forEach(j=>{o.options.ns.indexOf(j)<0&&o.options.ns.push(j)}),o.loadLanguages(s,loadedClb(o,$))}function oldI18nextHasLoadedNamespace(o,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const $=s.languages[0],j=s.options?s.options.fallbackLng:!1,_e=s.languages[s.languages.length-1];if($.toLowerCase()==="cimode")return!0;const et=(tt,rt)=>{const nt=s.services.backendConnector.state[`${tt}|${rt}`];return nt===-1||nt===2};return a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!et(s.isLanguageChangingTo,o)?!1:!!(s.hasResourceBundle($,o)||!s.services.backendConnector.backend||s.options.resources&&!s.options.partialBundledLanguages||et($,o)&&(!j||et(_e,o)))}function hasLoadedNamespace(o,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!s.languages||!s.languages.length?(warnOnce("i18n.languages were undefined or empty",s.languages),!0):s.options.ignoreJSONStructure!==void 0?s.hasLoadedNamespace(o,{lng:a.lng,precheck:(j,_e)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&j.services.backendConnector.backend&&j.isLanguageChangingTo&&!_e(j.isLanguageChangingTo,o))return!1}}):oldI18nextHasLoadedNamespace(o,s,a)}const matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=o=>htmlEntities[o],unescape=o=>o.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape};function setDefaults(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};defaultOptions={...defaultOptions,...o}}function getDefaults(){return defaultOptions}let i18nInstance;function setI18n(o){i18nInstance=o}function getI18n(){return i18nInstance}const initReactI18next={type:"3rdParty",init(o){setDefaults(o.options.react),setI18n(o)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(s){s.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const usePrevious=(o,s)=>{const a=reactExports.useRef();return reactExports.useEffect(()=>{a.current=s?a.current:o},[o,s]),a.current};function useTranslation(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:a}=s,{i18n:$,defaultNS:j}=reactExports.useContext(I18nContext)||{},_e=a||$||getI18n();if(_e&&!_e.reportNamespaces&&(_e.reportNamespaces=new ReportNamespaces),!_e){warnOnce("You will need to pass in an i18next instance by using initReactI18next");const ct=(mt,vt)=>typeof vt=="string"?vt:vt&&typeof vt=="object"&&typeof vt.defaultValue=="string"?vt.defaultValue:Array.isArray(mt)?mt[mt.length-1]:mt,ht=[ct,{},!1];return ht.t=ct,ht.i18n={},ht.ready=!1,ht}_e.options.react&&_e.options.react.wait!==void 0&&warnOnce("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const et={...getDefaults(),..._e.options.react,...s},{useSuspense:tt,keyPrefix:rt}=et;let nt=o||j||_e.options&&_e.options.defaultNS;nt=typeof nt=="string"?[nt]:nt||["translation"],_e.reportNamespaces.addUsedNamespaces&&_e.reportNamespaces.addUsedNamespaces(nt);const it=(_e.isInitialized||_e.initializedStoreOnce)&&nt.every(ct=>hasLoadedNamespace(ct,_e,et));function ot(){return _e.getFixedT(s.lng||null,et.nsMode==="fallback"?nt:nt[0],rt)}const[st,at]=reactExports.useState(ot);let lt=nt.join();s.lng&&(lt=`${s.lng}${lt}`);const ft=usePrevious(lt),pt=reactExports.useRef(!0);reactExports.useEffect(()=>{const{bindI18n:ct,bindI18nStore:ht}=et;pt.current=!0,!it&&!tt&&(s.lng?loadLanguages(_e,s.lng,nt,()=>{pt.current&&at(ot)}):loadNamespaces(_e,nt,()=>{pt.current&&at(ot)})),it&&ft&&ft!==lt&&pt.current&&at(ot);function mt(){pt.current&&at(ot)}return ct&&_e&&_e.on(ct,mt),ht&&_e&&_e.store.on(ht,mt),()=>{pt.current=!1,ct&&_e&&ct.split(" ").forEach(vt=>_e.off(vt,mt)),ht&&_e&&ht.split(" ").forEach(vt=>_e.store.off(vt,mt))}},[_e,lt]);const ut=reactExports.useRef(!0);reactExports.useEffect(()=>{pt.current&&!ut.current&&at(ot),ut.current=!1},[_e,rt]);const dt=[st,_e,it];if(dt.t=st,dt.i18n=_e,dt.ready=it,it||!it&&!tt)return dt;throw new Promise(ct=>{s.lng?loadLanguages(_e,s.lng,nt,()=>ct()):loadNamespaces(_e,nt,()=>ct())})}class ColorAnalyzerData{constructor(s,a,$){this.histogram=s,this.imageUrl=a,this.image=$}}function ColorAnalyzer(o){var ft,pt,ut;const[s,a]=reactExports.useState(null),[$,j]=reactExports.useState(null),[_e,et]=reactExports.useState(null),tt=reactExports.useRef(null),{t:rt}=useTranslation(),nt=300,it=dt=>{const ct=dt.nativeEvent.offsetX,ht=dt.nativeEvent.offsetY;if(ct<0||dt.currentTarget.clientWidth<ct||ht<0||dt.currentTarget.clientHeight<ht)return;const mt=dt.currentTarget.clientWidth,vt=dt.currentTarget.clientHeight,yt=Math.floor(ct/mt*o.data.image.width)+Math.floor(ht/vt*o.data.image.height)*o.data.image.width,xt=o.data.image.getPixel(yt);if(xt.some(gt=>isNaN(gt)))return;const bt=xt.map(gt=>gt/255);a(bt),dt.buttons==1&&(j(bt),et([ct,ht]))},ot=s??$,[st,at,lt]=RGBtoHSV(ot??[0,0,0]);return jsxRuntimeExports.jsxs(Paper$1,{style:{display:"inline-block",margin:"20px 10px 0px 10px",padding:"30px 20px 20px 10px",position:"relative",boxShadow:"0px 1px 4px rgba(0, 0, 0, 0.2)"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",position:"relative",maxWidth:o.maxWidth??"800px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"block",margin:"10px 5px 10px 10px",width:nt,height:nt},children:[jsxRuntimeExports.jsx("img",{ref:tt,className:"App-logo",src:o.data.imageUrl,style:o.data.image.width>o.data.image.height?{width:nt,height:"auto",position:"relative",top:"50%",transform:"translateY(-50%)",touchAction:"none",userSelect:"none"}:{width:"auto",height:nt,touchAction:"none",userSelect:"none"},onDragStart:dt=>dt.preventDefault(),onPointerMove:it,onPointerDown:it,onPointerLeave:()=>a(null)}),!!_e&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:_e[1]+(nt-(((ft=tt==null?void 0:tt.current)==null?void 0:ft.height)??0)+20)/2,left:10,width:nt,height:"1px",backgroundColor:"#a0a0a0",pointerEvents:"none"}}),!!_e&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:10,left:_e[0]+(((pt=tt==null?void 0:tt.current)==null?void 0:pt.offsetLeft)??0),width:"1px",height:nt,backgroundColor:"#a0a0a0",pointerEvents:"none"}})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex"},children:[jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsx(HsvRect2,{histogram:o.data.histogram,currentRgb:ot}),jsxRuntimeExports.jsx(TextField$1,{fullWidth:!0,label:rt("COLOR_CODE"),value:"#"+(((ut=ot==null?void 0:ot.slice(0,3).map(dt=>Math.floor(dt*255).toString(16).padStart(2,"0").toUpperCase()))==null?void 0:ut.join(""))??"000000"),size:"small",margin:"dense",style:{position:"absolute",bottom:8,left:10,width:200}})]}),jsxRuntimeExports.jsxs("div",{style:{width:84},children:[jsxRuntimeExports.jsx(TextField$1,{fullWidth:!0,label:rt("HSV_HUE"),InputProps:{endAdornment:jsxRuntimeExports.jsx("span",{children:"°"})},value:st?Math.floor(st*360):0,size:"small",margin:"dense"}),jsxRuntimeExports.jsx(TextField$1,{fullWidth:!0,label:rt("HSV_SATURATION"),InputProps:{endAdornment:"%"},value:at?Math.floor(at*100):0,size:"small",margin:"dense"}),jsxRuntimeExports.jsx(TextField$1,{fullWidth:!0,label:rt("HSV_VALUE"),InputProps:{endAdornment:"%"},value:lt?Math.floor(lt*100):0,size:"small",margin:"dense"}),jsxRuntimeExports.jsx(TextField$1,{fullWidth:!0,label:"R",value:ot?Math.floor(ot[0]*255):0,size:"small",margin:"dense"}),jsxRuntimeExports.jsx(TextField$1,{fullWidth:!0,label:"G",value:ot?Math.floor(ot[1]*255):0,size:"small",margin:"dense"}),jsxRuntimeExports.jsx(TextField$1,{fullWidth:!0,label:"B",value:ot?Math.floor(ot[2]*255):0,size:"small",margin:"dense"})]})]})]}),jsxRuntimeExports.jsx(IconButton$1,{style:{position:"absolute",top:0,right:0},onClick:()=>{o.onClose()},children:jsxRuntimeExports.jsx(default_1,{})})]})}function debugLog(...o){}const githubMarkUrl="/color-analyzer/image/github-mark-white.png",sampleImageUrl="/color-analyzer/image/sample.jpg",calcHistogram=o=>{var j;let $=new Map;for(let _e=0;_e<o.height;_e+=10)for(let et=0;et<o.width;et+=10){const tt=et+_e*o.width,rt=o.getPixel(tt);let[nt,it,ot]=RGBtoHSV([rt[0]/255,rt[1]/255,rt[2]/255]);const st=Math.floor(nt*100);if(it=Math.floor(it*100)/100,ot=Math.floor(ot*100)/100,$.has(st)){let at=$.get(st),lt=!1;for(let ft=0;ft<at.length;ft++)if(at[ft][0]==it&&at[ft][1]==ot){at[ft][2]+=1,lt=!0;break}lt||(j=$.get(st))==null||j.push([it,ot,1])}else $.set(st,[[it,ot,1]])}for(let[_e,et]of $)et.sort((tt,rt)=>rt[2]-tt[2]);return $};function App(){const[o,s]=reactExports.useState(window.innerWidth),[a,$]=reactExports.useState(null),[j,_e]=reactExports.useState([]),[et,tt]=reactExports.useState(!1),{t:rt}=useTranslation();reactExports.useEffect(()=>{const it=()=>{s(window.innerWidth)};return window.addEventListener("resize",it),()=>window.removeEventListener("resize",it)}),reactExports.useEffect(()=>{(async()=>{const ot=await Image.load(sampleImageUrl),st=calcHistogram(ot);$(new ColorAnalyzerData(st,sampleImageUrl,ot))})()},[]);const nt=async it=>{const ot=await it.arrayBuffer(),st=new Uint8Array(ot);let at=await Image.load(st);at.width>at.height?at=at.resize({height:1e3,preserveAspectRatio:!0}):at=at.resize({width:1e3,preserveAspectRatio:!0}),at=at.colorDepth(8);const lt=calcHistogram(at);_e([...j,{histogram:lt,imageUrl:URL.createObjectURL(it),image:at}])};return jsxRuntimeExports.jsxs("div",{className:"App",onPaste:async it=>{it.clipboardData.getData("text"),debugLog(it.clipboardData.types),await nt(it.clipboardData.files[0])},onDragOver:it=>{it.preventDefault(),tt(!0)},onDragLeave:it=>{it.preventDefault(),tt(!1)},onDrop:async it=>{it.preventDefault(),tt(!1),it.dataTransfer.getData("text"),debugLog(it.dataTransfer.types),await nt(it.dataTransfer.files[0])},children:[jsxRuntimeExports.jsx(AppBar$1,{position:"static",sx:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)"},children:jsxRuntimeExports.jsxs(Toolbar$1,{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Color Analyzer"}),jsxRuntimeExports.jsx("a",{href:"https://github.com/arcturu/color-analyzer",target:"_blank",rel:"noopener noreferrer",children:jsxRuntimeExports.jsx("img",{src:githubMarkUrl,alt:"GitHub",width:"32",height:"32",style:{verticalAlign:"middle"}})})]})}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"},children:j.map((it,ot)=>jsxRuntimeExports.jsx(ColorAnalyzer,{maxWidth:o,data:it,onClose:()=>{const st=[...j];st.splice(ot,1),_e(st)}},it.imageUrl))}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",margin:"20px",border:"2px dashed #FF8E53",borderRadius:"10px",padding:"40px"},className:et?"is-dragging-over":"",children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",style:{margin:"0 0 20px 0"},children:rt("DRAG_AND_DROP_HERE")}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/png, image/jpeg, image/gif",onChange:it=>{nt(it.target.files[0]),it.target.value=""}}),jsxRuntimeExports.jsx(Typography$1,{style:{margin:"20px 0 0 0",fontSize:"0.8em",color:"#aaaaaa",whiteSpace:"pre-line"},children:rt("YOUR_IMAGE_WILL_NOT_BE_UPLOADED")})]}),j.length===0&&!!a&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Typography$1,{variant:"h5",children:rt("EXAMPLE")}),jsxRuntimeExports.jsx(ColorAnalyzer,{maxWidth:o,data:a,onClose:()=>{}})]})]})}var createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;const consoleLogger={type:"logger",log(o){this.output("log",o)},warn(o){this.output("warn",o)},error(o){this.output("error",o)},output(o,s){console&&console[o]&&console[o].apply(console,s)}};class Logger{constructor(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(s,a)}init(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=a.prefix||"i18next:",this.logger=s||consoleLogger,this.options=a,this.debug=a.debug}log(){for(var s=arguments.length,a=new Array(s),$=0;$<s;$++)a[$]=arguments[$];return this.forward(a,"log","",!0)}warn(){for(var s=arguments.length,a=new Array(s),$=0;$<s;$++)a[$]=arguments[$];return this.forward(a,"warn","",!0)}error(){for(var s=arguments.length,a=new Array(s),$=0;$<s;$++)a[$]=arguments[$];return this.forward(a,"error","")}deprecate(){for(var s=arguments.length,a=new Array(s),$=0;$<s;$++)a[$]=arguments[$];return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}forward(s,a,$,j){return j&&!this.debug?null:(typeof s[0]=="string"&&(s[0]=`${$}${this.prefix} ${s[0]}`),this.logger[a](s))}create(s){return new Logger(this.logger,{prefix:`${this.prefix}:${s}:`,...this.options})}clone(s){return s=s||this.options,s.prefix=s.prefix||this.prefix,new Logger(this.logger,s)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on(s,a){return s.split(" ").forEach($=>{this.observers[$]=this.observers[$]||[],this.observers[$].push(a)}),this}off(s,a){if(this.observers[s]){if(!a){delete this.observers[s];return}this.observers[s]=this.observers[s].filter($=>$!==a)}}emit(s){for(var a=arguments.length,$=new Array(a>1?a-1:0),j=1;j<a;j++)$[j-1]=arguments[j];this.observers[s]&&[].concat(this.observers[s]).forEach(et=>{et(...$)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(et=>{et.apply(et,[s,...$])})}}function defer(){let o,s;const a=new Promise(($,j)=>{o=$,s=j});return a.resolve=o,a.reject=s,a}function makeString(o){return o==null?"":""+o}function copy(o,s,a){o.forEach($=>{s[$]&&(a[$]=s[$])})}function getLastOfPath(o,s,a){function $(et){return et&&et.indexOf("###")>-1?et.replace(/###/g,"."):et}function j(){return!o||typeof o=="string"}const _e=typeof s!="string"?[].concat(s):s.split(".");for(;_e.length>1;){if(j())return{};const et=$(_e.shift());!o[et]&&a&&(o[et]=new a),Object.prototype.hasOwnProperty.call(o,et)?o=o[et]:o={}}return j()?{}:{obj:o,k:$(_e.shift())}}function setPath(o,s,a){const{obj:$,k:j}=getLastOfPath(o,s,Object);$[j]=a}function pushPath(o,s,a,$){const{obj:j,k:_e}=getLastOfPath(o,s,Object);j[_e]=j[_e]||[],$&&(j[_e]=j[_e].concat(a)),$||j[_e].push(a)}function getPath(o,s){const{obj:a,k:$}=getLastOfPath(o,s);if(a)return a[$]}function getPathWithDefaults(o,s,a){const $=getPath(o,a);return $!==void 0?$:getPath(s,a)}function deepExtend(o,s,a){for(const $ in s)$!=="__proto__"&&$!=="constructor"&&($ in o?typeof o[$]=="string"||o[$]instanceof String||typeof s[$]=="string"||s[$]instanceof String?a&&(o[$]=s[$]):deepExtend(o[$],s[$],a):o[$]=s[$]);return o}function regexEscape(o){return o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape(o){return typeof o=="string"?o.replace(/[&<>"'\/]/g,s=>_entityMap[s]):o}const chars=[" ",",","?","!",";"];function looksLikeObjectPath(o,s,a){s=s||"",a=a||"";const $=chars.filter(et=>s.indexOf(et)<0&&a.indexOf(et)<0);if($.length===0)return!0;const j=new RegExp(`(${$.map(et=>et==="?"?"\\?":et).join("|")})`);let _e=!j.test(o);if(!_e){const et=o.indexOf(a);et>0&&!j.test(o.substring(0,et))&&(_e=!0)}return _e}function deepFind(o,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!o)return;if(o[s])return o[s];const $=s.split(a);let j=o;for(let _e=0;_e<$.length;++_e){if(!j||typeof j[$[_e]]=="string"&&_e+1<$.length)return;if(j[$[_e]]===void 0){let et=2,tt=$.slice(_e,_e+et).join(a),rt=j[tt];for(;rt===void 0&&$.length>_e+et;)et++,tt=$.slice(_e,_e+et).join(a),rt=j[tt];if(rt===void 0)return;if(rt===null)return null;if(s.endsWith(tt)){if(typeof rt=="string")return rt;if(tt&&typeof rt[tt]=="string")return rt[tt]}const nt=$.slice(_e+et).join(a);return nt?deepFind(rt,nt,a):void 0}j=j[$[_e]]}return j}function getCleanedCode(o){return o&&o.indexOf("_")>0?o.replace("_","-"):o}class ResourceStore extends EventEmitter{constructor(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=s||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}removeNamespaces(s){const a=this.options.ns.indexOf(s);a>-1&&this.options.ns.splice(a,1)}getResource(s,a,$){let j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const _e=j.keySeparator!==void 0?j.keySeparator:this.options.keySeparator,et=j.ignoreJSONStructure!==void 0?j.ignoreJSONStructure:this.options.ignoreJSONStructure;let tt=[s,a];$&&typeof $!="string"&&(tt=tt.concat($)),$&&typeof $=="string"&&(tt=tt.concat(_e?$.split(_e):$)),s.indexOf(".")>-1&&(tt=s.split("."));const rt=getPath(this.data,tt);return rt||!et||typeof $!="string"?rt:deepFind(this.data&&this.data[s]&&this.data[s][a],$,_e)}addResource(s,a,$,j){let _e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const et=_e.keySeparator!==void 0?_e.keySeparator:this.options.keySeparator;let tt=[s,a];$&&(tt=tt.concat(et?$.split(et):$)),s.indexOf(".")>-1&&(tt=s.split("."),j=a,a=tt[1]),this.addNamespaces(a),setPath(this.data,tt,j),_e.silent||this.emit("added",s,a,$,j)}addResources(s,a,$){let j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const _e in $)(typeof $[_e]=="string"||Object.prototype.toString.apply($[_e])==="[object Array]")&&this.addResource(s,a,_e,$[_e],{silent:!0});j.silent||this.emit("added",s,a,$)}addResourceBundle(s,a,$,j,_e){let et=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},tt=[s,a];s.indexOf(".")>-1&&(tt=s.split("."),j=$,$=a,a=tt[1]),this.addNamespaces(a);let rt=getPath(this.data,tt)||{};j?deepExtend(rt,$,_e):rt={...rt,...$},setPath(this.data,tt,rt),et.silent||this.emit("added",s,a,$)}removeResourceBundle(s,a){this.hasResourceBundle(s,a)&&delete this.data[s][a],this.removeNamespaces(a),this.emit("removed",s,a)}hasResourceBundle(s,a){return this.getResource(s,a)!==void 0}getResourceBundle(s,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(s,a)}:this.getResource(s,a)}getDataByLanguage(s){return this.data[s]}hasLanguageSomeTranslations(s){const a=this.getDataByLanguage(s);return!!(a&&Object.keys(a)||[]).find(j=>a[j]&&Object.keys(a[j]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(o){this.processors[o.name]=o},handle(o,s,a,$,j){return o.forEach(_e=>{this.processors[_e]&&(s=this.processors[_e].process(s,a,$,j))}),s}};const checkedLoadedFor={};class Translator extends EventEmitter{constructor(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],s,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(s){s&&(this.language=s)}exists(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(s==null)return!1;const $=this.resolve(s,a);return $&&$.res!==void 0}extractFromKey(s,a){let $=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;$===void 0&&($=":");const j=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let _e=a.ns||this.options.defaultNS||[];const et=$&&s.indexOf($)>-1,tt=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!looksLikeObjectPath(s,$,j);if(et&&!tt){const rt=s.match(this.interpolator.nestingRegexp);if(rt&&rt.length>0)return{key:s,namespaces:_e};const nt=s.split($);($!==j||$===j&&this.options.ns.indexOf(nt[0])>-1)&&(_e=nt.shift()),s=nt.join(j)}return typeof _e=="string"&&(_e=[_e]),{key:s,namespaces:_e}}translate(s,a,$){if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),s==null)return"";Array.isArray(s)||(s=[String(s)]);const j=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,_e=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:et,namespaces:tt}=this.extractFromKey(s[s.length-1],a),rt=tt[tt.length-1],nt=a.lng||this.language,it=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(nt&&nt.toLowerCase()==="cimode"){if(it){const ht=a.nsSeparator||this.options.nsSeparator;return j?{res:`${rt}${ht}${et}`,usedKey:et,exactUsedKey:et,usedLng:nt,usedNS:rt}:`${rt}${ht}${et}`}return j?{res:et,usedKey:et,exactUsedKey:et,usedLng:nt,usedNS:rt}:et}const ot=this.resolve(s,a);let st=ot&&ot.res;const at=ot&&ot.usedKey||et,lt=ot&&ot.exactUsedKey||et,ft=Object.prototype.toString.apply(st),pt=["[object Number]","[object Function]","[object RegExp]"],ut=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,dt=!this.i18nFormat||this.i18nFormat.handleAsObject;if(dt&&st&&(typeof st!="string"&&typeof st!="boolean"&&typeof st!="number")&&pt.indexOf(ft)<0&&!(typeof ut=="string"&&ft==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ht=this.options.returnedObjectHandler?this.options.returnedObjectHandler(at,st,{...a,ns:tt}):`key '${et} (${this.language})' returned an object instead of string.`;return j?(ot.res=ht,ot):ht}if(_e){const ht=ft==="[object Array]",mt=ht?[]:{},vt=ht?lt:at;for(const yt in st)if(Object.prototype.hasOwnProperty.call(st,yt)){const xt=`${vt}${_e}${yt}`;mt[yt]=this.translate(xt,{...a,joinArrays:!1,ns:tt}),mt[yt]===xt&&(mt[yt]=st[yt])}st=mt}}else if(dt&&typeof ut=="string"&&ft==="[object Array]")st=st.join(ut),st&&(st=this.extendTranslation(st,s,a,$));else{let ht=!1,mt=!1;const vt=a.count!==void 0&&typeof a.count!="string",yt=Translator.hasDefaultValue(a),xt=vt?this.pluralResolver.getSuffix(nt,a.count,a):"",bt=a.ordinal&&vt?this.pluralResolver.getSuffix(nt,a.count,{ordinal:!1}):"",gt=a[`defaultValue${xt}`]||a[`defaultValue${bt}`]||a.defaultValue;!this.isValidLookup(st)&&yt&&(ht=!0,st=gt),this.isValidLookup(st)||(mt=!0,st=et);const Et=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&mt?void 0:st,kt=yt&&gt!==st&&this.options.updateMissing;if(mt||ht||kt){if(this.logger.log(kt?"updateKey":"missingKey",nt,rt,et,kt?gt:st),_e){const Tt=this.resolve(et,{...a,keySeparator:!1});Tt&&Tt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Ct=[];const Mt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Mt&&Mt[0])for(let Tt=0;Tt<Mt.length;Tt++)Ct.push(Mt[Tt]);else this.options.saveMissingTo==="all"?Ct=this.languageUtils.toResolveHierarchy(a.lng||this.language):Ct.push(a.lng||this.language);const Ft=(Tt,$t,Dt)=>{const It=yt&&Dt!==st?Dt:Et;this.options.missingKeyHandler?this.options.missingKeyHandler(Tt,rt,$t,It,kt,a):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(Tt,rt,$t,It,kt,a),this.emit("missingKey",Tt,rt,$t,st)};this.options.saveMissing&&(this.options.saveMissingPlurals&&vt?Ct.forEach(Tt=>{this.pluralResolver.getSuffixes(Tt,a).forEach($t=>{Ft([Tt],et+$t,a[`defaultValue${$t}`]||gt)})}):Ft(Ct,et,gt))}st=this.extendTranslation(st,s,a,ot,$),mt&&st===et&&this.options.appendNamespaceToMissingKey&&(st=`${rt}:${et}`),(mt||ht)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?st=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${rt}:${et}`:et,ht?st:void 0):st=this.options.parseMissingKeyHandler(st))}return j?(ot.res=st,ot):st}extendTranslation(s,a,$,j,_e){var et=this;if(this.i18nFormat&&this.i18nFormat.parse)s=this.i18nFormat.parse(s,{...this.options.interpolation.defaultVariables,...$},j.usedLng,j.usedNS,j.usedKey,{resolved:j});else if(!$.skipInterpolation){$.interpolation&&this.interpolator.init({...$,interpolation:{...this.options.interpolation,...$.interpolation}});const nt=typeof s=="string"&&($&&$.interpolation&&$.interpolation.skipOnVariables!==void 0?$.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let it;if(nt){const st=s.match(this.interpolator.nestingRegexp);it=st&&st.length}let ot=$.replace&&typeof $.replace!="string"?$.replace:$;if(this.options.interpolation.defaultVariables&&(ot={...this.options.interpolation.defaultVariables,...ot}),s=this.interpolator.interpolate(s,ot,$.lng||this.language,$),nt){const st=s.match(this.interpolator.nestingRegexp),at=st&&st.length;it<at&&($.nest=!1)}!$.lng&&this.options.compatibilityAPI!=="v1"&&j&&j.res&&($.lng=j.usedLng),$.nest!==!1&&(s=this.interpolator.nest(s,function(){for(var st=arguments.length,at=new Array(st),lt=0;lt<st;lt++)at[lt]=arguments[lt];return _e&&_e[0]===at[0]&&!$.context?(et.logger.warn(`It seems you are nesting recursively key: ${at[0]} in key: ${a[0]}`),null):et.translate(...at,a)},$)),$.interpolation&&this.interpolator.reset()}const tt=$.postProcess||this.options.postProcess,rt=typeof tt=="string"?[tt]:tt;return s!=null&&rt&&rt.length&&$.applyPostProcessor!==!1&&(s=postProcessor.handle(rt,s,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:j,...$}:$,this)),s}resolve(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$,j,_e,et,tt;return typeof s=="string"&&(s=[s]),s.forEach(rt=>{if(this.isValidLookup($))return;const nt=this.extractFromKey(rt,a),it=nt.key;j=it;let ot=nt.namespaces;this.options.fallbackNS&&(ot=ot.concat(this.options.fallbackNS));const st=a.count!==void 0&&typeof a.count!="string",at=st&&!a.ordinal&&a.count===0&&this.pluralResolver.shouldUseIntlApi(),lt=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",ft=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);ot.forEach(pt=>{this.isValidLookup($)||(tt=pt,!checkedLoadedFor[`${ft[0]}-${pt}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(tt)&&(checkedLoadedFor[`${ft[0]}-${pt}`]=!0,this.logger.warn(`key "${j}" for languages "${ft.join(", ")}" won't get resolved as namespace "${tt}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),ft.forEach(ut=>{if(this.isValidLookup($))return;et=ut;const dt=[it];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(dt,it,ut,pt,a);else{let ht;st&&(ht=this.pluralResolver.getSuffix(ut,a.count,a));const mt=`${this.options.pluralSeparator}zero`,vt=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(st&&(dt.push(it+ht),a.ordinal&&ht.indexOf(vt)===0&&dt.push(it+ht.replace(vt,this.options.pluralSeparator)),at&&dt.push(it+mt)),lt){const yt=`${it}${this.options.contextSeparator}${a.context}`;dt.push(yt),st&&(dt.push(yt+ht),a.ordinal&&ht.indexOf(vt)===0&&dt.push(yt+ht.replace(vt,this.options.pluralSeparator)),at&&dt.push(yt+mt))}}let ct;for(;ct=dt.pop();)this.isValidLookup($)||(_e=ct,$=this.getResource(ut,pt,ct,a))}))})}),{res:$,usedKey:j,exactUsedKey:_e,usedLng:et,usedNS:tt}}isValidLookup(s){return s!==void 0&&!(!this.options.returnNull&&s===null)&&!(!this.options.returnEmptyString&&s==="")}getResource(s,a,$){let j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(s,a,$,j):this.resourceStore.getResource(s,a,$,j)}static hasDefaultValue(s){const a="defaultValue";for(const $ in s)if(Object.prototype.hasOwnProperty.call(s,$)&&a===$.substring(0,a.length)&&s[$]!==void 0)return!0;return!1}}function capitalize(o){return o.charAt(0).toUpperCase()+o.slice(1)}class LanguageUtil{constructor(s){this.options=s,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(s){if(s=getCleanedCode(s),!s||s.indexOf("-")<0)return null;const a=s.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(s){if(s=getCleanedCode(s),!s||s.indexOf("-")<0)return s;const a=s.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(s){if(typeof s=="string"&&s.indexOf("-")>-1){const a=["hans","hant","latn","cyrl","cans","mong","arab"];let $=s.split("-");return this.options.lowerCaseLng?$=$.map(j=>j.toLowerCase()):$.length===2?($[0]=$[0].toLowerCase(),$[1]=$[1].toUpperCase(),a.indexOf($[1].toLowerCase())>-1&&($[1]=capitalize($[1].toLowerCase()))):$.length===3&&($[0]=$[0].toLowerCase(),$[1].length===2&&($[1]=$[1].toUpperCase()),$[0]!=="sgn"&&$[2].length===2&&($[2]=$[2].toUpperCase()),a.indexOf($[1].toLowerCase())>-1&&($[1]=capitalize($[1].toLowerCase())),a.indexOf($[2].toLowerCase())>-1&&($[2]=capitalize($[2].toLowerCase()))),$.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?s.toLowerCase():s}isSupportedCode(s){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(s=this.getLanguagePartFromCode(s)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(s)>-1}getBestMatchFromCodes(s){if(!s)return null;let a;return s.forEach($=>{if(a)return;const j=this.formatLanguageCode($);(!this.options.supportedLngs||this.isSupportedCode(j))&&(a=j)}),!a&&this.options.supportedLngs&&s.forEach($=>{if(a)return;const j=this.getLanguagePartFromCode($);if(this.isSupportedCode(j))return a=j;a=this.options.supportedLngs.find(_e=>{if(_e===j)return _e;if(!(_e.indexOf("-")<0&&j.indexOf("-")<0)&&_e.indexOf(j)===0)return _e})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(s,a){if(!s)return[];if(typeof s=="function"&&(s=s(a)),typeof s=="string"&&(s=[s]),Object.prototype.toString.apply(s)==="[object Array]")return s;if(!a)return s.default||[];let $=s[a];return $||($=s[this.getScriptPartFromCode(a)]),$||($=s[this.formatLanguageCode(a)]),$||($=s[this.getLanguagePartFromCode(a)]),$||($=s.default),$||[]}toResolveHierarchy(s,a){const $=this.getFallbackCodes(a||this.options.fallbackLng||[],s),j=[],_e=et=>{et&&(this.isSupportedCode(et)?j.push(et):this.logger.warn(`rejecting language code not found in supportedLngs: ${et}`))};return typeof s=="string"&&(s.indexOf("-")>-1||s.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&_e(this.formatLanguageCode(s)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&_e(this.getScriptPartFromCode(s)),this.options.load!=="currentOnly"&&_e(this.getLanguagePartFromCode(s))):typeof s=="string"&&_e(this.formatLanguageCode(s)),$.forEach(et=>{j.indexOf(et)<0&&_e(this.formatLanguageCode(et))}),j}}let sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:function(o){return+(o>1)},2:function(o){return+(o!=1)},3:function(o){return 0},4:function(o){return o%10==1&&o%100!=11?0:o%10>=2&&o%10<=4&&(o%100<10||o%100>=20)?1:2},5:function(o){return o==0?0:o==1?1:o==2?2:o%100>=3&&o%100<=10?3:o%100>=11?4:5},6:function(o){return o==1?0:o>=2&&o<=4?1:2},7:function(o){return o==1?0:o%10>=2&&o%10<=4&&(o%100<10||o%100>=20)?1:2},8:function(o){return o==1?0:o==2?1:o!=8&&o!=11?2:3},9:function(o){return+(o>=2)},10:function(o){return o==1?0:o==2?1:o<7?2:o<11?3:4},11:function(o){return o==1||o==11?0:o==2||o==12?1:o>2&&o<20?2:3},12:function(o){return+(o%10!=1||o%100==11)},13:function(o){return+(o!==0)},14:function(o){return o==1?0:o==2?1:o==3?2:3},15:function(o){return o%10==1&&o%100!=11?0:o%10>=2&&(o%100<10||o%100>=20)?1:2},16:function(o){return o%10==1&&o%100!=11?0:o!==0?1:2},17:function(o){return o==1||o%10==1&&o%100!=11?0:1},18:function(o){return o==0?0:o==1?1:2},19:function(o){return o==1?0:o==0||o%100>1&&o%100<11?1:o%100>10&&o%100<20?2:3},20:function(o){return o==1?0:o==0||o%100>0&&o%100<20?1:2},21:function(o){return o%100==1?1:o%100==2?2:o%100==3||o%100==4?3:0},22:function(o){return o==1?0:o==2?1:(o<0||o>10)&&o%10==0?2:3}};const nonIntlVersions=["v1","v2","v3"],intlVersions=["v4"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5};function createRules(){const o={};return sets.forEach(s=>{s.lngs.forEach(a=>{o[a]={numbers:s.nr,plurals:_rulesPluralsTypes[s.fc]}})}),o}class PluralResolver{constructor(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=s,this.options=a,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||intlVersions.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules()}addRule(s,a){this.rules[s]=a}getRule(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(getCleanedCode(s),{type:a.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[s]||this.rules[this.languageUtils.getLanguagePartFromCode(s)]}needsPlural(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const $=this.getRule(s,a);return this.shouldUseIntlApi()?$&&$.resolvedOptions().pluralCategories.length>1:$&&$.numbers.length>1}getPluralFormsOfKey(s,a){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(s,$).map(j=>`${a}${j}`)}getSuffixes(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const $=this.getRule(s,a);return $?this.shouldUseIntlApi()?$.resolvedOptions().pluralCategories.sort((j,_e)=>suffixesOrder[j]-suffixesOrder[_e]).map(j=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${j}`):$.numbers.map(j=>this.getSuffix(s,j,a)):[]}getSuffix(s,a){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const j=this.getRule(s,$);return j?this.shouldUseIntlApi()?`${this.options.prepend}${$.ordinal?`ordinal${this.options.prepend}`:""}${j.select(a)}`:this.getSuffixRetroCompatible(j,a):(this.logger.warn(`no plural rule found for: ${s}`),"")}getSuffixRetroCompatible(s,a){const $=s.noAbs?s.plurals(a):s.plurals(Math.abs(a));let j=s.numbers[$];this.options.simplifyPluralSuffix&&s.numbers.length===2&&s.numbers[0]===1&&(j===2?j="plural":j===1&&(j=""));const _e=()=>this.options.prepend&&j.toString()?this.options.prepend+j.toString():j.toString();return this.options.compatibilityJSON==="v1"?j===1?"":typeof j=="number"?`_plural_${j.toString()}`:_e():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&s.numbers.length===2&&s.numbers[0]===1?_e():this.options.prepend&&$.toString()?this.options.prepend+$.toString():$.toString()}shouldUseIntlApi(){return!nonIntlVersions.includes(this.options.compatibilityJSON)}}function deepFindWithDefaults(o,s,a){let $=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,_e=getPathWithDefaults(o,s,a);return!_e&&j&&typeof a=="string"&&(_e=deepFind(o,a,$),_e===void 0&&(_e=deepFind(s,a,$))),_e}class Interpolator{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("interpolator"),this.options=s,this.format=s.interpolation&&s.interpolation.format||(a=>a),this.init(s)}init(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};s.interpolation||(s.interpolation={escapeValue:!0});const a=s.interpolation;this.escape=a.escape!==void 0?a.escape:escape,this.escapeValue=a.escapeValue!==void 0?a.escapeValue:!0,this.useRawValueToEscape=a.useRawValueToEscape!==void 0?a.useRawValueToEscape:!1,this.prefix=a.prefix?regexEscape(a.prefix):a.prefixEscaped||"{{",this.suffix=a.suffix?regexEscape(a.suffix):a.suffixEscaped||"}}",this.formatSeparator=a.formatSeparator?a.formatSeparator:a.formatSeparator||",",this.unescapePrefix=a.unescapeSuffix?"":a.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":a.unescapeSuffix||"",this.nestingPrefix=a.nestingPrefix?regexEscape(a.nestingPrefix):a.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=a.nestingSuffix?regexEscape(a.nestingSuffix):a.nestingSuffixEscaped||regexEscape(")"),this.nestingOptionsSeparator=a.nestingOptionsSeparator?a.nestingOptionsSeparator:a.nestingOptionsSeparator||",",this.maxReplaces=a.maxReplaces?a.maxReplaces:1e3,this.alwaysFormat=a.alwaysFormat!==void 0?a.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const s=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(s,"g");const a=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(a,"g");const $=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp($,"g")}interpolate(s,a,$,j){let _e,et,tt;const rt=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function nt(lt){return lt.replace(/\$/g,"$$$$")}const it=lt=>{if(lt.indexOf(this.formatSeparator)<0){const dt=deepFindWithDefaults(a,rt,lt,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(dt,void 0,$,{...j,...a,interpolationkey:lt}):dt}const ft=lt.split(this.formatSeparator),pt=ft.shift().trim(),ut=ft.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(a,rt,pt,this.options.keySeparator,this.options.ignoreJSONStructure),ut,$,{...j,...a,interpolationkey:pt})};this.resetRegExp();const ot=j&&j.missingInterpolationHandler||this.options.missingInterpolationHandler,st=j&&j.interpolation&&j.interpolation.skipOnVariables!==void 0?j.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:lt=>nt(lt)},{regex:this.regexp,safeValue:lt=>this.escapeValue?nt(this.escape(lt)):nt(lt)}].forEach(lt=>{for(tt=0;_e=lt.regex.exec(s);){const ft=_e[1].trim();if(et=it(ft),et===void 0)if(typeof ot=="function"){const ut=ot(s,_e,j);et=typeof ut=="string"?ut:""}else if(j&&Object.prototype.hasOwnProperty.call(j,ft))et="";else if(st){et=_e[0];continue}else this.logger.warn(`missed to pass in variable ${ft} for interpolating ${s}`),et="";else typeof et!="string"&&!this.useRawValueToEscape&&(et=makeString(et));const pt=lt.safeValue(et);if(s=s.replace(_e[0],pt),st?(lt.regex.lastIndex+=et.length,lt.regex.lastIndex-=_e[0].length):lt.regex.lastIndex=0,tt++,tt>=this.maxReplaces)break}}),s}nest(s,a){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j,_e,et;function tt(rt,nt){const it=this.nestingOptionsSeparator;if(rt.indexOf(it)<0)return rt;const ot=rt.split(new RegExp(`${it}[ ]*{`));let st=`{${ot[1]}`;rt=ot[0],st=this.interpolate(st,et);const at=st.match(/'/g),lt=st.match(/"/g);(at&&at.length%2===0&&!lt||lt.length%2!==0)&&(st=st.replace(/'/g,'"'));try{et=JSON.parse(st),nt&&(et={...nt,...et})}catch(ft){return this.logger.warn(`failed parsing options string in nesting for key ${rt}`,ft),`${rt}${it}${st}`}return delete et.defaultValue,rt}for(;j=this.nestingRegexp.exec(s);){let rt=[];et={...$},et=et.replace&&typeof et.replace!="string"?et.replace:et,et.applyPostProcessor=!1,delete et.defaultValue;let nt=!1;if(j[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(j[1])){const it=j[1].split(this.formatSeparator).map(ot=>ot.trim());j[1]=it.shift(),rt=it,nt=!0}if(_e=a(tt.call(this,j[1].trim(),et),et),_e&&j[0]===s&&typeof _e!="string")return _e;typeof _e!="string"&&(_e=makeString(_e)),_e||(this.logger.warn(`missed to resolve ${j[1]} for nesting ${s}`),_e=""),nt&&(_e=rt.reduce((it,ot)=>this.format(it,ot,$.lng,{...$,interpolationkey:j[1].trim()}),_e.trim())),s=s.replace(j[0],_e),this.regexp.lastIndex=0}return s}}function parseFormatStr(o){let s=o.toLowerCase().trim();const a={};if(o.indexOf("(")>-1){const $=o.split("(");s=$[0].toLowerCase().trim();const j=$[1].substring(0,$[1].length-1);s==="currency"&&j.indexOf(":")<0?a.currency||(a.currency=j.trim()):s==="relativetime"&&j.indexOf(":")<0?a.range||(a.range=j.trim()):j.split(";").forEach(et=>{if(!et)return;const[tt,...rt]=et.split(":"),nt=rt.join(":").trim().replace(/^'+|'+$/g,"");a[tt.trim()]||(a[tt.trim()]=nt),nt==="false"&&(a[tt.trim()]=!1),nt==="true"&&(a[tt.trim()]=!0),isNaN(nt)||(a[tt.trim()]=parseInt(nt,10))})}return{formatName:s,formatOptions:a}}function createCachedFormatter(o){const s={};return function($,j,_e){const et=j+JSON.stringify(_e);let tt=s[et];return tt||(tt=o(getCleanedCode(j),_e),s[et]=tt),tt($)}}class Formatter{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("formatter"),this.options=s,this.formats={number:createCachedFormatter((a,$)=>{const j=new Intl.NumberFormat(a,{...$});return _e=>j.format(_e)}),currency:createCachedFormatter((a,$)=>{const j=new Intl.NumberFormat(a,{...$,style:"currency"});return _e=>j.format(_e)}),datetime:createCachedFormatter((a,$)=>{const j=new Intl.DateTimeFormat(a,{...$});return _e=>j.format(_e)}),relativetime:createCachedFormatter((a,$)=>{const j=new Intl.RelativeTimeFormat(a,{...$});return _e=>j.format(_e,$.range||"day")}),list:createCachedFormatter((a,$)=>{const j=new Intl.ListFormat(a,{...$});return _e=>j.format(_e)})},this.init(s)}init(s){const $=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=$.formatSeparator?$.formatSeparator:$.formatSeparator||","}add(s,a){this.formats[s.toLowerCase().trim()]=a}addCached(s,a){this.formats[s.toLowerCase().trim()]=createCachedFormatter(a)}format(s,a,$){let j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return a.split(this.formatSeparator).reduce((tt,rt)=>{const{formatName:nt,formatOptions:it}=parseFormatStr(rt);if(this.formats[nt]){let ot=tt;try{const st=j&&j.formatParams&&j.formatParams[j.interpolationkey]||{},at=st.locale||st.lng||j.locale||j.lng||$;ot=this.formats[nt](tt,at,{...it,...j,...st})}catch(st){this.logger.warn(st)}return ot}else this.logger.warn(`there was no format function for ${nt}`);return tt},s)}}function removePending(o,s){o.pending[s]!==void 0&&(delete o.pending[s],o.pendingCount--)}class Connector extends EventEmitter{constructor(s,a,$){let j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=s,this.store=a,this.services=$,this.languageUtils=$.languageUtils,this.options=j,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=j.maxParallelReads||10,this.readingCalls=0,this.maxRetries=j.maxRetries>=0?j.maxRetries:5,this.retryTimeout=j.retryTimeout>=1?j.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init($,j.backend,j)}queueLoad(s,a,$,j){const _e={},et={},tt={},rt={};return s.forEach(nt=>{let it=!0;a.forEach(ot=>{const st=`${nt}|${ot}`;!$.reload&&this.store.hasResourceBundle(nt,ot)?this.state[st]=2:this.state[st]<0||(this.state[st]===1?et[st]===void 0&&(et[st]=!0):(this.state[st]=1,it=!1,et[st]===void 0&&(et[st]=!0),_e[st]===void 0&&(_e[st]=!0),rt[ot]===void 0&&(rt[ot]=!0)))}),it||(tt[nt]=!0)}),(Object.keys(_e).length||Object.keys(et).length)&&this.queue.push({pending:et,pendingCount:Object.keys(et).length,loaded:{},errors:[],callback:j}),{toLoad:Object.keys(_e),pending:Object.keys(et),toLoadLanguages:Object.keys(tt),toLoadNamespaces:Object.keys(rt)}}loaded(s,a,$){const j=s.split("|"),_e=j[0],et=j[1];a&&this.emit("failedLoading",_e,et,a),$&&this.store.addResourceBundle(_e,et,$),this.state[s]=a?-1:2;const tt={};this.queue.forEach(rt=>{pushPath(rt.loaded,[_e],et),removePending(rt,s),a&&rt.errors.push(a),rt.pendingCount===0&&!rt.done&&(Object.keys(rt.loaded).forEach(nt=>{tt[nt]||(tt[nt]={});const it=rt.loaded[nt];it.length&&it.forEach(ot=>{tt[nt][ot]===void 0&&(tt[nt][ot]=!0)})}),rt.done=!0,rt.errors.length?rt.callback(rt.errors):rt.callback())}),this.emit("loaded",tt),this.queue=this.queue.filter(rt=>!rt.done)}read(s,a,$){let j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,_e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,et=arguments.length>5?arguments[5]:void 0;if(!s.length)return et(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:s,ns:a,fcName:$,tried:j,wait:_e,callback:et});return}this.readingCalls++;const tt=(nt,it)=>{if(this.readingCalls--,this.waitingReads.length>0){const ot=this.waitingReads.shift();this.read(ot.lng,ot.ns,ot.fcName,ot.tried,ot.wait,ot.callback)}if(nt&&it&&j<this.maxRetries){setTimeout(()=>{this.read.call(this,s,a,$,j+1,_e*2,et)},_e);return}et(nt,it)},rt=this.backend[$].bind(this.backend);if(rt.length===2){try{const nt=rt(s,a);nt&&typeof nt.then=="function"?nt.then(it=>tt(null,it)).catch(tt):tt(null,nt)}catch(nt){tt(nt)}return}return rt(s,a,tt)}prepareLoading(s,a){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),j&&j();typeof s=="string"&&(s=this.languageUtils.toResolveHierarchy(s)),typeof a=="string"&&(a=[a]);const _e=this.queueLoad(s,a,$,j);if(!_e.toLoad.length)return _e.pending.length||j(),null;_e.toLoad.forEach(et=>{this.loadOne(et)})}load(s,a,$){this.prepareLoading(s,a,{},$)}reload(s,a,$){this.prepareLoading(s,a,{reload:!0},$)}loadOne(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const $=s.split("|"),j=$[0],_e=$[1];this.read(j,_e,"read",void 0,void 0,(et,tt)=>{et&&this.logger.warn(`${a}loading namespace ${_e} for language ${j} failed`,et),!et&&tt&&this.logger.log(`${a}loaded namespace ${_e} for language ${j}`,tt),this.loaded(s,et,tt)})}saveMissing(s,a,$,j,_e){let et=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},tt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn(`did not save key "${$}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!($==null||$==="")){if(this.backend&&this.backend.create){const rt={...et,isUpdate:_e},nt=this.backend.create.bind(this.backend);if(nt.length<6)try{let it;nt.length===5?it=nt(s,a,$,j,rt):it=nt(s,a,$,j),it&&typeof it.then=="function"?it.then(ot=>tt(null,ot)).catch(tt):tt(null,it)}catch(it){tt(it)}else nt(s,a,$,j,tt,rt)}!s||!s[0]||this.store.addResource(s[0],a,$,j)}}}function get(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(s){let a={};if(typeof s[1]=="object"&&(a=s[1]),typeof s[1]=="string"&&(a.defaultValue=s[1]),typeof s[2]=="string"&&(a.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const $=s[3]||s[2];Object.keys($).forEach(j=>{a[j]=$[j]})}return a},interpolation:{escapeValue:!0,format:(o,s,a,$)=>o,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function transformOptions(o){return typeof o.ns=="string"&&(o.ns=[o.ns]),typeof o.fallbackLng=="string"&&(o.fallbackLng=[o.fallbackLng]),typeof o.fallbackNS=="string"&&(o.fallbackNS=[o.fallbackNS]),o.supportedLngs&&o.supportedLngs.indexOf("cimode")<0&&(o.supportedLngs=o.supportedLngs.concat(["cimode"])),o}function noop(){}function bindMemberFunctions(o){Object.getOwnPropertyNames(Object.getPrototypeOf(o)).forEach(a=>{typeof o[a]=="function"&&(o[a]=o[a].bind(o))})}class I18n extends EventEmitter{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions(s),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),a&&!this.isInitialized&&!s.isClone){if(!this.options.initImmediate)return this.init(s,a),this;setTimeout(()=>{this.init(s,a)},0)}}init(){var s=this;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&($=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));const j=get();this.options={...j,...this.options,...transformOptions(a)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...j.interpolation,...this.options.interpolation}),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function _e(it){return it?typeof it=="function"?new it:it:null}if(!this.options.isClone){this.modules.logger?baseLogger.init(_e(this.modules.logger),this.options):baseLogger.init(null,this.options);let it;this.modules.formatter?it=this.modules.formatter:typeof Intl<"u"&&(it=Formatter);const ot=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const st=this.services;st.logger=baseLogger,st.resourceStore=this.store,st.languageUtils=ot,st.pluralResolver=new PluralResolver(ot,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),it&&(!this.options.interpolation.format||this.options.interpolation.format===j.interpolation.format)&&(st.formatter=_e(it),st.formatter.init(st,this.options),this.options.interpolation.format=st.formatter.format.bind(st.formatter)),st.interpolator=new Interpolator(this.options),st.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},st.backendConnector=new Connector(_e(this.modules.backend),st.resourceStore,st,this.options),st.backendConnector.on("*",function(at){for(var lt=arguments.length,ft=new Array(lt>1?lt-1:0),pt=1;pt<lt;pt++)ft[pt-1]=arguments[pt];s.emit(at,...ft)}),this.modules.languageDetector&&(st.languageDetector=_e(this.modules.languageDetector),st.languageDetector.init&&st.languageDetector.init(st,this.options.detection,this.options)),this.modules.i18nFormat&&(st.i18nFormat=_e(this.modules.i18nFormat),st.i18nFormat.init&&st.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(at){for(var lt=arguments.length,ft=new Array(lt>1?lt-1:0),pt=1;pt<lt;pt++)ft[pt-1]=arguments[pt];s.emit(at,...ft)}),this.modules.external.forEach(at=>{at.init&&at.init(this)})}if(this.format=this.options.interpolation.format,$||($=noop),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const it=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);it.length>0&&it[0]!=="dev"&&(this.options.lng=it[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(it=>{this[it]=function(){return s.store[it](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(it=>{this[it]=function(){return s.store[it](...arguments),s}});const rt=defer(),nt=()=>{const it=(ot,st)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),rt.resolve(st),$(ot,st)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return it(null,this.t.bind(this));this.changeLanguage(this.options.lng,it)};return this.options.resources||!this.options.initImmediate?nt():setTimeout(nt,0),rt}loadResources(s){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop;const j=typeof s=="string"?s:this.language;if(typeof s=="function"&&($=s),!this.options.resources||this.options.partialBundledLanguages){if(j&&j.toLowerCase()==="cimode")return $();const _e=[],et=tt=>{if(!tt)return;this.services.languageUtils.toResolveHierarchy(tt).forEach(nt=>{_e.indexOf(nt)<0&&_e.push(nt)})};j?et(j):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(rt=>et(rt)),this.options.preload&&this.options.preload.forEach(tt=>et(tt)),this.services.backendConnector.load(_e,this.options.ns,tt=>{!tt&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),$(tt)})}else $(null)}reloadResources(s,a,$){const j=defer();return s||(s=this.languages),a||(a=this.options.ns),$||($=noop),this.services.backendConnector.reload(s,a,_e=>{j.resolve(),$(_e)}),j}use(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&postProcessor.addPostProcessor(s),s.type==="formatter"&&(this.modules.formatter=s),s.type==="3rdParty"&&this.modules.external.push(s),this}setResolvedLanguage(s){if(!(!s||!this.languages)&&!(["cimode","dev"].indexOf(s)>-1))for(let a=0;a<this.languages.length;a++){const $=this.languages[a];if(!(["cimode","dev"].indexOf($)>-1)&&this.store.hasLanguageSomeTranslations($)){this.resolvedLanguage=$;break}}}changeLanguage(s,a){var $=this;this.isLanguageChangingTo=s;const j=defer();this.emit("languageChanging",s);const _e=rt=>{this.language=rt,this.languages=this.services.languageUtils.toResolveHierarchy(rt),this.resolvedLanguage=void 0,this.setResolvedLanguage(rt)},et=(rt,nt)=>{nt?(_e(nt),this.translator.changeLanguage(nt),this.isLanguageChangingTo=void 0,this.emit("languageChanged",nt),this.logger.log("languageChanged",nt)):this.isLanguageChangingTo=void 0,j.resolve(function(){return $.t(...arguments)}),a&&a(rt,function(){return $.t(...arguments)})},tt=rt=>{!s&&!rt&&this.services.languageDetector&&(rt=[]);const nt=typeof rt=="string"?rt:this.services.languageUtils.getBestMatchFromCodes(rt);nt&&(this.language||_e(nt),this.translator.language||this.translator.changeLanguage(nt),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(nt)),this.loadResources(nt,it=>{et(it,nt)})};return!s&&this.services.languageDetector&&!this.services.languageDetector.async?tt(this.services.languageDetector.detect()):!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(tt):this.services.languageDetector.detect(tt):tt(s),j}getFixedT(s,a,$){var j=this;const _e=function(et,tt){let rt;if(typeof tt!="object"){for(var nt=arguments.length,it=new Array(nt>2?nt-2:0),ot=2;ot<nt;ot++)it[ot-2]=arguments[ot];rt=j.options.overloadTranslationOptionHandler([et,tt].concat(it))}else rt={...tt};rt.lng=rt.lng||_e.lng,rt.lngs=rt.lngs||_e.lngs,rt.ns=rt.ns||_e.ns,rt.keyPrefix=rt.keyPrefix||$||_e.keyPrefix;const st=j.options.keySeparator||".";let at;return rt.keyPrefix&&Array.isArray(et)?at=et.map(lt=>`${rt.keyPrefix}${st}${lt}`):at=rt.keyPrefix?`${rt.keyPrefix}${st}${et}`:et,j.t(at,rt)};return typeof s=="string"?_e.lng=s:_e.lngs=s,_e.ns=a,_e.keyPrefix=$,_e}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(s){this.options.defaultNS=s}hasLoadedNamespace(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const $=a.lng||this.resolvedLanguage||this.languages[0],j=this.options?this.options.fallbackLng:!1,_e=this.languages[this.languages.length-1];if($.toLowerCase()==="cimode")return!0;const et=(tt,rt)=>{const nt=this.services.backendConnector.state[`${tt}|${rt}`];return nt===-1||nt===2};if(a.precheck){const tt=a.precheck(this,et);if(tt!==void 0)return tt}return!!(this.hasResourceBundle($,s)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||et($,s)&&(!j||et(_e,s)))}loadNamespaces(s,a){const $=defer();return this.options.ns?(typeof s=="string"&&(s=[s]),s.forEach(j=>{this.options.ns.indexOf(j)<0&&this.options.ns.push(j)}),this.loadResources(j=>{$.resolve(),a&&a(j)}),$):(a&&a(),Promise.resolve())}loadLanguages(s,a){const $=defer();typeof s=="string"&&(s=[s]);const j=this.options.preload||[],_e=s.filter(et=>j.indexOf(et)<0);return _e.length?(this.options.preload=j.concat(_e),this.loadResources(et=>{$.resolve(),a&&a(et)}),$):(a&&a(),Promise.resolve())}dir(s){if(s||(s=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!s)return"rtl";const a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],$=this.services&&this.services.languageUtils||new LanguageUtil(get());return a.indexOf($.getLanguagePartFromCode(s))>-1||s.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;return new I18n(s,a)}cloneInstance(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop;const $=s.forkResourceStore;$&&delete s.forkResourceStore;const j={...this.options,...s,isClone:!0},_e=new I18n(j);return(s.debug!==void 0||s.prefix!==void 0)&&(_e.logger=_e.logger.clone(s)),["store","services","language"].forEach(tt=>{_e[tt]=this[tt]}),_e.services={...this.services},_e.services.utils={hasLoadedNamespace:_e.hasLoadedNamespace.bind(_e)},$&&(_e.store=new ResourceStore(this.store.data,j),_e.services.resourceStore=_e.store),_e.translator=new Translator(_e.services,j),_e.translator.on("*",function(tt){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),it=1;it<rt;it++)nt[it-1]=arguments[it];_e.emit(tt,...nt)}),_e.init(j,a),_e.translator.options=j,_e.translator.backendConnector.services.utils={hasLoadedNamespace:_e.hasLoadedNamespace.bind(_e)},_e}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;const translation$1={DRAG_AND_DROP_HERE:"ここに画像をドラッグ＆ドロップ",YOUR_IMAGE_WILL_NOT_BE_UPLOADED:"すべての処理がブラウザ上で行われるため、画像が外部に送信されることはありません。",HSV_HUE:"色相",HSV_SATURATION:"彩度",HSV_VALUE:"明度",COLOR_CODE:"カラーコード",EXAMPLE:"サンプル"},langja={translation:translation$1},translation={DRAG_AND_DROP_HERE:"Drag and drop an image here",YOUR_IMAGE_WILL_NOT_BE_UPLOADED:"All processing occurs in your browser, guaranteeing that your images never leave your device.",HSV_HUE:"Hue",HSV_SATURATION:"Saturation",HSV_VALUE:"Value",COLOR_CODE:"Color code",EXAMPLE:"Example"},langen={translation},getLangKey=()=>navigator.language.toLowerCase().startsWith("ja")?"ja":"en";instance.use(initReactI18next).init({resources:{ja:langja,en:langen},lng:getLangKey(),fallbackLng:"en",interpolation:{escapeValue:!1}});createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
